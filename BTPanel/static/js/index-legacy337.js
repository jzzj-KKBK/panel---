!function(){function e(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var n,r,a="function"==typeof Symbol?Symbol:{},l=a.iterator||"@@iterator",u=a.toStringTag||"@@toStringTag";function o(e,a,l,u){var o=a&&a.prototype instanceof c?a:c,s=Object.create(o.prototype);return t(s,"_invoke",function(e,t,a){var l,u,o,c=0,s=a||[],f=!1,v={p:0,n:0,v:n,a:d,f:d.bind(n,4),d:function(e,t){return l=e,u=0,o=n,v.n=t,i}};function d(e,t){for(u=e,o=t,r=0;!f&&c&&!a&&r<s.length;r++){var a,l=s[r],d=v.p,p=l[2];e>3?(a=p===t)&&(o=l[(u=l[4])?5:(u=3,3)],l[4]=l[5]=n):l[0]<=d&&((a=e<2&&d<l[1])?(u=0,v.v=t,v.n=l[1]):d<p&&(a=e<3||l[0]>t||t>p)&&(l[4]=e,l[5]=t,v.n=p,u=0))}if(a||e>1)return i;throw f=!0,t}return function(a,s,p){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,p),u=s,o=p;(r=u<2?n:o)||!f;){l||(u?u<3?(u>1&&(v.n=-1),d(u,o)):v.n=o:v.v=o);try{if(c=2,l){if(u||(a="next"),r=l[a]){if(!(r=r.call(l,o)))throw TypeError("iterator result is not an object");if(!r.done)return r;o=r.value,u<2&&(u=0)}else 1===u&&(r=l.return)&&r.call(l),u<2&&(o=TypeError("The iterator does not provide a '"+a+"' method"),u=1);l=n}else if((r=(f=v.n<0)?o:e.call(t,v))!==i)break}catch(r){l=n,u=1,o=r}finally{c=1}}return{value:r,done:f}}}(e,l,u),!0),s}var i={};function c(){}function s(){}function f(){}r=Object.getPrototypeOf;var v=[][l]?r(r([][l]())):(t(r={},l,function(){return this}),r),d=f.prototype=c.prototype=Object.create(v);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,t(e,u,"GeneratorFunction")),e.prototype=Object.create(d),e}return s.prototype=f,t(d,"constructor",f),t(f,"constructor",s),s.displayName="GeneratorFunction",t(f,u,"GeneratorFunction"),t(d),t(d,u,"Generator"),t(d,l,function(){return this}),t(d,"toString",function(){return"[object Generator]"}),(e=function(){return{w:o,m:p}})()}function t(e,n,r,a){var l=Object.defineProperty;try{l({},"",{})}catch(e){l=0}t=function(e,n,r,a){function u(n,r){t(e,n,function(e){return this._invoke(n,r,e)})}n?l?l(e,n,{value:r,enumerable:!a,configurable:!a,writable:!a}):e[n]=r:(u("next",0),u("throw",1),u("return",2))},t(e,n,r,a)}function n(e,t,n,r,a,l,u){try{var o=e[l](u),i=o.value}catch(e){return void n(e)}o.done?t(i):Promise.resolve(i).then(r,a)}function r(e){return function(){var t=this,r=arguments;return new Promise(function(a,l){var u=e.apply(t,r);function o(e){n(u,a,l,o,i,"next",e)}function i(e){n(u,a,l,o,i,"throw",e)}o(void 0)})}}function a(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}System.register(["./base-lib-legacy.js?v=1756369731","./utils-lib-legacy.js?v=1756369731","./index-legacy59.js?v=1756369731","./form-item-legacy.js?v=1756369731","./__commonjsHelpers__-legacy.js?v=1756369731","./useMethod-legacy7.js?v=1756369731","./validator-legacy.js?v=1756369731","./index-legacy104.js?v=1756369731","./column-legacy.js?v=1756369731","./site-legacy.js?v=1756369731","./index-legacy103.js?v=1756369731","./useMethod-legacy6.js?v=1756369731","./firewall-legacy.js?v=1756369731","./useStore-legacy5.js?v=1756369731","./useMethod-legacy9.js?v=1756369731"],function(t,n){"use strict";var l,u,o,i,c,s,f,v,d,p,m,y,b,g,h,j,w,x,_,O,S,E,k,H,V,A,G,T,q,P,C,F,M,U,I;return{setters:[function(e){l=e.c,u=e.g,o=e.p,i=e.a4,c=e.H,s=e.x,f=e.q,v=e.v,d=e.e,p=e.ag,m=e.B,y=e.n,b=e.af,g=e.aj,h=e.ai,j=e.S,w=e.bq,x=e.i},function(e){_=e.G,O=e.W},function(e){S=e.f,E=e.a,k=e.e,H=e.b,V=e.h,A=e.c,G=e.r,T=e.i,q=e.g,P=e.d,C=e.m},function(e){F=e.o,M=e.h,U=e.k,I=e.b},null,null,null,null,null,null,null,null,null,null,null],execute:function(){var n={class:"py-[1rem] px-[3rem]"};var z="!w-[300px]";t("default",l({__name:"index",props:{compData:{type:Object,default:function(){return{}}}},setup:function(t,l){var B,D=l.expose,N=t.compData,W=N.isEdit,$=N.row,J=u(function(){return 0===S.value?[{content:'<span class="text-[#dc2626]">全部：捕获当前域名下，所有邮件（包括不存在的邮箱的邮件）</span>',isHtml:!0},{content:'<span class="text-[#dc2626]">不存在：捕获当前域名下，不存在的邮箱的邮件</span>',isHtml:!0},{content:'<span class="text-[#dc2626]">前缀：捕获当前域名下，以指定字符串的开头的邮箱（邮箱可以不存在）的邮件</span>',isHtml:!0},{content:'<span class="text-[#dc2626]">后缀：捕获当前域名下，邮箱地址@以前的部分以指定字符串的结尾的邮箱（邮箱可以不存在）的邮件</span>',isHtml:!0},{content:'<span class="text-[#dc2626]">包含：捕获当前域名下，邮箱地址@以前的部分包含指定字符串的邮箱（邮箱可以不存在）的邮件</span>',isHtml:!0}]:[{content:'<span class="text-[#dc2626]">转发示例：配置bt.cn转发到btmail.cn，则：a@bt.cn->a@btmail.cn、b@bt.cn->b@btmail.cn、...</span>',isHtml:!0}]}),K=[{label:"前缀",value:"prefix"},{label:"后缀",value:"suffix"},{label:"包含",value:"contain"},{label:"全部",value:"all"},{label:"不存在",value:"none"}],L=_({data:function(){return E.value},options:function(e){return u(function(){return[].concat(a(0===S.value?function(e){return[M(" ",function(){return d(b,{disabled:W,modelValue:e.value.type,"onUpdate:modelValue":function(t){return e.value.type=t},onChange:function(t){e.value.rule_str="",e.value.rule="all",y(function(){X.value&&X.value.clearValidate(),X.value&&X.value.validateField("receiver")})}},{default:function(){return[d(p,{value:"mail",size:"default"},{default:function(){return[m("邮箱")]}}),d(p,{class:"ml-[6rem]",value:"wildcard",size:"default"},{default:function(){return[m("通配符")]}})]}})},"type"),U("域名","domain",P.value,{attrs:{class:z,disabled:W,onChange:function(t){e.value.rule_str="",q(t)}},rules:[{required:!0,message:"请选择域名"}]}),"mail"===e.value.type?U("邮箱","rule_str",C.value,{attrs:{class:z,disabled:!e.value.domain||W,placeholder:"请先选择域名，再选择邮箱"},rules:[{validator:function(t,n,r){if("mail"===e.value.type)n?r():r(new Error("请选择邮箱"));else{if("none"===e.value.rule||"all"===e.value.rule)return void r();n?r():r(new Error("请输入规则内容"))}}}]}):M("规则",function(){var t,n,r="none"===e.value.rule||"all"===e.value.rule;return d("div",{class:"flex items-center"},[d(g,{disabled:W,modelValue:e.value.rule,"onUpdate:modelValue":function(t){return e.value.rule=t},onChange:function(t){"none"!==t&&"all"!==t||(e.value.rule_str="",y(function(){X.value&&X.value.clearValidate("rule_str")}))},placeholder:"选择规则",class:"!w-[100px]"},(n=t=K.map(function(e){return d(h,{label:e.label,value:e.value},null)}),"function"==typeof n||"[object Object]"===Object.prototype.toString.call(n)&&!x(n)?t:{default:function(){return[t]}})),d(j,{modelValue:e.value.rule_str,"onUpdate:modelValue":function(t){return e.value.rule_str=t},disabled:r||W,placeholder:"输入规则",class:"!w-[190px] ml-[10px]"},null)])},"rule_str",{rules:[{validator:function(t,n,r){"none"!==e.value.rule&&"all"!==e.value.rule?n?r():r(new Error("请输入规则内容")):r()}}]}),I("接收者","receiver",{attrs:{placeholder:"输入需要转发的邮箱",type:"textarea",rows:4,class:z},rules:[{required:!0,message:"请输入需要转发的邮箱",validator:function(e,t,n){t?n():n(new Error("请输入需要转发的邮箱"))}}]})]}(e):[U("域名","domain",P.value,{attrs:{class:z,disabled:W},rules:[{required:!0,message:"请选择域名"}]}),I("接收域名","receiver",{attrs:{placeholder:"输入需要接收的域名",class:z},rules:[{required:!0,message:"请输入需要接收的域名"}]})]),[F("状态","status",{attrs:{class:"!w-[50px]"}})])})},submit:(B=r(e().m(function t(n,r){var a;return e().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,r();case 1:if(!W){e.n=3;break}return e.n=2,k(n.value,$.address);case 2:a=e.v,e.n=5;break;case 3:return e.n=4,H(n.value);case 4:a=e.v;case 5:return e.a(2,a)}},t)})),function(e,t){return B.apply(this,arguments)})}),Q=L.BtForm,R=L.submit,X=L.ref,Y=function(){var t=r(e().m(function t(){var n;return e().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,R();case 1:return n=e.v,e.a(2,n)}},t)}));return function(){return t.apply(this,arguments)}}();return o(r(e().m(function t(){return e().w(function(e){for(;;)switch(e.n){case 0:if(!W){e.n=1;break}V($),e.n=2;break;case 1:return e.n=2,A();case 2:return e.a(2)}},t)}))),i(function(){G()}),D({onConfirm:Y}),function(e,t){var r=O,a=w;return c((f(),v("div",n,[d(s(Q)),d(r,{options:s(J)},null,8,["options"])])),[[a,s(T)]])}}}))}}})}();
