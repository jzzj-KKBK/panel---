import{G as s,h6 as a,M as e,bU as t}from"./utils-lib.js?v=1756369731";import{c as r,ay as m,r as o,q as p,v as i,e as l,x as u}from"./base-lib.js?v=1756369731";import{j as c}from"./form-item.js?v=1756369731";import"./__commonjsHelpers__.js?v=1756369731";import"./index104.js?v=1756369731";const d={class:"flex flex-col p-[1.6rem] lib-box"},n=r({__name:"update-password",props:{compData:{default:()=>({id:"",path:"",isInit:!1,service_name:""})}},setup(r,{expose:n}){const _=r,b=m("popupClose",()=>{}),{BtForm:q,submit:f}=s({data:()=>({mysql_path:"".concat(_.compData.path,"/").concat(_.compData.service_name).replace(/\/+/g,"/"),mysql_pwd:"",id:_.compData.id}),options:s=>o([c("新密码","mysql_pwd",{attrs:{class:"!w-[24rem]",placeholder:"请输入新密码"},rules:[{required:!0,message:"请输入新密码",trigger:["blur"]},{min:8,message:"密码长度至少8位",trigger:["blur"]},{validator:(s,a,e)=>{/"|[\u4e00-\u9fa5]/.test(a)?e(new Error("密码不能包含特殊字符")):e()},trigger:["blur"]}]},()=>{s.value.mysql_pwd=t(16)})]),submit:async(s,t,r)=>{await t();const m=await a({id:s.value.id,mysql_pwd:s.value.mysql_pwd,mysql_path:s.value.mysql_path});e.request(m),m.status&&b()}});return n({onConfirm:f}),(s,a)=>(p(),i("div",d,[l(u(q))]))}});export{n as default};
