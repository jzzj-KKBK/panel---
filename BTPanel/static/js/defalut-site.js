import{jg as a,at as e,K as s,jh as l,W as t}from"./utils-lib.js?v=1756369731";import{c as u,r as n,p as o,G as m,H as i,x as c,q as d,v as p,y as r,e as v,A as f,F as _,a_ as y,M as b,P as j,B as x,ai as g,aj as h,D as k}from"./base-lib.js?v=1756369731";import"./__commonjsHelpers__.js?v=1756369731";const w={class:"p-[20px]"},V=u({__name:"defalut-site",setup(u){const V=n(!1),q=n([{name:"默认站点",value:"default"},{name:"自定义站点",value:"custom"}]),H=n("default"),P=async()=>{const a={site_name:"未设置默认站点"===H.value?"0":H.value};V.value=!0,await s({loading:"正在设置默认站点，请稍后...",request:l(a),message:!0}),V.value=!1};return o(()=>{(async()=>{V.value=!0;try{const{data:e}=await a();H.value=e.data.defaultSite,e.data.defaultSite||(H.value="未设置默认站点"),q.value=e.data.sites,q.value.unshift({name:"未设置默认站点",value:"未设置默认站点"})}catch(s){e(s)}finally{V.value=!1}})()}),(a,e)=>{const s=g,l=h,u=k,n=t,o=m("bt-loading");return i((d(),p("div",w,[e[2]||(e[2]=r("span",{class:"mr-[12px]"},"默认站点",-1)),v(l,{modelValue:c(H),"onUpdate:modelValue":e[0]||(e[0]=a=>j(H)?H.value=a:null),class:"!w-[32rem]"},{default:f(()=>[(d(!0),p(_,null,y(c(q),(a,e)=>(d(),b(s,{key:e,label:a.name,value:a.name},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),v(u,{type:"primary",onClick:P,class:"!mt-[20px] !block"},{default:f(()=>[...e[1]||(e[1]=[x("保存",-1)])]),_:1}),v(n,{class:"ml-[20px] my-[20px]",options:[{content:"设置默认站点后,所有未绑定的域名和IP都被定向到默认站点"},{content:"可有效防止恶意解析"}]})])),[[o,c(V)]])}}});export{V as default};
