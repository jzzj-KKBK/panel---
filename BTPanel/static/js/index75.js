import{l as e,L as t,M as s,u as a,aM as i,a6 as n,p as l,a7 as o,a8 as r}from"./utils-lib.js?v=1756369731";import{_ as p}from"./index103.js?v=1756369731";import{_ as m}from"./index.vue_vue_type_script_setup_true_lang6.js?v=1756369731";import{B as u}from"./index131.js?v=1756369731";import{u as c}from"./index141.js?v=1756369731";import{j as d,r as _,c as f,s as v,w as g,e as y,B as b,p as x,n as j,q as h,v as T,x as I,A as L,y as S}from"./base-lib.js?v=1756369731";import{f as k}from"./validator.js?v=1756369731";import"./index.vue_vue_type_style_index_0_scoped_b3c4124c_lang.js?v=1756369731";import{a as w,d as B,g as O,u as C}from"./column.js?v=1756369731";import{b as E,d as R,e as P,f as M,h as A,i as D,u as H,a as V,l as q,j as J}from"./useController6.js?v=1756369731";import{u as N,S as z}from"./useStore4.js?v=1756369731";const{activeType:F,isRefreshList:G}=N(),{addGeneralProject:K,setSiteInfo:Q}=z(),U=()=>{e({title:"添加HTML项目",area:62,component:()=>t(()=>import("./index374.js?v=1756369731"),__vite__mapDeps([]),import.meta.url),showFooter:!0})},W=(s,a="")=>{Q(s,a),e({title:"HTML项目管理["+s.name+"] -- 添加时间["+s.addtime+"]",area:[84,72],component:()=>t(()=>import("./index375.js?v=1756369731"),__vite__mapDeps([]),import.meta.url)})},X=(e,t)=>{k({type:"dir",path:e,change:e=>{t&&t(e)}})},Y=async e=>{var t;try{const a={...e,port:80};-1!==a.webname.split("\n")[0].indexOf(":")&&(a.port=a.webname.split("\n")[0].split(":")[1]);let i=a.webname.split("\n").filter(e=>e.length).slice(1);a.webname=JSON.stringify({domain:a.webname.split("\n")[0],domainlist:i,count:i.length}),a.ftp||(delete a.ftp_username,delete a.ftp_password);const n=await K(a);return(null==(t=null==n?void 0:n.data)?void 0:t.siteStatus)?(G.value=!0,s.success("添加成功"),!0):(s.error(n.msg),!1)}catch(a){}},Z=d("SITE-HTML-STORE",()=>({pluginInfo:_({})})),$=f({__name:"index",setup(e){a();const{getSiteList:s}=z(),{activeType:d,isRefreshList:_}=v(z()),{pluginInfo:f}=v(Z());g(P,e=>{(null==e?void 0:e.pluginInfo)&&(f.value=e.pluginInfo)},{immediate:!0,deep:!0});const{BtOperation:k}=i({options:[{type:"button",label:"添加项目",active:!0,onClick:U},{type:"custom",render:()=>y(u,{class:"ml-1rem",isRequest:!1,pluginInfo:f.value},null)}]}),N=c({key:"type_id",name:"PHP分类",options:()=>[{label:"全部分类",value:"all"}],event:A,ignore:["0"],field:"type_name"}),F=r([H(),V({classList:J}),{label:"删除项目",value:"delete",event:q}]),{BtTable:G,BtSearch:K,BtRefresh:Q,BtPage:X,BtColumn:Y,BtTableCategory:$,BtBatch:ee,refresh:te}=n({request:e=>{const{type_id:t,...a}=e;return s({data:JSON.stringify({...a,type_id:l(t)||"all"===t?"":t})})},columns:[w(),E({onClick:e=>W(e)}),B(),O({table:"sites",width:200}),R({onClick:e=>W(e,"ssl")}),C([{title:"设置",onClick:e=>W(e)},{title:"删除",onClick:e=>D(e)}])],extension:[N,F,o(_)],empty:()=>y("span",null,[b("您的列表为空，您可以"),y("span",{class:"bt-link",onClick:U},[b("添加一个项目")])])});return x(()=>{j(()=>{t(()=>import("./index374.js?v=1756369731"),__vite__mapDeps([]),import.meta.url),t(()=>import("./index375.js?v=1756369731"),__vite__mapDeps([]),import.meta.url)})}),(e,t)=>{const s=p;return h(),T("div",null,[y(m,{ref_key:"envRef",ref:P,onInit:I(te)},null,8,["onInit"]),y(s,null,{"header-left":L(()=>[y(I(k)),S("div",{class:"flex items-center ml-1rem",onClick:t[0]||(t[0]=(...e)=>I(M)&&I(M)(...e))},[...t[1]||(t[1]=[S("i",{class:"svgtofont-desired text-[1.6rem]"},null,-1),S("span",{class:"bt-link"},"需求反馈",-1)])])]),"header-right":L(()=>[y(I($),{class:"!w-[200px] mr-[10px]"}),y(I(K),{class:"mr-[10px]",placeholder:"请输入项目名称或备注"}),y(I(Q),{class:"mr-[10px]"}),y(I(Y))]),content:L(()=>[y(I(G))]),"footer-left":L(()=>[y(I(ee))]),"footer-right":L(()=>[y(I(X))]),_:1})])}}}),ee=Object.freeze(Object.defineProperty({__proto__:null,default:$},Symbol.toStringTag,{value:"Module"}));export{Y as a,ee as i,X as o};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
