import{c as a,k as e,r as s,U as l,p as r,q as o,v as t,e as m,A as n,x as u,Q as i,a9 as c,a7 as d}from"./base-lib.js?v=1756369731";import{K as p,c7 as f,jy as v,ag as _,e as b}from"./utils-lib.js?v=1756369731";import{p as j}from"./useMethods.js?v=1756369731";import"./__commonjsHelpers__.js?v=1756369731";import"./column.js?v=1756369731";import"./index104.js?v=1756369731";const y={class:"flex flex-col p-[1.6rem] lib-box"},x=b(a({__name:"pull-mirror-select-dialog",props:{compData:{default:()=>({})}},setup(a,{expose:b}){const x=a,g=e({name:"",id:""}),h=s(),q={name:[{required:!0,message:"请选择仓库",trigger:"blur"}]},k=l([]);return r(async()=>{g.id=x.compData.id,p({request:f(),data:Array,success:a=>{var e;a.forEach(a=>{k.value.push({value:a.url,label:"".concat(a.name).concat("docker.io"===a.url?"":"(".concat(a.url,")")),url:a.url,name:a.name})}),g.name=null==(e=k.value[0])?void 0:e.value}})}),b({onConfirm:async a=>{try{await h.value.validate(async e=>{if(e){let e={template_id:x.compData.id,name:k.value.find(a=>a.url==g.name).name,url:k.value.find(a=>a.url==g.name).url};p({request:v({data:JSON.stringify(e)})}),j(),a()}})}catch(e){}}}),(a,e)=>{const s=_,l=c,r=d;return o(),t("div",y,[m(r,{ref_key:"cmdFormRef",ref:h,model:u(g),rules:q,onSubmit:e[1]||(e[1]=i(()=>{},["prevent"]))},{default:n(()=>[m(l,{prop:"name",label:"仓库名"},{default:n(()=>[m(s,{modelValue:u(g).name,"onUpdate:modelValue":e[0]||(e[0]=a=>u(g).name=a),options:u(k),class:"w-[44rem]"},null,8,["modelValue","options"])]),_:1})]),_:1},8,["model"])])}}}),[["__scopeId","data-v-69999ff7"]]);export{x as default};
