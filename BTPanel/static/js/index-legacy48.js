!function(){var e=["document"];function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function a(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?n(Object(a),!0).forEach(function(t){r(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function r(e,t,n){return(t=l(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,o,i,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(a=o.call(n)).done)&&(l.push(a.value),l.length!==t);s=!0);}catch(e){u=!0,r=e}finally{try{if(!s&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw r}}return l}}(e,t)||u(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,l(a.key),a)}}function l(e){var n=function(e,n){if("object"!=t(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,n||"default");if("object"!=t(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==t(n)?n:n+""}function s(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){if(e){if("string"==typeof e)return c(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}function f(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",r=n.toStringTag||"@@toStringTag";function o(n,a,r,o){var s=a&&a.prototype instanceof l?a:l,u=Object.create(s.prototype);return d(u,"_invoke",function(n,a,r){var o,l,s,u=0,c=r||[],f=!1,d={p:0,n:0,v:e,a:m,f:m.bind(e,4),d:function(t,n){return o=t,l=0,s=e,d.n=n,i}};function m(n,a){for(l=n,s=a,t=0;!f&&u&&!r&&t<c.length;t++){var r,o=c[t],m=d.p,p=o[2];n>3?(r=p===a)&&(s=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=m&&((r=n<2&&m<o[1])?(l=0,d.v=a,d.n=o[1]):m<p&&(r=n<3||o[0]>a||a>p)&&(o[4]=n,o[5]=a,d.n=p,l=0))}if(r||n>1)return i;throw f=!0,a}return function(r,c,p){if(u>1)throw TypeError("Generator is already running");for(f&&1===c&&m(c,p),l=c,s=p;(t=l<2?e:s)||!f;){o||(l?l<3?(l>1&&(d.n=-1),m(l,s)):d.n=s:d.v=s);try{if(u=2,o){if(l||(r="next"),t=o[r]){if(!(t=t.call(o,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(s=TypeError("The iterator does not provide a '"+r+"' method"),l=1);o=e}else if((t=(f=d.n<0)?s:n.call(a,d))!==i)break}catch(t){o=e,l=1,s=t}finally{u=1}}return{value:t,done:f}}}(n,r,o),!0),u}var i={};function l(){}function s(){}function u(){}t=Object.getPrototypeOf;var c=[][a]?t(t([][a]())):(d(t={},a,function(){return this}),t),m=u.prototype=l.prototype=Object.create(c);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,d(e,r,"GeneratorFunction")),e.prototype=Object.create(m),e}return s.prototype=u,d(m,"constructor",u),d(u,"constructor",s),s.displayName="GeneratorFunction",d(u,r,"GeneratorFunction"),d(m),d(m,r,"Generator"),d(m,a,function(){return this}),d(m,"toString",function(){return"[object Generator]"}),(f=function(){return{w:o,m:p}})()}function d(e,t,n,a){var r=Object.defineProperty;try{r({},"",{})}catch(e){r=0}d=function(e,t,n,a){function o(t,n){d(e,t,function(e){return this._invoke(t,n,e)})}t?r?r(e,t,{value:n,enumerable:!a,configurable:!a,writable:!a}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},d(e,t,n,a)}function m(e,t,n,a,r,o,i){try{var l=e[o](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(a,r)}function p(e){return function(){var t=this,n=arguments;return new Promise(function(a,r){var o=e.apply(t,n);function i(e){m(o,a,r,i,l,"next",e)}function l(e){m(o,a,r,i,l,"throw",e)}i(void 0)})}}System.register(["./base-lib-legacy.js?v=1756369731","./utils-lib-legacy.js?v=1756369731","./validator-legacy.js?v=1756369731","./index-legacy110.js?v=1756369731","./index-legacy104.js?v=1756369731","./index-legacy105.js?v=1756369731","./store-legacy3.js?v=1756369731","./store-legacy4.js?v=1756369731","./store-legacy5.js?v=1756369731","./column-legacy.js?v=1756369731","./hooks-legacy.js?v=1756369731"],function(n,r){"use strict";var l,c,d,m,v,h,y,g,b,x,w,k,_,S,C,I,P,T,j,L,O,M,B,D,A,F,R,E,N,z,H,V,U,W,q,G,$,K,J,Q,Z,X,Y,ee,te,ne,ae,re,oe,ie,le,se,ue,ce,fe,de,me,pe,ve,he,ye,ge,be,xe,we,ke,_e,Se,Ce,Ie,Pe,Te,je,Le,Oe,Me,Be,De,Ae,Fe,Re,Ee,Ne,ze,He,Ve,Ue,We,qe,Ge,$e,Ke,Je,Qe,Ze,Xe,Ye,et,tt,nt,at,rt,ot,it,lt,st,ut,ct,ft,dt,mt,pt,vt,ht,yt,gt,bt,xt,wt,kt,_t,St,Ct,It,Pt,Tt,jt,Lt,Ot,Mt,Bt,Dt,At,Ft,Rt,Et,Nt,zt;return{setters:[function(e){l=e.c,c=e.r,d=e.t,m=e.p,v=e.x,h=e.q,y=e.v,g=e.y,b=e.z,x=e.C,w=e.s,k=e.g,_=e.e,S=e.A,C=e.M,I=e.N,P=e.B,T=e.d,j=e.ax,L=e.bs,O=e.w,M=e.j,B=e.aE,D=e.n,A=e.F,F=e.a_,R=e.J,E=e.bt,N=e.bu,z=e.as,H=e.k,V=e.P,U=e.al,W=e.G,q=e.L,G=e.H,$=e._,K=e.bv,J=e.bw,Q=e.D,Z=e.aV,X=e.I,Y=e.aW,ee=e.ba,te=e.aQ,ne=e.K,ae=e.b3,re=e.a4,oe=e.bx,ie=e.b8,le=e.b9,se=e.a0,ue=e.by,ce=e.bz,fe=e.aH,de=e.bA,me=e.bB,pe=e.U,ve=e.Q,he=e.bC,ye=e.bD,ge=e.bq,be=e.O,xe=e.bE,we=e.S,ke=e.au,_e=e.aw,Se=e.W,Ce=e.X,Ie=e.bF,Pe=e.ai,Te=e.aj,je=e.b},function(e){Le=e.u,Oe=e.K,Me=e.cx,Be=e.l,De=e.L,Ae=e.cy,Fe=e.e,Re=e.c,Ee=e.o,Ne=e.cz,ze=e.b,He=e.Z,Ve=e.aq,Ue=e.P,We=e.ae,qe=e.cA,Ge=e.cB,$e=e.ai,Ke=e.v,Je=e.aA,Qe=e.r,Ze=e.p,Xe=e.cC,Ye=e.cD,et=e.k,tt=e.cE,nt=e.at,at=e.bT,rt=e.cF,ot=e.M,it=e.cG,lt=e.i,st=e.bx,ut=e.af,ct=e.R,ft=e.d,dt=e.h,mt=e.x,pt=e.I},function(e){vt=e.g,ht=e.b,yt=e.e,gt=e.t,bt=e.l,xt=e.p,wt=e.f},function(e){kt=e._},function(e){_t=e._},function(e){St=e._},function(e){Ct=e.H},function(e){It=e.H},function(e){Pt=e.c,Tt=e.s,jt=e.k,Lt=e.g,Ot=e.i,Mt=e.d,Bt=e.a,Dt=e.b,At=e.e,Ft=e.H},function(e){Rt=e.b,Et=e.u,Nt=e.o},function(e){zt=e.c}],execute:function(){var Ht={class:"icon-end-time voucher-logo"},Vt={class:"ml-[4px] font-bold text-[#ef9f00]"},Ut=l({__name:"index",setup:function(e){var t=c([]),n=Le(),a=n.payment,o=n.aliyunEcsLtd,i=d(a.value),l=(i.voucherOpenTime,i.isGetCoupon),s=function(){var e=p(f().m(function e(){return f().w(function(e){for(;;)switch(e.n){case 0:Oe({request:Me(),data:[Array,t]});case 1:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),u=function(){o.value||Be({area:40,component:function(){return De(function(){return r.import("./index-legacy311.js?v=1756369731")},void 0,r.meta.url)},customClass:"voucherFetchView",compData:{isCoupon:t.value,isHome:!0}})},w=function(){var e=p(f().m(function e(){var t;return f().w(function(e){for(;;)switch(e.n){case 0:t=new Date((new Date).toLocaleDateString()).getTime()+6048e5-1,t=Math.floor(t>0?t/1e3:t),Oe({request:Ae({limit_time:t})}),l.value=!0;case 1:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}();return m(function(){var e=Number(sessionStorage.getItem("voucherOpenTime"));if(-100!==e){if(e)e-Math.floor(Date.now()/1e3)<=0&&(l.value=!0,sessionStorage.removeItem("voucherOpenTime"),w());vt({promises:[s],delay:3e3})}}),function(e,n){return v(t).length>0&&!v(l)&&!v(o)?(h(),y("div",{key:0,class:"flex items-center px-[1rem] py-[.4rem] mr-[8px] rounded-[2px] recom-bg",onClick:u},[g("span",Ht,[g("span",Vt,"您有"+b(v(t).length)+"个优惠券待领取",1)])])):x("",!0)}}}),Wt=Fe(Ut,[["__scopeId","data-v-f2661b93"]]),qt={class:"module-ui home-header"},Gt={class:"home-header-left"},$t={class:"mr-[8px] flex items-center"},Kt={class:"cursor-pointer flex items-center mr-[4px] ml-[4px]"},Jt={class:"!mb-4px inline-block"},Qt={class:"block"},Zt={class:"home-header-right"},Xt=l({__name:"index",setup:function(e){var t=Le(),n=t.payment,a=t.aliyunEcsLtd,o=t.forceLtd,i=t.isHideAd,l=t.mainWidth,u=d(n.value).authType,c=T(function(){return De(function(){return r.import("./index-legacy312.js?v=1756369731")},void 0,r.meta.url)}),f=T(function(){return De(function(){return r.import("./index-legacy179.js?v=1756369731")},void 0,r.meta.url)}),m=Ct(),p=w(m),O=p.bindUser,M=p.systemInfo,B=p.panelInfo,D=p.panelVersion,A=k(function(){return l.value<968}),F=k(function(){var e;return M.value.name?null===(e=M.value.name.split(" ")[0])||void 0===e?void 0:e.toLowerCase():""});return k(function(){return(!a.value||"ltd"===n.value.authType)&&(!o.value||"ltd"===n.value.authType)}),function(e,t){var n=St,a=j,r=_t,o=kt,l=Wt,d=Re,p=L;return h(),y("div",qt,[g("div",Gt,[_(a,{width:"328","popper-class":"el-popover-shadow",trigger:v(O)?"hover":"contextmenu"},{reference:S(function(){return[g("div",$t,[_(n,{name:"tools-user",size:"26",class:"mr-[4px]"}),v(A)?x("",!0):(h(),y("span",{key:0,class:"user-phone",onClick:t[0]||(t[0]=function(){return v(ht)(v(O)?"切换宝塔账号":"绑定宝塔账号，享受更多服务")})},b(v(O)?v(O):"未绑定帐号，点击绑定"),1))])]}),default:S(function(){return[(h(),C(I(v(c))))]}),_:1},8,["trigger"]),_(r),_(a,{width:"250","popper-class":"el-popover-shadow"},{reference:S(function(){return[g("span",Kt,[_(n,{name:"system-"+v(F),size:"18",class:"mr-[4px]"},null,8,["name"]),g("span",null,b(v(M).name||"获取中"),1)])]}),default:S(function(){return[g("div",null,[g("span",Jt,"系统："+b(v(M).simpleName||"获取中"),1),g("span",Qt," 持续运行："+b(v(B).runningDays||"获取中"),1)])]}),_:1}),v(i)?x("",!0):(h(),C(r,{key:0})),v(i)?x("",!0):(h(),C(a,{key:1,width:"580",disabled:"free"!==v(u),"show-arrow":!1,"popper-style":"padding: 0;border-radius: 16px;overflow: hidden;","popper-class":"el-product-state-popover"},{reference:S(function(){return[_(o,{"is-home":!0,"disable-pro":!0})]}),default:S(function(){return[(h(),C(I(v(f))))]}),_:1},8,["disabled"])),v(i)||v(A)?x("",!0):(h(),C(l,{key:2}))]),g("div",Zt,[v(B).isBeta?(h(),C(d,{key:0,class:"mr-[16px] reset-link bug-feedback",href:"https://www.bt.cn/bbs/forum-39-1.html"},{default:S(function(){return s(t[8]||(t[8]=[P("[找Bug奖宝塔币]",-1)]))}),_:1})):x("",!0),v(A)?x("",!0):(h(),C(a,{key:1,width:"1",placement:"bottom",trigger:"hover"},{reference:S(function(){return[g("div",{class:"header-operation-icon",onClick:t[1]||(t[1]=function(e){return v(m).jumpRouter("ui")})},[_(n,{name:"tools-theme",size:"18",class:"hob-icon"})])]}),default:S(function(){return[t[9]||(t[9]=g("div",{class:"text-[12px] text-center w-full"},"打开界面设置",-1))]}),_:1})),v(A)?x("",!0):(h(),C(a,{key:2,width:"1",placement:"bottom",trigger:"hover"},{reference:S(function(){return[g("div",{class:"header-operation-icon",onClick:t[2]||(t[2]=function(e){return v(m).jumpRouter("alarm")})},[_(n,{name:"tools-alarm",size:"18",class:"hob-icon"})])]}),default:S(function(){return[t[10]||(t[10]=g("div",{class:"text-[12px] text-center w-full"},"打开告警设置",-1))]}),_:1})),v(A)?x("",!0):(h(),C(a,{key:3,width:"20",placement:"bottom",trigger:"hover"},{reference:S(function(){return[g("div",{class:"header-operation-icon",onClick:t[3]||(t[3]=function(e){return v(yt)({type:7,isNoRate:!0,isCard:!0})})},[_(n,{name:"tools-feedback",size:"18",class:"hob-icon"})])]}),default:S(function(){return[t[11]||(t[11]=g("div",{class:"text-[12px] text-center w-full"},"打开需求反馈",-1))]}),_:1})),v(A)?x("",!0):(h(),C(r,{key:4})),g("span",{class:"versionInfo mx-[8px] bt-hover-link cursor-pointer",onClick:t[4]||(t[4]=function(){var e;return v(m).histVersionInfoDialog&&(e=v(m)).histVersionInfoDialog.apply(e,arguments)})}," v"+b((v(B).isBeta?"Beta ":"")+(v(D)||"获取中")),1),_(r),_(p,{class:"mr-[8px]","is-dot":"",hidden:1!==v(B).upgrade},{default:S(function(){return[g("span",{class:"bt-link header-operation-btn",title:"点击获取最新版面板程序",onClick:t[5]||(t[5]=function(){var e;return v(m).updateVersionDialog&&(e=v(m)).updateVersionDialog.apply(e,arguments)})},[_(n,{name:"tools-update",size:"18",class:"hob-icon"}),t[12]||(t[12]=g("span",null,"更新",-1))])]}),_:1},8,["hidden"]),g("span",{class:"bt-link header-operation-btn mr-[8px]",title:"修复面板会获取最新的面板代码程序，包含bug修复",onClick:t[6]||(t[6]=function(){var e;return v(m).onRepair&&(e=v(m)).onRepair.apply(e,arguments)})},[_(n,{name:"tools-repair",size:"18",class:"hob-icon"}),t[13]||(t[13]=g("span",null,"修复",-1))]),g("span",{class:"bt-link header-operation-btn",title:"点击可选择重启面板或重启服务器",onClick:t[7]||(t[7]=function(){var e;return v(m).restartSeverDialog&&(e=v(m)).restartSeverDialog.apply(e,arguments)})},[_(n,{name:"tools-restart",size:"18",class:"hob-icon"}),t[14]||(t[14]=g("span",null,"重启",-1))])])])}}}),Yt=Fe(Xt,[["__scopeId","data-v-802f21e0"]]),en=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.watchList=new Map;var t=It();this.refs=w(t),this.useHomeData()},t=[{key:"useRunCallback",value:function(){var e,t=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw o}}}}(this.watchList.entries());try{for(t.s();!(e=t.n()).done;){var n=o(e.value,2),a=n[0],r=n[1];a in this.refs&&r(this.refs[a].value)}}catch(i){t.e(i)}finally{t.f()}}},{key:"useHomeData",value:(l=p(f().m(function e(){var t=this;return f().w(function(e){for(;;)switch(e.n){case 0:this.stopWatching=O(this.refs.isRefreshData,function(e){e&&(t.useRunCallback(),t.refs.isRefreshData.value=!1)},{immediate:!0});case 1:return e.a(2)}},e,this)})),function(){return l.apply(this,arguments)})},{key:"useSetCallback",value:function(e,t){this.watchList.set(e,t)}},{key:"stopUseHomeData",value:function(){this.stopWatching&&this.stopWatching()}},{key:"unload",value:function(){this.watchList.size>0&&this.watchList.clear(),this.stopUseHomeData()}},{key:"getFirewallStatus",value:(a=p(f().m(function e(){return f().w(function(e){for(;;)switch(e.n){case 0:Be({area:45,component:function(){return De(function(){return r.import("./index-legacy313.js?v=1756369731")},void 0,r.meta.url)}});case 1:return e.a(2)}},e)})),function(){return a.apply(this,arguments)})}],t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n,a,l}(),tn=new en,nn=M("NOTICE-STORE",function(){var e=Le().panel,t=B(),n=c({memRealUsed:0,memTotal:0,memFree:0,memShared:0,memAvailable:0,memBuffers:0,memCached:0,memNewRealUsed:"0",memNewTotal:"0",memNewRealUsedList:[],memNewTotalList:[]}),a=c([]),r=c(!1),o=c(!1),i=c(!1),l=c(!1),s=c([]),u=c([]),d=k(function(){return 8888===e.value.port&&!e.value.noticeIgnore.port}),m=k(function(){return!(window.location.protocol.indexOf("https")>=0||e.value.noticeIgnore.https)}),v=k(function(){return r.value||o.value||d.value||m.value||i.value||l.value});tn.useSetCallback("memory",function(e){n.value=e;var t=n.value,a=t.memTotal-t.memRealUsed;r.value=a<64}),tn.useSetCallback("diskUsage",function(e){u.value=e,g()}),tn.useSetCallback("disk",function(e){a.value=e,a.value.some(function(e){return parseInt(e.data.inodes[3])>90})?(l.value=!0,s.value=[],s.value=a.value.map(function(e){if(parseInt(e.data.inodes[3])>90)return e.data.path})):l.value=!1});var h=function(){var t=p(f().m(function t(n,a){var r,o;return f().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,Ee({title:"忽略通知",content:"是否忽略".concat(a,"通知，不再提醒？")});case 1:return t.n=2,Ne({name:n});case 2:r=t.v,o=r.data,e.value.noticeIgnore[n]=!0,ze().request(o),t.n=4;break;case 3:t.p=3,t.v;case 4:return t.a(2)}},t,null,[[0,3]])}));return function(e,n){return t.apply(this,arguments)}}(),y=function(){var e=p(f().m(function e(){return f().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Ee({type:"calc",title:"释放内存",content:"若您的站点处于有大量访问的状态，释放内存可能带来无法预测的后果，您确定现在就释放内存吗？"});case 1:Oe({loading:"正在释放内存，请稍后...",request:Pt(),message:!0});case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),g=function(){u.value&&Number(u.value[2])<524288&&(i.value=!0)};return{noticeStatus:v,memoryStatus:r,usernameStatus:o,portStatus:d,httpsStatus:m,diskFullStatus:i,inodeFullStatus:l,inodePath:s,setNoticeStatus:h,checkFullDisk:g,onClear:y,editPortInfo:function(){window.localStorage.setItem("config-dialog","port"),t.push({path:"/config/common"})},jumpConfig:function(){window.localStorage.setItem("config-dialog","ssl"),t.push({path:"/config/common"})},jumpFiles:function(){t.push({path:"/files"})}}}),an={key:0,class:"module-ui !p-0 mx-[1.2rem] mb-[1.2rem]"},rn={class:"mr-16px"},on=["title"],ln=l({__name:"index",setup:function(e){var t=nn(),n=w(t),a=n.noticeStatus,r=n.memoryStatus,o=n.usernameStatus,i=n.portStatus,l=n.httpsStatus,u=n.diskFullStatus,d=n.inodeFullStatus,k=n.inodePath,I=c(!1);return m(function(){t.checkFullDisk(),D(function(){var e=setInterval(p(f().m(function t(){var n;return f().w(function(t){for(;;)switch(t.n){case 0:if(!window.$extension){t.n=2;break}return t.n=1,window.$extension();case 1:n=t.v,He(n.extensionElement)&&!n.extensionElement&&clearTimeout(e),n.extensionElement&&(n.extensionElement(),I.value=!0,clearTimeout(e));case 2:return t.a(2)}},t)})),1e3)})}),function(e,n){var c=Re,f=E,m=N;return h(),y("div",null,[v(a)?(h(),y("div",an,[_(m,{class:"playTips",height:"5.6rem",direction:"vertical"},{default:S(function(){return[v(r)?(h(),C(f,{key:1},{default:S(function(){return[n[4]||(n[4]=g("i",{class:"svgtofont-el-warning-filled mr-[8px] text-[1.8rem]"},null,-1)),n[5]||(n[5]=g("span",{class:"mr-[16px]"},"当前可用物理内存小于64M，这可能导致MySQL自动停止，站点502等错误，请尝试释放内存！",-1)),_(c,{type:"info",title:"该风险不可忽略，请尽快处理",class:"align-middle mr-[16px]",size:"1.4rem",disabled:!0,href:"javascript:;"},{default:S(function(){return s(n[2]||(n[2]=[P("[ 不可忽略 ]",-1)]))}),_:1}),_(c,{onClick:v(t).onClear,class:"align-middle flex items-center",size:"1.4rem"},{default:S(function(){return s(n[3]||(n[3]=[P("[ 立即清理 ]",-1)]))}),_:1},8,["onClick"])]}),_:1})):x("",!0),v(o)?(h(),C(f,{key:2},{default:S(function(){return[n[8]||(n[8]=g("i",{class:"svgtofont-el-warning-filled mr-[8px] text-[1.8rem]"},null,-1)),n[9]||(n[9]=g("div",{class:"mr-[16px]"},"当前面板用户为admin,这可能为面板安全带来风险！",-1)),_(c,{type:"info",title:"该风险不可忽略，请尽快处理",class:"align-middle mr-[16px]",size:"1.4rem",disabled:!0,href:"javascript:;"},{default:S(function(){return s(n[6]||(n[6]=[P("[ 不可忽略 ]",-1)]))}),_:1}),_(c,{onClick:v(gt),class:"align-middle flex items-center",size:"1.4rem"},{default:S(function(){return s(n[7]||(n[7]=[P("[ 立即修复 ] ",-1)]))}),_:1},8,["onClick"])]}),_:1})):x("",!0),v(i)?(h(),C(f,{key:3},{default:S(function(){return[n[12]||(n[12]=g("i",{class:"svgtofont-el-warning-filled mr-[8px] text-[1.8rem]"},null,-1)),n[13]||(n[13]=g("div",{class:"mr-[16px]"},"当前面板使用的是默认端口[8888]，可能存在入侵风险，请到面板设置中修改面板端口！",-1)),_(c,{type:"info",title:"该风险可忽略，但存在一定的风险，推荐修改面板端口",class:"align-middle mr-[16px]",size:"1.4rem",onClick:n[0]||(n[0]=function(e){return v(t).setNoticeStatus("port","面板端口")})},{default:S(function(){return s(n[10]||(n[10]=[P("[ 点击忽略 ]",-1)]))}),_:1}),_(c,{onClick:v(t).editPortInfo,target:"_self",class:"align-middle flex items-center",size:"1.4rem"},{default:S(function(){return s(n[11]||(n[11]=[P("[ 立即修复 ] ",-1)]))}),_:1},8,["onClick"])]}),_:1})):x("",!0),v(l)?(h(),C(f,{key:4},{default:S(function(){return[n[16]||(n[16]=g("i",{class:"svgtofont-el-warning-filled mr-[8px] text-[1.8rem]"},null,-1)),n[17]||(n[17]=g("div",{class:"mr-[16px]"},"警告！当前面板使用HTTP访问，可能存在被窃取敏感信息风险，请立即开启【面板SSL】。",-1)),_(c,{type:"info",title:"该风险可忽略，但存在一定的风险，推荐开启面板SSL访问",class:"align-middle mr-[16px]",disabled:!0,size:"1.4rem",onClick:n[1]||(n[1]=function(e){return v(t).setNoticeStatus("https","面板SSL")})},{default:S(function(){return s(n[14]||(n[14]=[P("[ 点击忽略 ]",-1)]))}),_:1}),_(c,{onClick:v(t).jumpConfig,class:"align-middle flex items-center",size:"1.4rem"},{default:S(function(){return s(n[15]||(n[15]=[P("[ 立即处理 ]",-1)]))}),_:1},8,["onClick"])]}),_:1})):x("",!0),v(u)?(h(),C(f,{key:5},{default:S(function(){return[n[19]||(n[19]=g("i",{class:"svgtofont-el-warning-filled mr-8px text-[1.8rem]"},null,-1)),n[20]||(n[20]=g("div",{class:"mr-16px"},"警告：检测到磁盘可用空间不足，无法访问面板数据库，请前往文件管理清理",-1)),_(c,{onClick:v(t).jumpFiles,class:"align-middle",size:"1.4rem"},{default:S(function(){return s(n[18]||(n[18]=[P("[ 立即前往 ]",-1)]))}),_:1},8,["onClick"])]}),_:1})):x("",!0),v(d)?(h(),C(f,{key:6},{default:S(function(){return[n[24]||(n[24]=g("i",{class:"svgtofont-el-warning-filled mr-8px text-[1.8rem]"},null,-1)),g("div",rn,[n[21]||(n[21]=P(" 警告：检测到磁盘【 ",-1)),g("div",{class:"inline-block",title:v(k).join("\n")},[(h(!0),y(A,null,F(v(k),function(e,t){return h(),y("span",{key:t},b(e),1)}),128))],8,on),n[22]||(n[22]=P(" 】Inode使用率超过90%，可用空间不足，请前往文件管理清理 ",-1))]),_(c,{onClick:v(t).jumpFiles,class:"align-middle",size:"1.4rem"},{default:S(function(){return s(n[23]||(n[23]=[P("[ 立即前往 ]",-1)]))}),_:1},8,["onClick"])]}),_:1})):x("",!0)]}),_:1})])):x("",!0),g("div",{id:"extension",class:R(v(I)?"module-ui !p-0 mx-[1.2rem] mb-[1.2rem]":"")},null,2)])}}}),sn=Fe(ln,[["__scopeId","data-v-e2f94c9e"]]),un=n("a",M("HOME-STATE-STORE",function(){var e=It(),t=Le(),n=t.payment,a=t.push,o=d(n.value).authType,i=c(0),l=c(12),s=c(!1),u=c(!1),m=z("colSpan",6),v=z("diskColSpan",6),h=z("stateHeight","22rem"),y=z("displayMode","single"),g=c([]),b=c("loadPopover"),x=c(!1),w=c(!0),k=c(null),S=!1,C=c([]),I=c({one:0,max:0,five:0,fifteen:0}),P=c({occupy:"",framework:"",coresOccupy:[0,0,0],cpuNumber:0,logicCores:0,cores:0,process:[0,0]}),T=c({memRealUsed:0,memTotal:0,memFree:0,memShared:0,memAvailable:0,memBuffers:0,memCached:0,memNewRealUsedList:[],memNewTotalList:[]}),j=c([]),L=H({memory:"success",cpu:"success",load:"success"}),O=c(null),M=c(!1),B=c(null),D=c(null),A=c(null),F=new We,R=H({type:"load",title:"负载",range:0}),E=H({type:"cpu",title:"CPU",range:0,desc:"获取中"}),N=H({type:"mem",title:"内存",range:0,desc:"0 / 0(MB)",disabled:!1});tn.useSetCallback("cpuTimes",function(e){j.value=[[{title:"用户级别的 CPU 时间百分比",name:"user",value:e.user},{title:'运行带有 "nice" 优先级的进程时使用的 CPU 时间百分比',name:"nice",value:e.nice}],[{title:"系统级别的 CPU 时间百分比",name:"system",value:e.system},{title:"空闲状态的 CPU 时间百分比",name:"idle",value:e.idle}],[{title:"等待 I/O 操作完成的 CPU 时间百分比",name:"iowait",value:e.iowait},{title:"处理硬件中断的 CPU 时间百分比",name:"irq",value:e.irq}],[{title:"处理软件中断的 CPU 时间百分比",name:"softirq",value:e.softirq},{title:"当前 CPU 被其他虚拟机偷取的CPU时间百分比",name:"steal",value:e.steal}],[{title:"运行虚拟机时使用的 CPU 时间百分比",name:"guest",value:e.guest},{title:'运行带有 "nice" 优先级的虚拟机时使用的CPU时间百分比',name:"guest_nice",value:e.guest_nice}]]}),tn.useSetCallback("load",function(e){I.value=e,V()}),tn.useSetCallback("disk",function(e){C.value=e});var V=function(){var e=I.value,t=e.one,n=e.max,a=parseInt(Math.round(t/n*100).toFixed(0)),r=a>100?100:a;R.range=r<0?0:r,L.load=r>=90?"danger":r>=80?"warning":"success"};tn.useSetCallback("cpu",function(e){var t,n,a,r;P.value=e,U(),t=P.value,n=t.cpuNumber,a=t.logicCores,r=t.cores,E.desc=n&&a&&r?"".concat(r,"核心"):"获取中",W()});var U=function(){var e=P.value.occupy;E.range=parseInt(e)||0,E.range>80?L.cpu="warning":E.range>90?L.cpu="danger":L.cpu="success"},W=function(){for(var e=[],t=0,n="核心 ",a="",r=0;r<P.value.coresOccupy.length;r++)if(t<2){if(t++,r===P.value.coresOccupy.length-1){n+="".concat(r+1," "),a+="".concat(parseFloat(P.value.coresOccupy[r]).toFixed(1),"% "),e.push({name:n,value:a});break}n+="".concat(r+1," / "),a+="".concat(parseFloat(P.value.coresOccupy[r]).toFixed(1),"% / "),P.value.coresOccupy.length%2==1&&r===P.value.coresOccupy.length-1&&e.push({name:n,value:a})}else t=0,n+="".concat(r+1),a+="".concat(parseFloat(P.value.coresOccupy[r]).toFixed(1),"%"),e.push({name:n,value:a}),n="核心 ",a="";g.value=e};tn.useSetCallback("memory",function(e){T.value=e,q()});var q=function(){var e=T.value,t=e.memRealUsed,n=e.memTotal,a=e.memNewRealUsedList,r=e.memNewTotalList;if(!x.value){var o=parseInt((Math.round(t/n*1e3)/10).toFixed(0));L.memory=o>=80?"warning":o>=90?"danger":"success",N.type="mem",N.range=o,N.desc={used:null==a?void 0:a[0],used_unit:null==a?void 0:a[1],total:null==r?void 0:r[0],total_unit:null==r?void 0:r[1]}}},G=function(e){k.value&&clearInterval(k.value);var t=e.memRealUsed-e.memRealUsed,n=$e(t)?t:Ke(t);N.range=1,N.rangeText="已释放\n ".concat(n),setTimeout(function(){x.value=!1,N.rangeText="",N.disabled=!1,w.value=!0},1500)},$=function(){var e="";x.value=!0,w.value=!1,N.disabled=!0,k.value=setInterval(function(){var t=N.range;e="..."===e?".":"".concat(e,"."),N.rangeText="释放中".concat(e),t>0&&(t-=.2*t),(t=Number(t.toFixed(2)))<0&&(t=0),N.range=t},400)},K=function(){var e=p(f().m(function e(){var t,n;return f().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,$(),e.n=1,Pt();case 1:t=e.v,n=t.data,G(n),e.n=3;break;case 2:e.p=2,e.v;case 3:return e.a(2)}},e,null,[[0,2]])}));return function(){return e.apply(this,arguments)}}(),J=function(){var e=p(f().m(function e(){return f().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,Ee({type:"calc",title:"释放内存",content:"若您的站点处于有大量访问的状态，释放内存可能带来无法预测的后果，您确定现在就释放内存吗？"});case 1:K(),e.n=3;break;case 2:e.p=2,e.v;case 3:return e.a(2)}},e,null,[[0,2]])}));return function(){return e.apply(this,arguments)}}(),Q=function(){var t=p(f().m(function t(n,a){var r;return f().w(function(t){for(;;)switch(t.n){case 0:if(b.value=a,"ltd"===o.value){t.n=1;break}return t.a(2);case 1:return r=function(){var t=p(f().m(function t(){return f().w(function(t){for(;;)switch(t.n){case 0:if(S){t.n=2;break}return S=!0,t.n=1,e.getHomeProcessInfo();case 1:S=!1;case 2:return t.a(2)}},t)}));return function(){return t.apply(this,arguments)}}(),O.value=setInterval(r,5e3),F.removePending({method:"post",url:"/monitor/process_management/specific_resource_load_type"}),t.n=2,r();case 2:return t.a(2)}},t)}));return function(e,n){return t.apply(this,arguments)}}(),Z=function(){var e=p(f().m(function e(){var t;return f().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Ve({sName:"task_manager"});case 1:t=e.v,t.data.setup?M.value=!0:M.value=!1;case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),X=c(),Y=H({name:"",path:""}),ee=H({loading:!0,list:[],total:0}),te=function(e){ie(!0,e)},ne=function(){var e=p(f().m(function e(t){return f().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Ee({title:"删除告警任务",isHtml:!0,icon:"warning-filled",iconColor:"warning",content:"删除后将不再告警此条任务，是否继续？"});case 1:return e.n=2,Oe({loading:"正在删除告警任务，请稍后...",request:qe({task_id:t.id}),message:!0,success:le});case 2:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=p(f().m(function e(t){var n,a;return f().w(function(e){for(;;)switch(e.n){case 0:return n=t.status,a=t.title,e.n=1,Ee({title:(n?"停用":"启用")+"告警任务【"+a+"】",content:"".concat(n?"停用":"启用","选中的告警任务后，该告警任务将").concat(n?"停止":"开启","告警，是否继续操作？"),icon:"warning-filled"});case 1:return e.n=2,Oe({loading:"正在设置告警状态，请稍后...",request:Ge({task_id:t.id,status:n?0:1}),message:!0});case 2:return e.n=3,le();case 3:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),re=[{title:"钉钉",type:"dingding"},{title:"飞书",type:"feishu"},{title:"邮箱",type:"mail"},{title:"企业微信",type:"weixin"},{title:"微信公众号",type:"wx_account"},{title:"短信通知",type:"sms"},{title:"自定义消息通道",type:"webhook"}],oe=c([{label:"标题",prop:"title"},Rt({event:ae,width:80,data:["已停用","已启用"]}),{label:"告警方式",width:140,showOverflowTooltip:!0,render:function(e){var t=[];return e.sender.forEach(function(e){var n=a.value.config.find(function(t){return t.id===e});if(null!=n&&n.sender_type){var r=re.find(function(e){return e.type===n.sender_type});null!=r&&r.title&&t.push("sms"===n.sender_type?r.title:n.data.title?n.data.title+"(".concat(r.title,")"):r.title)}}),_("span",{class:"truncate"},[t.join("、")])}},{label:"告警条件",render:function(e){var t=e.view_msg.match(/<span>(.*?)<\/span>/);return t?t[1]:""}},Et([{title:"编辑",onClick:te},{title:"删除",onClick:ne}])]),ie=function(e,t){Be({title:"进程告警",area:[80],btn:["保存","取消"],component:function(){return De(function(){return r.import("./index-legacy113.js?v=1756369731")},void 0,r.meta.url)},compData:{isEdit:e,row:t||{},diyProcessTemplate:!0,diyProcessTemplateTid:["60","61","62"],onRefresh:le}})},le=function(){var e=p(f().m(function e(){var t,n,a;return f().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Ue();case 1:n=e.v,a=n.data,ee.list=(null==a||null===(t=a.data)||void 0===t?void 0:t.filter(function(e){return["60","61","62"].includes(e.template_id)}))||[],ee.list.length>0||ie(!1),ee.loading=!1;case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}();return{stateMainWidth:i,gutter:l,isBreakLines:s,isShowAllDisk:u,colSpan:m,diskColSpan:v,stateHeight:h,displayMode:y,cpuCoreDesc:g,statePopoverTimr:O,loadInfo:R,loadPopover:B,processAlarmShow:M,tagsType:L,load:I,cpu:P,loadInfoList:j,cpuInfo:E,cpuPopover:D,memoryInfo:N,memoryPopover:A,memory:T,disk:C,getProcessAlarm:Z,moveStatePopover:Q,removeStatePopover:function(){clearInterval(O.value)},onClearMemory:J,$reset:function(){F.reset(),clearInterval(O.value),clearInterval(k.value)},setPsFormRef:X,setPsForm:Y,onConfirmPs:function(e){Oe({loading:"正在修改备注，请稍后...",request:Tt(Y),message:!0,success:function(t){t.status&&e()}})},processAlarmTableColumn:oe,processTableData:ee,openProcessAlarm:ie,initAlarm:le,hoverType:b,isClearMemory:x,showMemoryDesc:w}})),cn=n("b",M("HOME-STATE-POPOVER-STORE",function(){var e,t=It(),n=w(t),o=n.specificResource,i=n.diskQuota,l=Le(),s=l.payment,u=l.push,m=l.getAlarmData,v=d(s.value).authType,h=un(),y=w(h).setPsForm,g=c(),b=c(),x=c(),k=null,S=[{desc:"运行堵塞",val:90,color:"#dd2f00"},{desc:"运行缓慢",val:80,color:"#ff9900"},{desc:"运行正常",val:70,color:"#20a53a"},{desc:"运行流畅",val:30,color:"#20a53a"}],C=c("show"),I=c("two"),P=H({loading:!0,list:[]}),T=function(){var e=p(f().m(function e(t,n){var a;return f().w(function(e){for(;;)switch(e.n){case 0:if(1===t.important){e.n=2;break}return a=n?"结束进程":"释放内存",e.n=1,Ee({type:"calc",title:a,content:"结束".concat(t.proc_name,"进程会导致").concat(t.explain.split("的进程")[0],"无法正常运行，是否结束?")});case 1:return e.n=2,Oe({loading:"正在".concat(a,"，请稍后..."),request:jt({pid:t.pid}),message:!0});case 2:return e.a(2)}},e)}));return function(t,n){return e.apply(this,arguments)}}(),j=c((null===(e=u.value)||void 0===e?void 0:e.alarmPopupData)||[]),L={load:{title:"负载",id:"22"},cpu:{title:"cpu",id:"21"},mem:{title:"内存",id:"23"},disk:{title:"磁盘",id:"20"}},O=c({});c();var M=function(){var e=p(f().m(function e(t){var n;return f().w(function(e){for(;;)switch(e.n){case 0:O.value=a(a({},t),{},{id:t.id||L[null===(n=t.type)||void 0===n?void 0:n.split("-")[0]].id}),Be({title:"告警设置",component:function(){return De(function(){return r.import("./alarm-config-legacy.js?v=1756369731")},void 0,r.meta.url)},area:60,btn:"保存",onConfirm:G,onCancel:function(){m()}});case 1:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=p(f().m(function e(t,n){var a,r;return f().w(function(e){for(;;)switch(e.p=e.n){case 0:if(0!==n.id){e.n=1;break}M(n),e.n=5;break;case 1:if(e.p=1,a=t?"开启":"关闭",!!t){e.n=2;break}return e.n=2,Ee({title:"".concat(a,"告警"),content:"".concat(a,"告警后，将").concat(t?"":"不再","接收到该项的告警信息，是否继续操作？")});case 2:return r=A(n.type),e.n=3,Oe({loading:"正在".concat(a,"告警，请稍后..."),request:Ge({task_id:r.id,status:t?1:0}),message:!0,success:m});case 3:e.n=5;break;case 4:e.p=4,e.v,n.flag=!t,m();case 5:return e.a(2)}},e,null,[[1,4]])}));return function(t,n){return e.apply(this,arguments)}}(),D=function(e){var t,n,a;switch(e){case"load":n="平均负载超过";break;case"mem":n="内存超过";break;case"cpu":n="平均CPU超过"}var r=F(e);return t=r.cycle,a=r.count,n||(n=r.text),Ze(t)||Ze(n)?"":"".concat(null!=e&&e.includes("disk")?"":"".concat(t,"分钟内")).concat(n).concat(a,"触发")},A=function(e){var t,n=L[e.split("-")[0]];return!!Array.isArray(j.value)&&(null===(t=j.value)||void 0===t?void 0:t.find(function(t){return null!=e&&e.includes("disk")?t.template_id===n.id&&t.task_data.project===e.split("-")[1]:t.template_id===n.id}))},F=function(e){var t,n,a,r=A(e);if(r){var o=r.task_data;t=o.cycle,a="".concat(o.count,"%"),e.includes("disk")&&o.project===e.split("-")[1]&&(n=2===o.cycle?"该磁盘用量超过":"该磁盘余量不足",a=2===o.cycle?"".concat(o.count,"%"):"".concat(o.count,"GB"))}return{cycle:t,text:n,count:a}},R=c(!1),E=c(),N=H({num:0,usageRate:0,give:[],option:{},type:"",selectOptions:[],typeDetection:"2",next_data:[]}),z=c(100),V=c([]),U=c([]),W=function(){var e=p(f().m(function e(){var t;return f().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,Ye();case 1:t=e.v,V.value=t.data.map(function(e){return{label:e.title,value:e.value}}),e.n=3;break;case 2:e.p=2,e.v;case 3:return e.a(2)}},e,null,[[0,2]])}));return function(){return e.apply(this,arguments)}}(),q=function(){var e=p(f().m(function e(){var t,n,a;return f().w(function(e){for(;;)switch(e.n){case 0:W(),t=O.value,n=t.type,a=t.data,t.id,a?(N.usageRate=a.count,N.num=a.push_count,N.next_data=a.next_data||[],-1!==n.indexOf("disk")&&(N.typeDetection=a.cycle.toString()),N.give=a.module):(N.usageRate=80,N.num=3,-1!==n.indexOf("disk")&&(N.typeDetection="2"));case 1:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),G=function(){var e=p(f().m(function e(){var t,n,r,o,i,l,s,u;return f().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,E.value.validate();case 1:return t=O.value,n=t.type,r=t.data,o=t.id,i=a(a({},r||{}),{},{type:n.includes("disk")?n.split("-")[0]:n,count:parseInt("".concat(N.usageRate)),cycle:n.includes("disk")?parseInt(N.typeDetection):5,project:n.split("-")[1]?n.split("-")[1]:"",next_data:N.next_data}),l={send_interval:0,time_range:[0,86399]},s={day_num:parseInt("".concat(N.num)),total:0},u={task_data:i,time_rule:l,number_rule:s,sender:N.give},e.n=2,Oe({loading:"正在保存告警配置，请稍后...",request:Xe({task_data:JSON.stringify(u),template_id:o}),message:!0,success:function(){var e=p(f().m(function e(t){return f().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,m();case 1:D(n);case 2:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}()});case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),$=c([{label:"磁盘路径",prop:"filesystem",render:function(e){return _("div",{class:"flex items-center"},[_("span",{class:"svgtofont-file-hdd mr-4px !text-16px align-text-bottom"},null),_("span",null,[e.filesystem])])}},{label:"总大小",prop:"size"}]),K=function(){var e=p(f().m(function e(t){return f().w(function(e){for(;;)switch(e.n){case 0:y.value.name=t.ps,y.value.path=t.path,Be({title:"设置磁盘【"+t.path+"】别名",area:45,component:function(){return De(function(){return r.import("./index-legacy314.js?v=1756369731")},void 0,r.meta.url)},btn:!0,onConfirm:h.onConfirmPs});case 1:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),J=function(e){if("0"===e)return 0;var t=e.match(/^(\d+(?:\.\d+)?)(?: )?([a-zA-Z]+)$/);if(!t)throw new Error("Invalid size format: ".concat(e));var n=parseFloat(t[1]),a=t[2].toUpperCase(),r=["B","KB","MB","G","GB","T","TB"].indexOf(a);if(-1===r)throw new Error("Invalid unit: ".concat(a));return n*Math.pow(1024,r)},Q=function(){var e=p(f().m(function e(t){return f().w(function(e){for(;;)switch(e.n){case 0:bt({pluginName:"disk_analysis",source:120,type:"ltd"}),Je("diskPath",t),Je("taskStatus","true");case 1:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}();return{virtualRef:g,popover:b,popoverContent:x,chartColorActive:function(e,t){for(var n={},r=0;r<S.length;r++){var o=S[r];if(e>=o.val){n=a({},o);break}if(e<30){n=a({},S[S.length-1]);break}}return t&&(n.color="#dd2f00"),n.val=e,n},dirEvent:function(e,t){"None"!==t?(Je("Path",e),Qe.push({path:"/files"})):bt({name:"sysdisk"})},init:function(){k=new ResizeObserver(function(){b.value&&b.value.updatePopper()}),x.value&&k.observe(x.value)},$reset:function(){k&&x.value&&k.unobserve(x.value)},authType:v,specificResource:o,tableData:P,foldExpand:C,foldActive:I,useHomeTableColumn:function(e,t,n){return c([{label:"进程名称",minWidth:80,render:function(e){var t="备注：".concat(e.explain,"\n启动路径： ").concat(e.exe_path,"\n运行目录：").concat(e.cwd_path,"\n线程数量：").concat(e.num_threads);return _("span",{title:t},[e.proc_name])}},{label:t,prop:n,minWidth:70},{label:"操作",align:"right",fixed:"right",width:50,render:function(t){return _("span",{class:"cursor-pointer text-[#20a53a]",onClick:function(){T(t,e)}},[1===t.important?"":"cpu_percent"===n?"结束":"释放"])}}])},openProcessAlarmDialog:function(){Be({title:"进程告警",area:["100","50"],component:function(){return De(function(){return r.import("./process-alarm-manage-legacy.js?v=1756369731")},void 0,r.meta.url)}})},openProduct:function(){xt({sourceId:141})},push:u,devTaskList:j,openAlarmPopup:B,setAlarmDialog:M,createPushStatus:D,getCurrentTask:A,onConfirm:G,giveFormDisabled:R,giveFormRef:E,msgForm:N,maxCapacityAndUsageRate:z,nextOptions:V,options:U,alarmInfo:q,rowData:O,mountColumn:$,computedSpace:function(e,t){for(var n=["B","KB","MB","GB","TB"],a=J(e)-J(t),r=0;a>=1024&&r<n.length-1;)a/=1024,r++;return a=Math.round(100*a)/100,"".concat(a," ").concat(n[r])},setPsDialog:K,scanRubbishFile:Q,switchTypeDetection:function(){var e=O.value,t=e.type,n=e.data;e.id;N.typeDetection!==n.cycle&&("2"===N.typeDetection?N.usageRate=80:i.value.forEach(function(e){e.diskName===t.split("-")[1]&&(z.value=e.diskQuota,N.usageRate=parseInt((.2*e.diskQuota).toString()))}))}}})),fn={class:"alarm"},dn={class:"w-[21rem] ml-[0.8rem]"},mn=Fe(l({__name:"alarm",props:{type:{},diskName:{}},setup:function(e){var t=e,n=k(function(){return t.type}),r=cn(),o=w(r),i=o.push,l=o.devTaskList;O(function(){return i.value.alarmPopupData},function(e){l.value=e},{deep:!0,immediate:!0});var u=c(!1),f=k(function(){var e={type:n.value,data:!1,id:0,status:!1},t=r.getCurrentTask(n.value);if(t){var o,i=t.task_data;null!==(o=n.value)&&void 0!==o&&o.includes("disk")?(2===i.cycle?"".concat(i.count,"%"):"".concat(i.count,"GB"),u.value=!!t.status,e.status=!!t.status,e.data=a(a({},i),{},{module:t.sender,push_count:t.number_rule.day_num}),e.id=t.template_id):(u.value=!!t.status,e.status=!!t.status,e.data=a(a({},i),{},{module:t.sender,push_count:t.number_rule.day_num}),e.id=t.template_id)}return e});return O(function(){return f.value},function(e){u.value=e.status},{deep:!0,immediate:!0}),m(function(){}),function(e,t){var a=U,o=Re;return h(),y("div",fn,[t[4]||(t[4]=g("div",null,[g("span",null,"告警")],-1)),_(a,{size:"small",class:"ml-[0.8rem]",modelValue:v(u),"onUpdate:modelValue":t[0]||(t[0]=function(e){return V(u)?u.value=e:null}),onChange:t[1]||(t[1]=function(e){return v(r).openAlarmPopup(v(u),v(f))})},null,8,["modelValue"]),t[5]||(t[5]=g("div",{class:"switch"},null,-1)),_(o,{onClick:t[2]||(t[2]=function(e){return v(r).setAlarmDialog(v(f))})},{default:S(function(){return s(t[3]||(t[3]=[P("设置",-1)]))}),_:1}),g("span",dn,b(v(r).createPushStatus(v(n))),1)])}}}),[["__scopeId","data-v-2738e2f0"]]),pn={class:""},vn={class:"flex justify-between w-full"},hn={class:"px-[8px] text-[#666] text-[1.4rem]"},yn={class:"mt-[10px] space-y-[1rem] mx-[8px] text-[#666] text-[1.3rem]"},gn={class:"flex justify-between items-center w-full"},bn={class:"px-[8px] text-[#666] text-[1.4rem] leading-[3rem] text-center"},xn={class:"space-y-[1rem] text-[#666] text-[1.3rem] leading-[1.4rem] px-[0.8rem]"},wn={class:"flex justify-between w-full"},kn={class:"px-[8px] text-[#666] text-[1.4rem] leading-[3rem] text-center"},_n={class:"mt-[8px] space-y-[1rem]"},Sn={key:0,class:"mb-1rem"},Cn={class:"flex items-center justify-center flex-nowrap w-full"},In={class:"whitespace-nowrap"},Pn=l({__name:"popover-content",props:{loadType:{default:""},type:{default:""},processAlarmShow:{type:Boolean,default:!1}},setup:function(e,t){var n=t.expose,a=e,r=w(un()).hoverType,o=cn(),i=w(o),l=i.specificResource,u=i.authType,c=i.tableData,f=i.foldExpand,d=i.foldActive,m=k(function(){return-1!==a.type.indexOf("未挂载")}),p=k(function(){return"loadPopover"===r.value||"cpuPopover"===r.value}),I=k(function(){return o.useHomeTableColumn(p.value,p.value?"CPU占用率":"内存使用率",p.value?"cpu_percent":"memory_usage").value}),T=k(function(){return"memoryInfo"!==a.loadType}),j=k(function(){return"diskInfo"!==a.loadType}),L=k(function(){var e=a.loadType,t={one:"",two:"",three:""};return t.one="memoryInfo"===e?"内存信息":"基础信息","diskInfo"!==e?p.value?("loadInfo"===e?t.two="更多负载信息":"cpuInfo"===e&&(t.two="核心使用率"),t.three="CPU占用率top5的进程信息"):"memoryInfo"===e&&(t.two="内存信息",t.three="内存使用率top5的进程信息"):t.two="Inode信息",t});return O(function(){return l.value},function(e){"ltd"===u.value?(c.value.loading=!1,p.value?c.value.list=l.value.cpuProcess:c.value.list=l.value.memProcess):(c.value.loading=!1,c.value.list=[])},{deep:!0,immediate:!0}),O(function(){return u.value},function(e){"ltd"!==e&&(c.value.loading=!1,c.value.list=[])}),n({showTwo:T,showThree:j}),function(e,t){var n=K,r=J,i=Q,l=Re,p=et,w=Z,k=W("bt-loading");return h(),C(w,{shadow:"never",class:"card-popover !p-[8px]"},{default:S(function(){return[g("div",pn,[q(e.$slots,"button",{},void 0,!0)]),_(r,{class:"text-[1.2rem]",modelValue:v(f),"onUpdate:modelValue":t[0]||(t[0]=function(e){return V(f)?f.value=e:null}),accordion:!0},{default:S(function(){return[_(n,{ref:"base-info",name:"show"},{title:S(function(){return[g("div",vn,[g("span",hn,b(v(L).one),1)])]}),default:S(function(){return[g("div",yn,[q(e.$slots,"base-info",{},void 0,!0)]),v(m)?x("",!0):(h(),y(A,{key:0},[t[2]||(t[2]=g("hr",{style:{width:"calc(100% - 16px)",margin:"12px auto","border-top":"1px solid #f0f0f0"}},null,-1)),_(mn,{type:e.type,class:"mx-[8px]"},null,8,["type"])],64))]}),_:3},512)]}),_:3},8,["modelValue"]),v(m)?x("",!0):(h(),C(r,{key:0,class:"text-[1.2rem]",modelValue:v(d),"onUpdate:modelValue":t[1]||(t[1]=function(e){return V(d)?d.value=e:null}),accordion:!0},{default:S(function(){return[v(T)?(h(),C(n,{key:0,name:"two"},{title:S(function(){return[g("div",gn,[g("span",bn,b(v(L).two),1),g("span",null,b("two"===v(d)?"收起":"展开"),1)])]}),default:S(function(){return[g("div",xn,[q(e.$slots,"content-info",{},void 0,!0)])]}),_:3})):x("",!0),v(j)?(h(),C(n,{key:1,name:"three",class:R({"!mb-0":!v(T)})},{title:S(function(){return[g("div",wn,[g("span",kn,b(v(L).three),1),g("span",null,b("three"===v(d)?"收起":"展开"),1)])]}),default:S(function(){return[g("div",_n,[g("div",null,[a.processAlarmShow?(h(),y("div",Sn,[_(i,{size:"small",onClick:v(o).openProcessAlarmDialog},{default:S(function(){return s(t[3]||(t[3]=[P("进程告警",-1)]))}),_:1},8,["onClick"])])):x("",!0),G((h(),C(p,{column:v(I),data:v(c).list,"max-height":450},$({_:2},["ltd"!==v(u)?{name:"empty",fn:S(function(){return[g("div",Cn,[g("span",In,[t[5]||(t[5]=P("当前为企业版专享功能, ",-1)),_(l,{onClick:v(o).openProduct},{default:S(function(){return s(t[4]||(t[4]=[P("立即购买",-1)]))}),_:1},8,["onClick"])])])]}),key:"0"}:void 0]),1032,["column","data"])),[[k,v(c).loading]])])])]}),_:1},8,["class"])):x("",!0)]}),_:3},8,["modelValue"]))]}),_:3})}}}),Tn=Fe(Pn,[["__scopeId","data-v-a4cdc175"]]),jn={class:"flex items-center justify-between mb-[1.2rem] leading-[2.8rem]"},Ln={class:"flex items-center"},On={class:"flex align-left flex-col"},Mn={class:"flex items-center"},Bn=["title"],Dn={class:"flex align-left flex-col"},An={key:0,class:"m-4x flex items-center"},Fn={class:"!my-[1rem]"},Rn={class:"!my-[1rem]"},En={class:"!my-[1rem]"},Nn=l({__name:"disk-popover",props:{custom:{type:Boolean,default:!1},item:{default:[]}},setup:function(e){var t=e,n=Le().enterpriseRec,a=cn(),r=w(a).mountColumn,o=k(function(){return"None"===t.item.data.path}),i=k(function(){var e="string"==typeof t.item.data.size?0:parseFloat(t.item.data.size[3].substring(0,t.item.data.size[3].lastIndexOf("%")));return e>=90?"danger":e>=80?"warning":"success"});return function(e,l){var u=Y,c=ee,f=Q,d=te,m=Re,p=et;return h(),C(Tn,{"load-type":"diskInfo",type:"disk-".concat(t.item.info.title)},{button:S(function(){return[v(o)?x("",!0):(h(),y(A,{key:0},[parseInt(t.item.data.inodes[3])>90?(h(),C(u,{key:0,title:"Inode可用不足10%，请前往文件管理清理不必要文件",type:"error",class:"!mb-8px !min-h-[24px] !py-4px",closable:!1})):x("",!0),g("div",jn,[g("div",Ln,[l[2]||(l[2]=g("span",{class:"text-[#666] text-[1.4rem] mr-[4px] ml-[8px]"},"检测到当前磁盘",-1)),_(c,{type:v(i)},{default:S(function(){return[P(b("容量占用".concat(t.item.data.size[3].substring(0,t.item.data.size[3].lastIndexOf("%")),"%")),1)]}),_:1},8,["type"])]),G(_(f,{type:"primary",onClick:l[0]||(l[0]=function(e){return v(a).scanRubbishFile(t.item.info.title)})},{default:S(function(){return s(l[3]||(l[3]=[P("立即清理",-1)]))}),_:1},512),[[X,v(n)]])])],64))]}),"base-info":S(function(){return[v(o)?(h(),C(p,{key:1,data:e.item.data.list,column:v(r)},null,8,["data","column"])):(h(),y(A,{key:0},[g("div",On,[g("div",Mn,[g("div",{class:"block truncate max-w-[30rem]",title:"挂载点：".concat(e.item.info.title,"\n备注：").concat(e.item.data.rname)},"挂载点： "+b(e.item.info.title+(e.item.data.rname?" (".concat(e.item.data.rname,")"):"")),9,Bn),_(d,{placement:"right",content:"点击设置备注"},{default:S(function(){return[g("i",{class:"svgtofont-el-edit text-primary ml-[8px] cursor-pointer",onClick:l[1]||(l[1]=function(t){return v(a).setPsDialog({ps:e.item.data.rname||e.item.info.title,path:e.item.info.title})})})]}),_:1})]),g("span",null,b("共：".concat(e.item.data.size[0])+"，可用：".concat(e.item.data.size[2])+"，\t已用：".concat(e.item.data.size[1])),1)]),g("div",Dn,[g("span",null," 文件系统："+b(e.item.data.filesystem),1),g("span",null," 类型："+b(e.item.data.type+"，系统占用：".concat(e.item.data.size[3])),1)]),"None"!==e.item.data.d_size?(h(),y("div",An,[g("span",null," 磁盘大小："+b(e.item.data.d_size),1),_(d,{class:"item",effect:"dark",content:"根据系统设置的不同，如分区/SWAP/LVM/扩容，可能显示大小不一致，点击查看详情",placement:"top-start"},{default:S(function(){return[g("span",null,[_(m,{class:"bt-ico-ask ml-3",href:"https://www.bt.cn/bbs/thread-136532-1-1.html",target:"_blank"},{default:S(function(){return s(l[4]||(l[4]=[P("?",-1)]))}),_:1})])]}),_:1})])):x("",!0)],64))]}),"content-info":S(function(){return[g("p",Fn,"总数："+b(e.item.data.inodes[0]),1),g("p",Rn,"已用："+b(e.item.data.inodes[1]),1),g("p",En,"可用："+b(e.item.data.inodes[2]),1),g("p",{class:R(["!my-[1rem]",{"text-warning":parseInt(t.item.data.inodes[3])>90&&parseInt(t.item.data.inodes[3])<100,"text-danger":100===parseInt(t.item.data.inodes[3])}])}," 使用率："+b(e.item.data.inodes[3]+(e.item.data.inodes[3].includes("%")?"":"%")),3)]}),_:1},8,["type"])}}}),zn=Fe(Nn,[["__scopeId","data-v-a6e59bc7"]]),Hn={class:"disk-info flex flex-col items-start flex-1 min-w-0"},Vn={class:"disk-title text-[#333] text-[1.2rem] md:text-2xl font-semibold mb-2 break-all truncate w-full"},Un={class:"disk-desc text-[1.2rem] text-gray-500 break-all mb-1 truncate w-full"},Wn={class:"disk-progress ml-5 flex items-center justify-center"},qn={class:"flex flex-col items-center text-[1.2rem]"},Gn={class:"text-[1.6rem]"},$n={class:"flex items-center justify-between mb-[1.2rem] leading-[2.8rem]"},Kn={class:"flex items-center"},Jn={class:"flex align-left flex-col"},Qn={class:"flex items-center"},Zn=["title"],Xn=["onClick"],Yn={class:"flex align-left flex-col"},ea={key:0,class:"m-4x flex items-center"},ta={class:"!my-[1rem]"},na={class:"!my-[1rem]"},aa={class:"!my-[1rem]"},ra={key:1,class:"p-4 text-gray-400"},oa=l({__name:"disk-popover-extends",props:{list:{default:function(){return[]}},isShowAllDisk:{type:Boolean,default:!1}},setup:function(e){var n=e,a=Le().enterpriseRec,r=cn(),o=w(r).mountColumn,i=function(e,t){var n,a=null===(n=e.info)||void 0===n?void 0:n.range;return Number(a)>90?"#ef0808":Number(a)>80?"#ff9900":"#20a53a"},l=function(e){var t="string"==typeof e.data.size?0:parseFloat(e.data.size[3].substring(0,e.data.size[3].lastIndexOf("%")));return t>=90?"danger":t>=80?"warning":"success"};return function(e,u){var c=ae,f=Y,d=ee,m=Q,p=te,w=Re,k=et,I=j;return n.list&&n.list.length?(h(!0),y(A,{key:0},F(n.list,function(e,T){var j;return h(),C(I,{key:null!=e&&null!==(j=e.info)&&void 0!==j&&j.title?e.info.title+"-"+T:T,trigger:"hover",width:400,placement:"bottom-start",teleported:!1,"popper-class":"el-popover-shadow","show-after":100,"hide-after":0},{reference:S(function(){var a,r,o,l,s,f,d,m,p,v;return[g("div",{class:R([n.isShowAllDisk?"p-[1rem]":"px-[1rem]","flex items-center justify-between min-w-0 cursor-pointer transition-colors hover:bg-[#fafafa] rounded-[1.6rem]"])},[g("div",Hn,[g("div",Vn,b((null===(a=e.info)||void 0===a?void 0:a.title)||"-"),1),g("div",Un,["object"===t(null===(r=e.info)||void 0===r?void 0:r.desc)&&"disk"===(null===(o=e.info)||void 0===o?void 0:o.type)?(h(),y(A,{key:0},[g("span",{style:ne({color:null===(l=e.info)||void 0===l?void 0:l.color})},b(null===(s=e.info)||void 0===s||null===(s=s.desc)||void 0===s?void 0:s.used)+" "+b(null===(f=e.info)||void 0===f||null===(f=f.desc)||void 0===f?void 0:f.used_unit),5),u[0]||(u[0]=g("span",null," / ",-1)),g("span",null,b(null===(d=e.info)||void 0===d||null===(d=d.desc)||void 0===d?void 0:d.total)+" "+b(null===(m=e.info)||void 0===m||null===(m=m.desc)||void 0===m?void 0:m.total_unit),1)],64)):(h(),y(A,{key:1},[P(b((null===(p=e.info)||void 0===p?void 0:p.desc)||"-"),1)],64))])]),g("div",Wn,[_(c,{"show-text":!0,type:"circle",width:50,"stroke-width":6,color:i(e),percentage:(null===(v=e.info)||void 0===v?void 0:v.range)||0},{default:S(function(t){var n=t.percentage;return[g("div",qn,[g("span",{class:"percentage-value",style:ne({color:i(e)})},[g("span",Gn,b(n),1),u[1]||(u[1]=P("% ",-1))],4)])]}),_:2},1032,["color","percentage"])])],2)]}),default:S(function(){return[e&&e.data&&e.info?(h(),C(Tn,{key:0,"load-type":"diskInfo",type:"disk-".concat(e.info.title),item:e},{button:S(function(){return["None"!==e.data.path?(h(),y(A,{key:0},[parseInt(e.data.inodes[3])>90?(h(),C(f,{key:0,title:"Inode可用不足10%，请前往文件管理清理不必要文件",type:"error",class:"!mb-8px !min-h-[24px] !py-4px",closable:!1})):x("",!0),g("div",$n,[g("div",Kn,[u[2]||(u[2]=g("span",{class:"text-[#666] text-[1.4rem] mr-[4px] ml-[8px]"},"检测到当前磁盘",-1)),_(d,{type:l(e)},{default:S(function(){return[P(b("容量占用".concat(e.data.size[3].substring(0,e.data.size[3].lastIndexOf("%")),"%")),1)]}),_:2},1032,["type"])]),G(_(m,{type:"primary",onClick:function(t){return v(r).scanRubbishFile(e.info.title)}},{default:S(function(){return s(u[3]||(u[3]=[P("立即清理",-1)]))}),_:2},1032,["onClick"]),[[X,v(a)]])])],64)):x("",!0)]}),"base-info":S(function(){return["None"!==e.data.path?(h(),y(A,{key:0},[g("div",Jn,[g("div",Qn,[g("div",{class:"block truncate max-w-[30rem]",title:"挂载点：".concat(e.info.title,"\n备注：").concat(e.data.rname)},"挂载点： "+b(e.info.title+(e.data.rname?" (".concat(e.data.rname,")"):"")),9,Zn),_(p,{placement:"right",content:"点击设置备注"},{default:S(function(){return[g("i",{class:"svgtofont-el-edit text-primary ml-[8px] cursor-pointer",onClick:function(t){return v(r).setPsDialog({ps:e.data.rname||e.info.title,path:e.info.title})}},null,8,Xn)]}),_:2},1024)]),g("span",null,b("共：".concat(e.data.size[0],"，可用：").concat(e.data.size[2],"，\t已用：").concat(e.data.size[1])),1)]),g("div",Yn,[g("span",null," 文件系统："+b(e.data.filesystem),1),g("span",null," 类型："+b(e.data.type+"，系统占用：".concat(e.data.size[3])),1)]),"None"!==e.data.d_size?(h(),y("div",ea,[g("span",null," 磁盘大小："+b(e.data.d_size),1),_(p,{class:"item",effect:"dark",content:"根据系统设置的不同，如分区/SWAP/LVM/扩容，可能显示大小不一致，点击查看详情",placement:"top-start"},{default:S(function(){return[g("span",null,[_(w,{class:"bt-ico-ask ml-3",href:"https://www.bt.cn/bbs/thread-136532-1-1.html",target:"_blank"},{default:S(function(){return s(u[4]||(u[4]=[P("?",-1)]))}),_:1})])]}),_:1})])):x("",!0)],64)):(h(),C(k,{key:1,data:e.data.list,column:v(o)},null,8,["data","column"]))]}),"content-info":S(function(){return[g("p",ta,"总数："+b(e.data.inodes[0]),1),g("p",na,"已用："+b(e.data.inodes[1]),1),g("p",aa,"可用："+b(e.data.inodes[2]),1),g("p",{class:R(["!my-[1rem]",{"text-warning":parseInt(e.data.inodes[3])>90&&parseInt(e.data.inodes[3])<100,"text-danger":100===parseInt(e.data.inodes[3])}])}," 使用率："+b(e.data.inodes[3]+(e.data.inodes[3].includes("%")?"":"%")),3)]}),_:2},1032,["type","item"])):(h(),y("div",ra,"无数据"))]}),_:2},1024)}),128)):x("",!0)}}}),ia=Fe(oa,[["__scopeId","data-v-38379853"]]),la={class:"module-ui relative"},sa={class:"flex flex-shrink-0 w-full"},ua={class:"flex flex-col justify-end flex-shrink-0 w-full home-load-status-title"},ca=["title"],fa={class:"text-[2rem] text-[#333] font-alibaba-heavy 2xl:text-[2.6rem] whitespace-nowrap",style:{fontSize:"var(--home-state-font-size)"}},da={class:"text-[1.2rem]"},ma={class:"text-[1.2rem]"},pa={class:"flex flex-col items-center text-[1.2rem] font-alibaba-semibold"},va={class:"font-800 md:text-[2.4rem] lg:text-[3.2rem] 2xl:text-[4rem]"},ha=l({__name:"main",props:{visible:{type:Boolean,default:!1},custom:{type:Boolean,default:!1},showDesc:{type:Boolean,default:!0},href:{default:""},info:{default:function(){return{type:"",title:"",range:0}}},disk:{type:Boolean,default:!1},data:{default:function(){return{}}},type:{default:""},alert:{type:Boolean,default:!1},mainWidth:{default:200}},emits:["update:visible","openPopover","show","hide"],setup:function(e,n){n.emit;var a=un(),r=w(a).tagsType,o=e,i=cn(),l=w(i),s=l.virtualRef,u=l.popoverContent,c=k(function(){var e=o.mainWidth||200;return e<=200?Math.max(80,Math.min(100,Math.floor(.35*e)-20)):e<=300?Math.max(100,Math.min(120,Math.floor(.33*e)-20)):Math.max(120,Math.min(140,Math.floor(.3*e)-20))}),f=k(function(){var e=o.info,n=o.alert,a=e.desc,r=e.title,l=e.range,s=e.rangeText,u=e.disabled,c=e.type,f=i.chartColorActive(l,n),d=a,m=f.color;if("disk"===o.type&&"#20a53a"===m){var p=o.data;m=Number(p.inodes[3].replace("%",""))>90?"#ef0808":Number(p.inodes[3].replace("%",""))>80?"#ff9900":"#20a53a"}if("object"===t(a)&&("disk"===c||"mem"===c))try{d={used:a.used?a.used:"0",used_unit:a.used_unit?a.used_unit:"0",total:a.total?a.total:"0",total_unit:a.total_unit?a.total_unit:"0"}}catch(v){d="获取中"}return{type:c,title:r,color:m,range:l,disabled:!!u,desc:d||f.desc,rangeText:s||"",position:"bottom-start"}}),d=function(e){var t=f.value.rangeText;return t||"".concat(e,"%")};k(function(){return p.value?{backgroundColor:f.value.color}:{}});var p=k(function(){return"load"===f.value.type&&"success"!==r.value.load});return m(function(){i.init()}),re(function(){i.$reset()}),function(e,n){var a=ae,r=j,o=oe;return h(),y("div",la,[_(r,{trigger:"hover","virtual-ref":v(s),width:400,offset:e.custom?1:0,placement:v(f).position,teleported:!1,"show-after":100,"auto-close":0,"popper-class":"el-popover-shadow",onShow:n[0]||(n[0]=function(t){return e.$emit("show")}),onHide:n[1]||(n[1]=function(t){return e.$emit("hide")})},{reference:S(function(){var r,i,l,s;return[g("div",{ref_key:"popoverContent",ref:u,class:"flex flex-row items-end justify-between w-full h-full"},[g("div",sa,[g("div",ua,[g("span",{class:"pb-[.2rem] text-[1.4rem] truncate block w-[50%] font-alibaba-semibold",title:v(f).title},b(v(f).title),9,ca),G(g("span",fa,["object"!==t(v(f).desc)||"disk"!==v(f).type&&"mem"!==v(f).type?(h(),y(A,{key:1},[P(b(v(f).desc),1)],64)):(h(),y(A,{key:0},[g("span",{style:ne({color:v(f).color})},[g("span",null,b(null===(r=v(f).desc)||void 0===r?void 0:r.used),1),g("span",da,b(null===(i=v(f).desc)||void 0===i?void 0:i.used_unit),1)],4),n[2]||(n[2]=g("span",null," / ",-1)),g("span",null,b(null===(l=v(f).desc)||void 0===l?void 0:l.total),1),g("span",ma,b(null===(s=v(f).desc)||void 0===s?void 0:s.total_unit),1)],64))],512),[[X,e.showDesc]])])]),G((h(),C(a,{class:R(["status-main-progress",{"mount-progress":"None"===e.data.path}]),type:"circle",width:v(c),"stroke-width":8,color:v(f).color,percentage:v(f).range||0,format:d,style:ne("color:"+v(f).color)},{default:S(function(e){var t=e.percentage;return[g("div",pa,[g("span",{class:"percentage-value",style:ne({color:v(f).color})},[g("span",va,b(Number(t).toFixed(0)),1),n[3]||(n[3]=P("% ",-1))],4)])]}),_:1},8,["width","class","color","percentage","style"])),[[o,void 0,"popover"]])],512)]}),default:S(function(){return[q(e.$slots,"default",{},void 0,!0)]}),_:3},8,["virtual-ref","offset","placement"])])}}}),ya=Fe(ha,[["__scopeId","data-v-0b44d678"]]),ga={class:"module-ui flex"},ba={class:"flex flex-row items-end justify-between w-full"},xa={class:"pb-[.2rem] text-[1.4rem] truncate block disk-list-title"},wa={class:"text-[1.4rem] text-[#787A79] font-400 font-alibaba-bold disk-list-desc"},ka={class:"flex flex-col justify-center items-center h-full"},_a=l({__name:"disk-main",props:{list:{default:function(){return[]}}},emits:["update:visible","openPopover","show","hide"],setup:function(e,n){n.emit;var a=Le().mainWidth,r=cn();w(r);var o=k(function(){return a.value<=1600?130:144}),i=c(12),l=k(function(){return i.value+4}),s=c(null),u=null;function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:120;u&&clearTimeout(u),u=setTimeout(function(){s.value=e},t)}m(function(){});var d=function(e,t){if(null!==s.value&&s.value!==t)return"#eaeaea";var n=e.info.range;return Number(n)>90?"#ef0808":Number(n)>80?"#ff9900":"#20a53a"},p=function(e){return o.value-e*l.value*2},x=function(e){var t=p(e);return{left:(o.value-t)/2+"px",top:(o.value-t)/2+"px"}};return m(function(){r.init()}),re(r.$reset),function(e,n){var a=j,r=ie,l=ae,u=le;return h(),y("div",ga,[g("div",ba,[_(u,{span:24,class:"w-full"},{default:S(function(){return[_(r,{span:16,xl:16},{default:S(function(){return[g("div",{class:R(["h-full flex-2 gap-y-[10px]",2===e.list.length?"grid grid-cols-1 grid-rows-2":"grid grid-cols-2 grid-rows-2"])},[(h(!0),y(A,null,F(e.list,function(e,r){return h(),C(a,{key:e.info.title+"-"+r,trigger:"hover",width:400,placement:"bottom-start",teleported:!1,"popper-class":"el-popover-shadow","hide-after":0,onShow:function(e){return f(r)},onHide:n[0]||(n[0]=function(e){return f(null)})},{reference:S(function(){var a,o,i,l;return[g("div",{class:R(["flex flex-col justify-end cursor-pointer",{"is-inactive":null!==v(s)&&v(s)!==r}])},[g("span",xa,b(e.info.title),1),g("span",{class:"text-[2.6rem] font-700 leading-[1.2] disk-list-range",style:ne({color:d(e,r)})},b(e.info.range)+"%",5),g("span",wa,["object"===t(e.info.desc)&&"disk"===e.info.type?(h(),y(A,{key:0},[g("span",{style:ne({color:e.info.color})},[g("span",null,b(null===(a=e.info.desc)||void 0===a?void 0:a.used)+b(null===(o=e.info.desc)||void 0===o?void 0:o.used_unit),1)],4),n[2]||(n[2]=g("span",null,"/",-1)),g("span",null,b(null===(i=e.info.desc)||void 0===i?void 0:i.total)+b(null===(l=e.info.desc)||void 0===l?void 0:l.total_unit),1)],64)):(h(),y(A,{key:1},[P(b(e.info.desc),1)],64))])],2)]}),default:S(function(){return[_(zn,{item:e},null,8,["item"])]}),_:2},1032,["onShow"])}),128))],2)]}),_:1}),_(r,{span:8,xl:8},{default:S(function(){return[g("div",ka,[g("div",{class:"flex relative",style:ne({width:v(o)+"px",height:v(o)+"px"})},[(h(!0),y(A,null,F(e.list,function(e,t){return h(),C(a,{key:e.info.title,trigger:"hover",width:400,placement:"bottom-start",teleported:!1,"popper-class":"el-popover-shadow","show-after":100,"hide-after":0,transition:"none",onShow:function(e){return f(t)},onHide:n[1]||(n[1]=function(e){return f(null)})},{reference:S(function(){return[g("div",{class:"flex absolute",style:ne(x(t))},[_(l,{class:R(["cursor-pointer",{"mount-progress":"None"===e.data.path}]),type:"circle","show-text":!1,width:p(t),"stroke-width":v(i),color:d(e,t),percentage:e.info.range||0},null,8,["class","width","stroke-width","color","percentage"])],4)]}),default:S(function(){return[_(zn,{item:e},null,8,["item"])]}),_:2},1032,["onShow"])}),128))],4)])]}),_:1})]}),_:1})])])}}}),Sa=Fe(_a,[["__scopeId","data-v-bef5b135"]]),Ca={class:"flex items-center justify-between mb-[1.2rem] leading-[2.8rem]"},Ia={class:"flex items-center"},Pa={class:"disk-body-list flex justify-between"},Ta={id:"load_one"},ja={class:"disk-body-list flex justify-between"},La={id:"load_cpu_times_num"},Oa={class:"disk-item-body",id:"other_info_html"},Ma={class:"table table-fixed whitespace-nowrap"},Ba=["title"],Da=["title"],Aa={class:"flex items-center justify-between mb-[1.2rem] leading-[2.8rem]"},Fa={class:"flex items-center"},Ra={class:"max-h-[8.2rem] overflow-y-auto"},Ea={class:"flex items-center justify-between mb-[1.2rem] leading-[2.8rem]"},Na={class:"flex items-center"},za={class:"flex align-left flex-col"},Ha={class:"flex justify-between mb-[4px]"},Va={class:"w-[50%]"},Ua={class:"inline-flex justify-start"},Wa={class:"w-[50%]"},qa={class:"inline-flex justify-start"},Ga={class:"flex justify-between mb-[4px]"},$a={class:"w-[50%]"},Ka={class:"inline-flex justify-start"},Ja={class:"w-[50%]"},Qa={class:"inline-flex justify-start"},Za={class:"flex justify-between mb-[4px]"},Xa={class:"w-[50%]"},Ya={class:"w-[50%]"},er={class:"inline-flex justify-start"},tr={class:"disk-grid grid gap-4 w-full box-border",style:{"grid-template-columns":"repeat(3, minmax(0, 1fr))"}},nr={class:"disk-grid grid gap-4 w-full box-border h-full",style:{"grid-template-columns":"repeat(auto-fill, minmax(220px, 1fr))"}},ar="home_state_layout_cache",rr=l({__name:"index",props:{mainWidth:{}},setup:function(e){var t=e,n=c(null),a=c(0);se(n,function(e){if(e[0]){var t=e[0].contentRect.width;a.value=t}});var r={diskCount:-1,containerWidth:-1},i=3,l=235,u=12,d=460,I=650,T=600,j=800,L=1200,M=un(),B=w(M),D=B.stateMainWidth,E=(B.gutter,B.displayMode),N=B.stateHeight,z=B.isBreakLines,H=B.isShowAllDisk,V=B.cpuCoreDesc,U=B.statePopoverTimr,W=B.loadInfo,q=B.loadPopover,G=B.processAlarmShow,$=B.tagsType,K=B.load,J=B.cpu,Z=B.loadInfoList,X=B.cpuInfo,Y=B.cpuPopover,te=B.memoryInfo,ae=B.memoryPopover,oe=B.memory,ie=B.disk,le=c(null);se(le,function(e){var t=e[0].contentRect.width;D.value=t}),k(function(){return"single"===E.value&&z.value});var ce=sessionStorage.getItem(ar);if(ce)try{var fe=JSON.parse(ce);E.value=fe.displayMode,N.value=fe.stateHeight,z.value=fe.isBreakLines,H.value=fe.isShowAllDisk}catch(ge){sessionStorage.removeItem(ar)}var de=function(e,t,n,a){E.value=e,N.value=t,z.value=n,H.value=a;var r={displayMode:e,stateHeight:t,isBreakLines:n,isShowAllDisk:a};try{sessionStorage.setItem(ar,JSON.stringify(r))}catch(ge){}},me=function(){var e=D.value||t.mainWidth||L,n=(ie.value||[]).length;if(r.diskCount!==n||r.containerWidth!==e){r.diskCount=n,r.containerWidth=e;var a=i,o=a+n,s=l,c=u;if(e>=s*o+c*(o-1))if((e-c*(o-1))/o>=s)return void de("single","18rem",!1,!1);if(n>=2&&n<=4)if(e>=s*a+d+c*a)if((e-d-c*a)/a>=s)return void de("stack","22rem",!1,!1);if(n>=5&&n<=6)if(e>=s*a+T+c*a)return void de("tile","22rem",!1,!1);if(n>6){var f=n-6;return e>=(a+f+1-1)*c+(a+f)*s+T?void de("hybrid","22rem",!1,!0):void de("tile","18rem",!0,!0)}de("single","18rem",!0,n>6)}},pe=k(function(){return"".concat(K.value.one.toFixed(2)," / ").concat(K.value.five.toFixed(2)," / ").concat(K.value.fifteen.toFixed(2))}),ve=k(function(){var e=J.value.process;return Array.isArray(e)?"".concat(e[0]," / ").concat(e[1]):"获取中"});ue(me),O(function(){return U.value},function(e,t){clearInterval(e)},{immediate:!0}),O(function(){return[(ie.value||[]).length,D.value]},function(e){var t=o(e,2),n=t[0],a=t[1];if(0!==a&&(r.diskCount!==n||r.containerWidth!==a)){var s=i,c=l,f=u,m=d,p=T,v=s*c+(s-1)*f,h=a-v-f,y="single";if(n>Math.floor(h/(c+f))&&(y=n>=5?a>=v+p?"tile":"stack":a>=v+m?"stack":"single"),n>6&&"single"!==y){var g=n-6;(a-p-(s+g+1)*f)/(s+g)>=c&&(y="hybrid")}de(y,N.value,z.value,H.value),r.diskCount=n,r.containerWidth=a}},{immediate:!0,deep:!0}),m(p(f().m(function e(){return f().w(function(e){for(;;)switch(e.n){case 0:vt({promises:[M.getProcessAlarm],delay:1e3}),me();case 1:return e.a(2)}},e)}))),re(M.$reset);var he=function(e){var n=D.value||t.mainWidth||L,a=u;if(E.value,"single"===E.value){if(z.value){var r=i+(ie.value||[]).length,o=ye(n,r,a),s="calc((100% - ".concat(a*(o-1),"px) / ").concat(o,")");return{flex:"1 0 ".concat(s),minWidth:"".concat(l,"px")}}var c=i+(ie.value||[]).length,f=n-a*(c-1),m=Math.floor(f/c),p=Math.max(m,l);return{width:"".concat(p,"px"),minWidth:"".concat(l,"px"),flexShrink:0}}if("hybrid"===E.value){var v=(ie.value||[]).length-6,h=i+v,y=(h+1-1)*a;if("disk-area"===e)return{width:"".concat(T,"px"),minWidth:"".concat(T,"px"),flexShrink:0};var g=n-T-y,b=Math.floor(g/h),x=Math.max(b,l);return{width:"".concat(x,"px"),minWidth:"".concat(l,"px"),flexShrink:0}}if(z.value)return{width:"100%"};var w="stack"===E.value?d:T,k="stack"===E.value?I:j,_=i,S=l,C=a*_,P=n-S*_-C,O=Math.max(w,Math.min(P,k)),M=(n-O-C)/_;return M<S&&(M=S),"disk-area"===e?{width:"".concat(O,"px"),minWidth:"".concat(w,"px"),flexShrink:0}:{width:"".concat(M,"px"),minWidth:"".concat(S,"px"),flexShrink:0}},ye=function(e,t,n){for(var a=l,r=Math.min(t,6);r>=1;r--){if(a*r+n*(r-1)<=e)return r}return 1};return function(e,t){var r=ee,o=Q;return h(),y("div",{ref_key:"stateMainRef",ref:le},[g("div",{class:R(["state-container flex gap-[1.2rem] mb-[1.2rem]",{"flex-wrap":v(z),"flex-nowrap":!v(z)}])},[g("div",{style:ne(he("load")),ref_key:"loadRef",ref:n,class:R(["state-component",v(H)?"flex-1":""])},[_(ya,{style:ne({height:v(N)}),info:v(W),"main-width":v(a),onShow:t[0]||(t[0]=function(e){return v(M).moveStatePopover(v(q),"loadPopover")}),onHide:v(M).removeStatePopover,href:"https://www.bt.cn/bbs/thread-11402-1-1.html"},{default:S(function(){return[_(Tn,{"load-type":"loadInfo",ref_key:"loadPopover",ref:q,type:"load","process-alarm-show":v(G)},{button:S(function(){return[g("div",Ca,[g("div",Ia,[t[3]||(t[3]=g("span",{class:"text-[#666] text-[1.4rem] mr-[4px] ml-[8px]"},"检测到当前负载",-1)),_(r,{type:v($).load},{default:S(function(){return[P(b("运行达到".concat(v(W).range,"%")),1)]}),_:1},8,["type"])])])]}),"base-info":S(function(){return[g("div",Pa,[t[4]||(t[4]=g("div",null,"最近1/5/15分钟平均负载：",-1)),g("div",Ta,b(pe.value),1)]),g("div",ja,[t[5]||(t[5]=g("div",null,"活动进程数 / 总进程数:",-1)),g("div",La,b(ve.value),1)])]}),"content-info":S(function(){return[g("div",Oa,[g("table",Ma,[g("tbody",null,[(h(!0),y(A,null,F(v(Z),function(e,t){return h(),y("tr",{key:t},[(h(!0),y(A,null,F(e,function(e,t){return h(),y(A,{key:t},[g("td",{title:e.title,class:"break-all text-ellipsis p-[.4rem] pl-0"},[g("span",null,b(e.name),1)],8,Ba),g("td",{title:e.title,class:"break-all text-ellipsis"},[g("span",null,b(e.value),1)],8,Da)],64)}),128))])}),128))])])])]}),_:1},8,["process-alarm-show"])]}),_:1},8,["style","info","main-width","onHide"])],6),g("div",{style:ne(he("cpu")),class:R(["state-component",v(H)?"flex-1":""])},[_(ya,{style:ne({height:v(N)}),info:v(X),type:"cpu","main-width":v(a),onShow:t[1]||(t[1]=function(e){return v(M).moveStatePopover(v(Y),"cpuPopover")}),onHide:v(M).removeStatePopover},{default:S(function(){return[_(Tn,{"load-type":"cpuInfo",type:"cpu",ref_key:"cpuPopover",ref:Y,"process-alarm-show":v(G)},{button:S(function(){return[g("div",Aa,[g("div",Fa,[t[6]||(t[6]=g("span",{class:"text-[#666] text-[1.4rem] mr-[4px] ml-[8px]"},"检测到当前CPU使用率",-1)),_(r,{type:v($).cpu},{default:S(function(){return[P(b("占用".concat(v(X).range,"%")),1)]}),_:1},8,["type"])])])]}),"content-info":S(function(){return[g("div",Ra,[(h(!0),y(A,null,F(v(V),function(e,t){return h(),y("div",{key:t,class:"flex direction-row items-center justify-between my-[1rem]"},[g("span",null,b(e.name),1),g("span",null,b(e.value),1)])}),128))])]}),"base-info":S(function(){return[g("p",null,b(v(J).framework),1),g("p",null,b("".concat(v(J).cpuNumber,"个物理CPU，").concat(v(J).logicCores,"个物理核心，").concat(v(J).cores,"个逻辑核心")),1)]}),_:1},8,["process-alarm-show"])]}),_:1},8,["style","info","main-width","onHide"])],6),g("div",{style:ne(he("mem")),class:R(["state-component",v(H)?"flex-1":""])},[_(ya,{style:ne({height:v(N)}),type:"mem",info:v(te),"main-width":v(a),onShow:t[2]||(t[2]=function(e){return v(M).moveStatePopover(v(ae),"memoryPopover")}),onHide:v(M).removeStatePopover},{default:S(function(){return[_(Tn,{"load-type":"memoryInfo",type:"mem",ref_key:"memoryPopover",ref:ae,"process-alarm-show":v(G)},{button:S(function(){return[g("div",Ea,[g("div",Na,[t[7]||(t[7]=g("span",{class:"text-[#666] text-[1.4rem] mr-[4px] ml-[8px]"},"检测到当前内存",-1)),_(r,{type:v($).memory},{default:S(function(){return[P(b("占用".concat(v(te).range,"%")),1)]}),_:1},8,["type"])]),_(o,{type:"primary",onClick:v(M).onClearMemory},{default:S(function(){return s(t[8]||(t[8]=[P("立即释放",-1)]))}),_:1},8,["onClick"])])]}),"base-info":S(function(){return[g("div",za,[g("div",Ha,[g("div",Va,[t[9]||(t[9]=g("span",{class:"w-[81px] inline-flex justify-end"},"空闲内存：",-1)),g("span",Ua,b(v(oe).memFree+" MB"),1)]),g("div",Wa,[t[10]||(t[10]=g("span",{class:"w-[81px] inline-flex justify-end"},"已用：",-1)),g("span",qa,b(v(oe).memRealUsed+" MB"),1)])]),g("div",Ga,[g("div",$a,[t[11]||(t[11]=g("span",{class:"w-[81px] inline-flex justify-end"},"总内存：",-1)),g("span",Ka,b(v(oe).memTotal+" MB"),1)]),g("div",Ja,[t[12]||(t[12]=g("span",{class:"w-[81px] inline-flex justify-end"},"共享：",-1)),g("span",Qa,b(v(oe).memShared+" MB"),1)])]),g("div",Za,[g("div",Xa,[t[13]||(t[13]=g("span",{class:"w-[81px] inline-flex justify-end"},"可分配内存：",-1)),g("span",null,b(v(oe).memAvailable+"MB"),1)]),g("div",Ya,[t[14]||(t[14]=g("span",{class:"w-[81px] inline-flex justify-end"},"buff/cache：",-1)),g("span",er,b(v(oe).memCached+"/"+v(oe).memBuffers+" MB"),1)])])])]}),_:1},8,["process-alarm-show"])]}),_:1},8,["style","info","main-width","onHide"])],6),"single"===v(E)?(h(!0),y(A,{key:0},F(v(ie),function(e,t){return h(),y("div",{key:t,style:ne(he("disk")),class:"state-component"},[_(ya,{style:ne({height:v(N)}),type:"disk",info:e.info,"main-width":v(a),onHide:v(M).removeStatePopover,data:e.data,alert:"None"!==e.data.path&&100===parseInt(e.data.inodes[3])},{default:S(function(){return[_(zn,{item:e},null,8,["item"])]}),_:2},1032,["style","info","main-width","onHide","data","alert"])],4)}),128)):"hybrid"===v(E)?(h(),y(A,{key:1},[(h(!0),y(A,null,F(v(ie).slice(0,v(ie).length-6),function(e,t){return h(),y("div",{key:"hybrid-disk-".concat(t),style:ne(he("disk")),class:"state-component"},[_(ya,{style:ne({height:v(N)}),type:"disk",info:e.info,"main-width":v(a),onHide:v(M).removeStatePopover,data:e.data,alert:"None"!==e.data.path&&100===parseInt(e.data.inodes[3])},{default:S(function(){return[_(zn,{item:e},null,8,["item"])]}),_:2},1032,["style","info","main-width","onHide","data","alert"])],4)}),128)),g("div",{style:ne(he("disk-area")),class:"state-component"},[g("div",{class:"module-ui bg-[#FFFC] rounded-[1.6rem] p-[2.4rem]",style:ne({height:v(N)})},[g("div",tr,[_(ia,{list:v(ie).slice(v(ie).length-6),"is-show-all-disk":v(H)},null,8,["list","is-show-all-disk"])])],4)],4)],64)):(h(),y("div",{key:2,style:ne(he("disk-area")),class:"state-component"},["stack"===v(E)?(h(),C(Sa,{key:0,list:v(ie),class:"bg-white shadow rounded",style:ne({height:v(N)})},null,8,["list","style"])):"tile"===v(E)?(h(),y("div",{key:1,class:"module-ui bg-[#FFFC] rounded-[1.6rem] p-[2.4rem]",style:ne({height:v(H)?"auto":v(N)})},[g("div",nr,[_(ia,{list:v(H)?v(ie):v(ie).slice(0,6),"is-show-all-disk":v(H)},null,8,["list","is-show-all-disk"])])],4)):x("",!0)],4))],2)],512)}}}),or=Fe(rr,[["__scopeId","data-v-27c900f7"]]);function ir(t,n){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=o.document,l=void 0===i?de:i,u=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(o,e),c={onUpdate:function(e){!function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;null!=a&&((r=a.item).parentNode&&r.parentNode.removeChild(r),function(e,t,n){var a=e.children[n];e.insertBefore(t,a)}(a.from,a.item,t));var r;var o=V(e),i=o?s(me(e)):me(e);if(n>=0&&n<i.length){var l=i.splice(t,1)[0];D(function(){i.splice(n,0,l),o&&(e.value=i)})}}(n,e.oldIndex,e.newIndex,e)}},f=function(){var e=null==l?void 0:l.querySelector(t);e&&void 0===r&&(r=new tt(e,a(a({},c),u)))},d=function(){null==r||r.destroy(),r=void 0};return ce(f),fe(d),{stop:d,start:f,option:function(e,t){if(void 0===t)return null==r?void 0:r.option(e);null==r||r.option(e,t)}}}var lr=n("H",M("HOME-OVERVIEW-STORE",function(){var e=B(),t=Le(),n=t.mainWidth,o=t.payment,i=d(o.value).authType,l=c([]),s=c(!0),u=c(!1),m=function(){var e=p(f().m(function e(){var t,n;return f().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,Oe({request:Lt(),data:{data:[Array,l]}});case 1:return t=e.v,v(),e.a(2,Promise.resolve(t.data));case 2:e.p=2,n=e.v,nt(n);case 3:return e.p=3,s.value=!1,D(function(){_()}),e.f(3);case 4:return e.a(2)}},e,null,[[0,2,3,4]])}));return function(){return e.apply(this,arguments)}}(),v=function(){var e=l.value.findIndex(function(e){return"ssh_log"===e.name});-1!==e&&Oe({loading:u,request:Ot({log_type:l.value[e].params[0].source}),success:function(t){Array.isArray(t.data)&&(l.value[e].value=t.data)}})},h=function(){var e=p(f().m(function e(t){return f().w(function(e){for(;;)if(0===e.n)return e.a(2,Be({title:"自定义概览模块",area:100,compData:t,component:function(){return De(function(){return r.import("./index-legacy315.js?v=1756369731")},void 0,r.meta.url)}}))},e)}));return function(t){return e.apply(this,arguments)}}(),y=function(){var t=p(f().m(function t(n){var a,r,o;return f().w(function(t){for(;;)switch(t.n){case 0:o=n.type,t.n="base"===o?1:"model"===o?2:"plugin"===o?5:6;break;case 1:return a=n.params[0].source,r="/"+(["ftps","sites","databases"].includes(n.name)&&"all"===a?"":a).replace("proxy","nginx"),t.a(2,e.push({path:n.source.href+r}));case 2:if("memo"!==n.name){t.n=3;break}return t.a(2,b());case 3:if("safety_risk"!==n.name){t.n=4;break}return t.a(2,x());case 4:if("ssh_log"!==n.name){t.n=5;break}return t.a(2,e.push({path:"/logs/ssh"}));case 5:return t.a(2,k(n));case 6:if("search_file"!==n.name){t.n=7;break}return t.a(2,S());case 7:if("open_dir"!==n.name){t.n=8;break}return t.a(2,Nt({path:n.params[0].name}));case 8:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}(),g=function(){var e=p(f().m(function e(){var t;return f().w(function(e){for(;;)switch(e.n){case 0:return t=l.value.map(function(e,t){return e.id}),e.n=1,Oe({request:At({overview:JSON.stringify(t)}),message:!0,success:function(e){e.status||m()}});case 1:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),b=function(){var e=p(f().m(function e(){return f().w(function(e){for(;;)if(0===e.n)return e.a(2,Be({title:"备忘录",area:[70,60],component:function(){return De(function(){return r.import("./index-legacy316.js?v=1756369731")},void 0,r.meta.url)}}))},e)}));return function(){return e.apply(this,arguments)}}(),x=function(){var e=p(f().m(function e(){return f().w(function(e){for(;;)if(0===e.n)return e.a(2,Be({area:[90,60],component:function(){return De(function(){return r.import("./index-legacy317.js?v=1756369731").then(function(e){return e.i})},void 0,r.meta.url)}}))},e)}));return function(){return e.apply(this,arguments)}}(),w=function(e){var t=e.plugin_info.type;return"free"===i.value&&(8===t||12===t)||"ltd"!==i.value&&12===t},k=function(e){var t=e.plugin_info,n=(t.type,t.endtime),a=(t.setup,"total"===e.name?41:"btwaf"===e.name?366:42);if(w(e)&&n<0)return xt({disablePro:!0,sourceId:a});bt({name:e.name})},_=function(){var e;ir(".overview-wrapper",l,{animation:500,handle:".move-icon",chosenClass:"ghost",onUpdate:(e=p(f().m(function e(t){var n,a,r;return f().w(function(e){for(;;)switch(e.n){case 0:n=t.oldIndex,a=t.newIndex,r=l.value[n],l.value.splice(n,1),l.value.splice(a,0,r),g();case 1:return e.a(2)}},e)})),function(t){return e.apply(this,arguments)})})},S=function(){Je("searchFile","true"),e.push({path:"/files"})},C=c(""),I=c("/www/server/panel/data/memo.txt"),P=function(){var e=p(f().m(function e(){return f().w(function(e){for(;;)switch(e.n){case 0:Oe({loading:"正在保存备忘录，请稍后...",request:at({path:I.value,data:C.value,encoding:"utf-8"}),message:!0,success:function(e){e.status&&m()}});case 1:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),T=function(){var e=p(f().m(function e(){return f().w(function(e){for(;;)switch(e.n){case 0:Oe({loading:"正在获取备忘录数据，请稍后...",request:rt(),data:[String,C]});case 1:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),j=pe([]),L=c([]),O=pe(!1),M=pe(0),A=c({val0:0,val1:0,val2:0,val3:0}),F=c(["sites","databases","total","ssh_log","monitor"]),R=c(["open_dir"]),E=function(){var e={};L.value=[],l.value.forEach(function(t){e[t.name]=t}),j.value.forEach(function(t){var n=t.template;t.option.forEach(function(t){var r=e[t.name]||!1;L.value.push(a(a({},t),{isShow:Boolean(r),showItem:r,template:n,overviewPopover:!1}))})})},N=function(){var e=p(f().m(function e(t){var n,a,r,o;return f().w(function(e){for(;;)switch(e.p=e.n){case 0:if(e.p=0,!t.isShow||6!==l.value.length){e.n=1;break}return D(function(){return t.isShow=!1}),e.a(2,ot.warn("最多只能显示6个模块"));case 1:if(n=z(t),t.isShow||!Ze(t.showItem.id)){e.n=3;break}return e.n=2,U();case 2:(t=L.value.find(function(e){return e.name===t.name})).isShow=!t.isShow;case 3:a=t.isShow?Bt:Mt,r=t.isShow?{overview:JSON.stringify(n)}:{overview_id:t.showItem.id},Oe({loading:"正在".concat(t.isShow?"删除":"添加","模块，请稍后..."),request:a(r),message:!0,data:{data:Array,msg:String,status:Boolean},success:function(){var e=p(f().m(function e(n){return f().w(function(e){for(;;)switch(e.n){case 0:if(!n.status){e.n=2;break}return t.isShow&&(t.showItem=n.data.length?n.data[n.data.length-1]:t.showItem),e.n=1,m();case 1:E();case 2:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}()}),e.n=5;break;case 4:e.p=4,o=e.v,nt(o);case 5:return e.a(2)}},e,null,[[0,4]])}));return function(t){return e.apply(this,arguments)}}(),z=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=a({},e),r=[],o=[];for(var i in A.value)e.params.length&&o.push(A.value[i]);if(0===o.length&&(o=[0]),"open_dir"===e.name){var l=A.value.val0||e.params[0].option[0].source;r=[{name:l,source:l}]}else r=n.params.map(function(t,n){return"select"===t.type?t.option[o[n]]:e.params?e.params[n]:void 0});return delete n.overviewPopover,t?(e.showItem.params=r,n=a({},e.showItem)):(delete n.showItem,n.params=r),n},H=function(){var e=p(f().m(function e(t){var n,a,r;return f().w(function(e){for(;;)switch(e.n){case 0:if((n=Boolean(t.showItem))||6!==l.value.length){e.n=1;break}return t.overviewPopover=!1,D(function(){return t.isShow=!1}),e.a(2,ot.warn("最多只能显示6个模块"));case 1:a={overview:JSON.stringify(z(t,n))},r=n&&t.isShow?Dt:Bt,Oe({loading:"正在".concat(n?"修改":"添加","模块，请稍后..."),request:r(a),message:!0,success:function(){var e=p(f().m(function e(n){return f().w(function(e){for(;;)switch(e.n){case 0:if(t.overviewPopover=!1,t.isShow=!0,V(),!n.status){e.n=2;break}return e.n=1,m();case 1:E();case 2:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}()});case 2:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),V=function(){A.value={val0:0,val1:0,val2:0,val3:0}},U=function(){var e=p(f().m(function e(){return f().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Oe({loading:O,request:it(),data:{data:[Array,j]}});case 1:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}();return{mainWidth:n,loading:s,isSshLoading:u,overviewShowList:l,getOverviewData:m,openOverviewTemplate:function(){h({getOverviewData:m})},openModelDialog:y,securityRisksDialog:x,getModelTitle:function(e){var t=e.title,n=0,a=e.params.length||0,r=["ssh_log"];if(!e.status)return t;if("open_dir"===e.name)return t;a>=2&&(t="");for(var o=a-1;o>=0;o--){var i=e.params[o];(t===i.name||r.indexOf(e.name)>-1)&&(t=""),2!==n&&(1===a&&""!=t&&(t+=" - "),t+="".concat(i.name)+(o===a-1&&a>1?" - ":""),n++),n=0}return t.replace(" - 全部","")},getPayStatus:w,getModelTips:function(e){switch(e.template){case"base":return"memo"===e.name||"safety_risk"===e.name?"打开".concat(e.title,"模块"):"跳转至".concat(e.title,"页面");case"browse":return"plugin"===e.type?"打开".concat(e.title,"插件"):"打开".concat(e.title,"模块");case"open_dir":return"打开".concat(e.title)}},content:C,path:I,saveFileEvent:P,getMemoData:T,isLoading:O,overviewModelList:L,supportConfig:F,supportPath:R,form:A,onPathChange:function(e){wt({type:"dir",change:function(t){A.value.val0=t,H(e)}})},getOverviewTemplateData:U,dataAlignment:E,setOverviewTemplateShow:N,addOverviewFun:H,setPopoverShow:function(e,t){L.value[t].overviewPopover=!0,M.value=t;for(var n=e.showItem.params,a=Object.entries(A.value),r=function(t){if(!(t<e.params.length))return 1;var a=e.params[t];if("select"===a.type){var r=a.option.findIndex(function(e){return!n||(!n[t]||e.source===n[t].source)});A.value["val"+t]=r}else A.value["val"+t]=n?n[t].source:a.option[t].source},o=0;o<a.length&&!r(o);o++);}}})),sr={class:"module-ui mb-[1.2rem] mx-[1.2rem]"},ur={class:"module-ui-header"},cr={class:"flex w-full justify-between"},fr={class:"module-ui-body mt-[1.2rem]"},dr={class:"!mx-0 w-full"},mr={class:"flex flex-col w-full relative inline-block"},pr={class:"overview-box"},vr={class:"overview-content"},hr={class:"content w-full"},yr={class:"title"},gr={class:"flex h-[4.4rem] items-center w-full"},br={key:0,class:"risk not-install bt-blink"},xr={key:1,class:"model font-bold"},wr={class:"to-day"},kr={class:"yester-day ml-[1.6rem]"},_r={key:2,class:"path-info bt-link-primary truncate"},Sr={key:3,class:"path-info bt-link-primary truncate"},Cr={key:4,class:"icon-open-routes"},Ir={class:"icon-open-routes-text"},Pr=Fe(l({__name:"index",setup:function(e){var t=lr(),n=w(t),a=n.mainWidth,r=n.loading,o=n.isSshLoading,i=n.overviewShowList,l=k(function(){var e,t=a.value<1100?a.value<800?a.value<400?1:2:4:a.value>1800?8:6,n=Math.floor((a.value-16*t-50)/t);return e=Math.min(Math.max(n,200),270),{number:24/(t>i.value.length?i.value.length:t),width:e}}),u=k(function(){return l.value.width<230});return m(p(f().m(function e(){return f().w(function(e){for(;;)switch(e.n){case 0:vt({promises:[t.getOverviewData],delay:100});case 1:return e.a(2)}},e)}))),function(e,n){var a=he,c=ye,f=ie,d=le,m=ge;return h(),y("div",sr,[g("div",ur,[g("div",cr,[n[3]||(n[3]=g("span",{class:"font-alibaba-semibold"},"概览",-1)),g("span",{title:"自定义概览模块",class:"!ml-[1rem] cursor-pointer",onClick:n[0]||(n[0]=function(e){return v(t).openOverviewTemplate()})},s(n[2]||(n[2]=[g("i",{class:"svgtofont-el-more-filled !text-[1.8rem] hover:text-[#20a53a] inline-block",style:{transform:"rotate(90deg)"}},null,-1)])))])]),g("div",fr,[g("div",dr,[_(d,{span:24,gutter:20,class:"overview-wrapper draggable-group"},{default:S(function(){return[v(r)?(h(),y(A,{key:0},F(5,function(e){return _(c,{style:ne({width:"".concat(v(l).width,"px")}),class:"overview-box",key:e},{template:S(function(){return[g("div",mr,[_(a,{variant:"text",class:"!w-[40%]"}),_(a,{variant:"text",class:"mt-10px"})])]}),_:2},1032,["style"])}),64)):x("",!0),(h(!0),y(A,null,F(v(i),function(e){return h(),C(f,{span:v(l).number,xl:v(l).number,class:"rounded-[8px]",key:e.id,onClick:function(n){return v(t).openModelDialog(e)},style:ne({minWidth:"".concat(v(l).width,"px")})},{default:S(function(){return[g("div",pr,[g("i",{class:"svgtofont-icon-drag move-icon",onClick:n[1]||(n[1]=ve(function(){},["stop"])),title:"可拖拽"}),g("div",vr,[g("div",hr,[g("span",yr,b(v(t).getModelTitle(e)),1),g("div",gr,["base"===e.template?(h(),y("span",{key:0,class:R(["bt-link-primary !text-[2.8rem] text-alibaba",{memo:"memo"===e.name,risk:"safety_risk"===e.name&&e.value[0]>0,"!text-[#CBCBCB]":"memo"===e.name&&!e.value[0]}])},b(e.value[0]||("memo"===e.name?"当前内容为空，点击编辑":e.value[0])),3)):"browse"===e.template?(h(),y(A,{key:1},["plugin"!==e.type||e.plugin_info.setup?"plugin"===e.type||"model"===e.type?G((h(),y("div",xr,[g("div",wr,[n[4]||(n[4]=g("span",{class:""},"今日",-1)),g("span",null,b(e.value[0]||0),1)]),g("div",kr,[n[5]||(n[5]=g("span",null,"昨日",-1)),g("span",null,b(e.value[1]||0),1)])])),[[m,v(o)&&"ssh_log"===e.name]]):x("",!0):(h(),y("span",br,b(v(t).getPayStatus(e)?"立即购买":"立即安装"),1))],64)):"open_dir"===e.template?(h(),y("span",_r,b(e.params[0].name),1)):"search_file"===e.template?(h(),y("span",Sr," 点击搜索内容 ")):x("",!0),"base"===e.type||"safety_risk"===e.name?(h(),y("div",Cr,[n[6]||(n[6]=g("span",{class:"icon-open-routes-icon"},[g("i",{class:"svgtofont-el-arrow-right font-bold text-[1.6rem]"})],-1)),g("span",Ir,b(v(u)?"打开":"打开到".concat(v(t).getModelTitle(e).split("-")[0])),1)])):x("",!0)])])])])]}),_:2},1032,["span","xl","onClick","style"])}),128))]}),_:1})])])])}}}),[["__scopeId","data-v-0be1e476"]]),Tr={class:"module-ui flex flex-col"},jr={class:"module-ui-header"},Lr={class:"w-full flex justify-between items-center"},Or={class:"plugin-search"},Mr={class:"pluginInfo"},Br=["src"],Dr={class:"plugin-desc"},Ar={class:"wrapper module-ui-body soft-wrapper"},Fr=["onClick"],Rr={key:0,id:"freeTagCon"},Er={class:"h-38 pt-5 w-full text-center flex justify-center items-center"},Nr={class:"w-[6rem] h-[6rem] rounded-[1.2rem] bg-[#f6f6f6] flex items-center justify-center"},zr=["src","custom"],Hr={class:"text-[#888] h-9 leading-9 flex items-center justify-center pb-[8px]"},Vr={class:"w-full truncate text-center"},Ur=["onClick"],Wr={class:"h-38 pt-5 w-full text-center flex justify-center items-center"},qr={class:"w-[6rem] h-[6rem] rounded-[1.2rem] bg-[#f6f6f6] flex items-center justify-center"},Gr=["src"],$r={class:"flex justify-center items-center h-9 leading-9 pb-[8px]"},Kr={class:"text-[#999] h-9 leading-9 w-full truncate text-center"},Jr={class:"flex justify-center align-middle mt-2 mb-4 opacity-70"},Qr=l({__name:"index",setup:function(e){var t=Ft(),n=w(t),a=n.popShow,r=n.pluginKeyword,o=n.recommendList,i=n.containerRef,l=n.mySoftList,u=n.tableLoading,c=n.isGetSoft,d=n.softShowList;return O(o,function(e){e.length>0&&t.createSoftList()},{immediate:!0}),m(p(f().m(function e(){return f().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,vt({promises:[t.getHomeInstallSoftData,t.getRecommendInfo],delay:100});case 1:D(function(){if(zt().type.includes("aliyun"))var e=setInterval(p(f().m(function t(){var n;return f().w(function(t){for(;;)switch(t.n){case 0:if(!window.$extension){t.n=2;break}return t.n=1,window.$extension();case 1:n=t.v,He(n.extensionElement)&&!n.extensionElement&&clearTimeout(e),n.extensionElement&&(n.extensionElement(),clearTimeout(e));case 2:return t.a(2)}},t)})),1e3)});case 2:return e.a(2)}},e)}))),function(e,n){var o=Q,f=we,m=ke,p=U,w=_e,k=j,I=W("table-scroll-load"),T=W("bt-loading");return h(),y("div",Tr,[g("div",jr,[g("div",Lr,[g("span",{onClick:n[0]||(n[0]=function(){var e;return v(t).goSoft&&(e=v(t)).goSoft.apply(e,arguments)}),class:"cursor-pointer hover:text-primary font-alibaba-semibold"},"软件"),_(k,{"popper-class":"myPopover",placement:"right-start",visible:v(a),width:"400",onShow:n[7]||(n[7]=function(e){return v(t).showPopoverHandle("")})},{reference:S(function(){return[_(o,{ref:"softButton",class:"soft-button-no-padding",type:"default",title:"软件自定义编辑",link:"",onClick:n[6]||(n[6]=function(e){return a.value=!v(a)})},{default:S(function(){return s(n[10]||(n[10]=[g("i",{class:"svgtofont-el-more-filled text-[#22223F] !text-[1.8rem] hover:text-[#20a53a] inline-block",style:{transform:"rotate(90deg)"}},null,-1)]))}),_:1},512)]}),default:S(function(){return[g("div",{ref_key:"containerRef",ref:i,class:"plugin-box p-[.8rem]",onMouseleave:n[5]||(n[5]=function(){var e;return v(t).leave&&(e=v(t)).leave.apply(e,arguments)})},[g("div",Or,[_(f,{placeholder:"请输入要搜索的应用",modelValue:v(r),"onUpdate:modelValue":n[2]||(n[2]=function(e){return V(r)?r.value=e:null}),"fetch-suggestions":v(t).querySearch,"trigger-on-focus":!1,class:"search-input w-full","popper-class":"soft-search-popover",onKeyup:n[3]||(n[3]=be(function(e){return v(t).searchPluginHandle("select")},["enter","native"])),onSelect:n[4]||(n[4]=function(e){return v(t).searchPluginHandle()})},{append:S(function(){return[_(o,{onClick:n[1]||(n[1]=function(e){return v(t).searchPluginHandle("select")})},{default:S(function(){return s(n[9]||(n[9]=[g("i",{class:"svgtofont-el-search"},null,-1)]))}),_:1})]}),_:1},8,["modelValue","fetch-suggestions"])]),G((h(),C(w,{data:v(l),height:"400"},{default:S(function(){return[_(m,{width:"260",property:"date",label:"软件名称"},{default:S(function(e){return[g("div",Mr,[g("img",{class:"plugin-img",src:v(t).renderSoftImages(e.row.name)},null,8,Br),g("span",Dr,b(e.row.title)+" "+b(e.row.version),1)])]}),_:1}),_(m,{property:"setup",sortable:"",label:"首页显示",prop:"index_display"},{default:S(function(e){return[_(p,{modelValue:e.row.index_display,"onUpdate:modelValue":function(t){return e.row.index_display=t},"active-color":"#20A53A","inactive-color":"#CDCDCD",width:32,size:"small",onChange:function(n){return v(t).changeSwitchHandle(e.row,e.$index)}},null,8,["modelValue","onUpdate:modelValue","onChange"])]}),_:1})]}),_:1},8,["data"])),[[I,v(t).load],[T,v(u)]])],544)]}),_:1},8,["visible"])])]),G((h(),y("div",Ar,[_(xe,null,{default:S(function(){return[(h(!0),y(A,null,F(v(d),function(e,a){return h(),y("div",{key:e.name+"_id",class:R(e.title?"box-wrapper cursor-pointer relative":"")},[a<12?(h(),y(A,{key:0},[e.id&&e.setup?(h(),y("div",{key:0,onClick:function(n){return v(t).openSoftView(e)}},[g("i",{class:"svgtofont-icon-drag !text-[1.4em] text-[#666] !hidden absolute right-6 top-6 cursor-move mover soft-move",onClick:n[8]||(n[8]=ve(function(){},["stop"]))}),e.tag?(h(),y("span",Rr)):x("",!0),g("div",Er,[g("div",Nr,[g("img",{src:v(t).renderSoftImages(e.name),class:"w-[4rem]",custom:!v(lt)},null,8,zr)])]),g("div",Hr,[g("span",Vr,[P(b(e.title.replace(/PHP-[{0-9},\.]+/,"PHP-")+" "+e.version)+" ",1),G(g("i",{style:ne("color:".concat(v(t).softStatusColor(e))),class:R("ml-[5px] svgtofont-icon-".concat(v(t).softStatus(e)))},null,6),[[X,5===e.type]])])])],8,Fr)):v(st)(e)?x("",!0):(h(),y(A,{key:1},[g("div",{onClick:function(n){return v(t).openRecommendSoftView(e)},class:"absolute rounded-[3px] left-2 top-2 py-.5 px-3 transform scale-75 bg-[#efefef] text-[#999] opacity-80"},"推荐",8,Ur),g("div",Wr,[g("div",qr,[g("img",{src:"".concat(v(lt)?"/static/images":"/static/img","/soft_ico/ico-").concat(e.name,".png"),class:"w-[4rem]"},null,8,Gr)])]),g("div",$r,[g("div",Kr,[P(b(e.title)+" "+b(e.version),1),n[11]||(n[11]=g("span",{class:"text-btColor"},null,-1))])]),g("div",Jr,[e.preview?(h(),C(o,{key:0,type:"default",size:"small",onClick:function(n){return v(t).openSoftPreLink(e)},plain:""},{default:S(function(){return s(n[12]||(n[12]=[P("预览",-1)]))}),_:2},1032,["onClick"])):x("",!0),e.isBuy?x("",!0):(h(),C(o,{key:1,type:"success",size:"small",plain:"",onClick:function(n){return v(t).openLtdPayView(e)}},{default:S(function(){return s(n[13]||(n[13]=[P("购买",-1)]))}),_:2},1032,["onClick"])),e.isBuy&&!e.install?(h(),C(o,{key:2,type:"success",size:"small",plain:"",onClick:function(n){return v(t).openInstall(e)}},{default:S(function(){return s(n[14]||(n[14]=[P("安装",-1)]))}),_:2},1032,["onClick"])):x("",!0)])],64))],64)):x("",!0)],2)}),128))]}),_:1})])),[[T,v(c)],[T,"正在获取软件列表，请稍后...","title"]])])}}}),Zr=Fe(Qr,[["__scopeId","data-v-199a917a"]]),Xr={class:"monitor monitor-chart w-full"},Yr=l({__name:"main",props:Se({info:{default:function(){return{info:[],option:{}}}}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup:function(e,t){var n=t.expose,r=Ce(e,"modelValue"),o=c();O(r,function(e){e&&d(e)});var i=ut({options:{xAxis:{type:"category",boundaryGap:!1,data:[]},yAxis:{boundaryGap:[0,"50%"],type:"value"},series:[]}}),l=i.BtECharts,s=i.getEChart,u=i.setOption,d=function(){var e=p(f().m(function e(t){var n;return f().w(function(e){for(;;)switch(e.n){case 0:return u(m(t)),e.n=1,s();case 1:o.value=e.v,null===(n=o.value)||void 0===n||n.resize();case 2:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),m=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n={grid:{right:"5%",bottom:"6%",top:"6%"},tooltip:{trigger:"axis",axisPointer:{type:"cross"},formatter:t.formatter},xAxis:{type:"category",boundaryGap:!1,data:t.tData,axisLine:{lineStyle:{color:"#cccccc"}}},yAxis:a(a({type:"value",boundaryGap:[0,"100%"],splitNumber:t.splitNumber,min:0},"iostat"===(null===(e=r.value)||void 0===e?void 0:e.type)?{axisLabel:{formatter:function(e,t){return Ke(e,!1,0)},color:"#666"}}:{}),{},{splitLine:{lineStyle:{color:"#cccccc"}},axisLine:{lineStyle:{color:"#cccccc"}}}),series:[]},o=t.legend,i=t.dataZoom,l=t.list;return o&&(n.legend=o),i&&(n.dataZoom=i),l.forEach(function(e){var t={name:e.name,data:e.data,type:e.type||"line",smooth:e.smooth||!0,symbol:"circle",symbolSize:6,showSymbol:!0,emphasis:{symbolSize:8},sampling:e.sampling||"average",areaStyle:e.areaStyle||{},lineStyle:a({},e.lineStyle||{}),itemStyle:a(a({},e.itemStyle||{}),{},{borderColor:"#fff",borderWidth:"1px"})};n.series.push(t)}),n};return n({echartRef:o,setConfig:d}),function(e,t){return h(),y("div",Xr,[q(e.$slots,"default",{},void 0,!0),_(v(l),{class:"w-full"})])}}}),eo=Fe(Yr,[["__scopeId","data-v-f3ecbdc6"]]),to=M("HOME-MONITOR-STORE",function(){var e,t,n=It(),a=w(n).isRefreshData,r=c(!0),o=c(!1),i=c(),l=c(),s=c("net"),u=c(localStorage.getItem("netUnit")||"KB"),d=pe({}),m=pe({}),v=c([]),h=c([]),y=H({net:{selectVal:"ALL",selectList:[],data:{timeList:[],upList:[],downList:[]},info:{up:{label:"上行",value:"0 B",bgColor:"#20a53a"},down:{label:"下行",value:"0 B",bgColor:" #FF9901"},upTotal:{label:"总发送",value:"0 B"},downTotal:{label:"总接收",value:"0 B"}}},iostat:{selectVal:"ALL",selectList:[],data:{timeList:[],readList:[],writeList:[],tipsList:[]},info:{read:{label:"读取",value:"0 B",bgColor:"#FF4683"},write:{label:"写入",value:"0 B",bgColor:"#6CC0CF"},second:{label:"每秒读写",value:"0次"},io:{label:"IO延迟",value:"0 ms",color:"#20a53a"}}}}),g=c([{label:"KB/s",value:"KB",disable:!1},{label:"MB/s",value:"MB",disable:!1},{label:"GB/s",value:"GB",disable:!1},{label:"TB/s",value:"TB",disable:!1}]);(t=e||(e={})).Net="net",t.Iostat="iostat",tn.useSetCallback("network",function(e){var t;if(e){v.value=e,"net"===s.value&&S(e,u.value);var n=L("net","data");d.value=C(n),null!==(t=j(s.value))&&void 0!==t&&null!==(t=t.echartRef)&&void 0!==t&&t.id&&(o.value=!1),x()}}),tn.useSetCallback("diskIo",function(){var e=p(f().m(function e(t){var n,a;return f().w(function(e){for(;;)switch(e.n){case 0:if(t){e.n=1;break}return e.a(2);case 1:h.value=t,"iostat"===s.value&&I(t),a=L("iostat","data"),m.value=P(a),null!==(n=j(s.value))&&void 0!==n&&null!==(n=n.echartRef)&&void 0!==n&&n.id&&(o.value=!1),x();case 2:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}());var b=k(function(){return y[s.value].selectVal}),x=function(){var e=function(){var e=O(t),n=y[t],a=n.selectList;a.length=0,Object.keys(e).forEach(function(e){if("ALL"===e)return n.selectVal||(n.selectVal=e),void a.unshift({label:"所有",value:"ALL"});a.push({label:e,value:e})})};for(var t in y)e()},_=function(e,t){var n=e.up,a=e.down,r=e.upTotal,o=e.downTotal;return{up:Ke(1024*n,!1,2,t),down:Ke(1024*a,!1,2,t),upTotal:Ke(1024*r,!1,2,t),downTotal:Ke(1024*o,!1,2,t)}},S=function(e,t){var n=L("net").info,a=e[b.value||"ALL"];if(a){var r=n.up,o=n.down,i=n.upTotal,l=n.downTotal,s=_(a,t),u=_(a,"MB");if(r.value=Ke(1024*a.up,!0,1),o.value=Ke(1024*a.down,!0,1),i.value=Ke(a.upTotal,!0,1),l.value=Ke(a.downTotal,!0,1),100*parseFloat(u.down)==0||100*parseFloat(u.down)==0)g.value=[{label:"KB/s",value:"KB",disable:!1},{label:"MB/s",value:"MB",disable:!0},{label:"GB/s",value:"GB",disable:!0},{label:"TB/s",value:"TB",disable:!0}];else{var c=_(a,"GB");if(100*parseFloat(c.down)==0||100*parseFloat(c.down)==0)g.value=[{label:"KB/s",value:"KB",disable:!1},{label:"MB/s",value:"MB",disable:!1},{label:"GB/s",value:"GB",disable:!0},{label:"TB/s",value:"TB",disable:!0}];else{var f=_(a,"TB");100*parseFloat(f.down)!=0&&100*parseFloat(f.down)!=0||(g.value=[{label:"KB/s",value:"KB",disable:!1},{label:"MB/s",value:"MB",disable:!1},{label:"GB/s",value:"GB",disable:!1},{label:"TB/s",value:"TB",disable:!0}])}}T("net",[{key:"timeList"},{key:"upList",value:s.up},{key:"downList",value:s.down}])}},C=function(e){return{dataZoom:[],tData:e.timeList,list:[{name:"上行",data:e.upList,circle:"circle",itemStyle:{color:"#20a53a"},lineStyle:{width:2,color:"#20a53a"},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,global:!1,colorStops:[{offset:0,color:"rgba(32, 165, 58, .6)"},{offset:.8,color:"rgba(32, 165, 58, 0)"}]}}},{name:"下行",data:e.downList,circle:"circle",itemStyle:{color:" #FF9901"},lineStyle:{width:2,color:"#FF9901"},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,global:!1,colorStops:[{offset:0,color:"rgba(255, 153, 1, .6)"},{offset:.8,color:"rgba(255, 153, 1, 0)"}]}}}],formatter:function(e){for(var t="",n=0;n<e.length;n++){var a=e[n];if(Ze(a.data))return!1;t+='<span class="inline-block w-[1rem] h-[1rem] mr-[1rem]" style="border-radius: 50%; background: '.concat(a.color,';"></span>').concat(a.seriesName,"：").concat(Ke(1024*parseFloat(a.data),!0,1),"/s ").concat(e.length-1!==n?"<br />":"")}return"时间：".concat(e[0].axisValue,"<br />").concat(t)}}},I=function(e){var t=L("iostat").info,n=e[y.iostat.selectVal||"ALL"],a=t.read,r=t.write,o=t.second,i=t.io;if(n){var l=n.read_bytes,s=n.write_bytes,u=n.read_count,c=n.write_count,f=n.read_time,d=n.write_time;a.value=Ke(l,!0,1),r.value=Ke(s,!0,1),o.value="".concat(u+c," 次"),i.value="".concat(d>f?d:f," ms");var m=parseInt(i.value);i.color=m>=1e3?"#ff0000":m>100&&m<1e3?"#ff9900":"#20a53a",T("iostat",[{key:"timeList"},{key:"readList",value:l},{key:"writeList",value:s},{key:"tipsList",value:n}])}},P=function(e){return{dataZoom:[],type:"iostat",tData:e.timeList,list:[{name:"读取字节数",data:e.readList,circle:"circle",itemStyle:{color:"#FF4683"},lineStyle:{width:2,color:"#FF4683"},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,global:!1,colorStops:[{offset:0,color:"rgba(255, 70, 131, .8)"},{offset:.8,color:"rgba(255, 70, 131, 0)"}]}}},{name:"写入字节数",data:e.writeList,circle:"circle",itemStyle:{color:"#6CC0CF"},lineStyle:{width:2,color:"#6CC0CF"},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,global:!1,colorStops:[{offset:0,color:"rgba(108, 192, 207, .8)"},{offset:.8,color:"rgba(108, 192, 207, 0)"}]}}}],formatter:function(t){for(var n="时间：".concat(t[0].axisValue,"<br />"),a={read_bytes:"读取字节数",read_count:"读取字节数",read_merged_count:"合并读取次数",read_time:"读取延迟",write_bytes:"写入字节数",write_count:"写入次数",write_merged_count:"合并写入次数",write_time:"写入延迟"},r=e.tipsList[t[0].dataIndex],o=0;o<t.length;o++){var i=t[o];if(Ze(i.data))return!1;n+='<span class="inline-block w-[1rem] h-[1rem] mr-[.1rem]" style="border-radius: 50%; background: '.concat(i.color,';"></span>&nbsp;&nbsp;<span>').concat(i.seriesName,"：").concat(Ke(parseFloat(i.data),!0,1),"/s</span><br />")}return["read_count","write_count","read_merged_count","write_merged_count","read_time","write_time"].forEach(function(e){var t=r[e],o=t>100&&t<1e3?"#ff9900":t>=1e3?"red":"#20a53a",i=e.indexOf("time")>-1?"color: ".concat(o):"",l=e.indexOf("time")>-1?" ms":" 次/秒";n+='<span class="inline-block w-[1rem] h-[1rem]"></span>&nbsp;&nbsp;<span style="'.concat(i,'">').concat(a[e],"：").concat(t+l,"</span><br />")}),n}}},T=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,a=L(e,"data");t.forEach(function(e){var t=e.key,r=e.value,o=a[t];o.length>=n&&o.splice(0,1),"timeList"==t?o.push(ct((new Date).getTime(),"hh:mm:ss",!0)):o.push(r)})},j=function(e){return"net"==e?i.value:"iostat"==e?l.value:void 0},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"net",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return t?y[e][t]:y[e]},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"net";return"net"==e?v.value:"iostat"==e?h.value:{}};return{netRefs:i,iostatRefs:l,loading:o,iostatConfig:m,resource:y,unitList:g,activeName:s,netConfig:d,netUnit:u,initChart:function(){o.value=!0;var e=localStorage.getItem("home-model-active"),t=localStorage.getItem("home-".concat(e,"-active"));e&&(s.value=e,y[e].selectVal=t||"ALL"),D(function(){a.value=!0});var n=L("net","data");d.value=C(n);var r=L("iostat","data");m.value=P(r)},onSelectChange:function(){localStorage.setItem("home-model-active",s.value),localStorage.setItem("home-".concat(s.value,"-active"),b.value),"net"===s.value?S(v.value,u.value):I(h.value)},onNetUnitChange:function(){y.net.data.timeList=[],y.net.data.upList=[],y.net.data.downList=[],localStorage.setItem("netUnit",u.value),S(v.value,u.value)},onTabsChange:function(){var e=s.value;localStorage.setItem("home-model-active",e);var t=localStorage.getItem("home-".concat(e,"-active"));t&&y[e].selectList.some(function(e){return e.value===t})?y[e].selectVal=t:y[e].selectVal="ALL",D(function(){var t=j(e);if(null!=t&&t.echartRef&&setTimeout(function(){t.echartRef.resize()},100),r.value&&"iostat"===e){r.value=!1;var n=L("iostat","data");t&&n&&t.setConfig(P(n))}})}}}),no={class:"module-ui"},ao={class:"module-ui-header"},ro={class:"flex justify-between items-center w-full -ml-[1.4rem]"},oo={class:"flex items-center"},io={class:"flex items-center"},lo={class:"text-[#888] font-500 text-[1.2rem] mr-[1.5rem] whitespace-pre"},so={class:"module-ui-body"},uo=l({__name:"index",setup:function(e){var t=c(!1),n=c(!1),a=l({name:"NetMonitor",setup:function(e,t){var n=t.emit,a=to(),r=w(a),o=r.netConfig,i=r.resource,l=(r.unitList,r.netUnit,r.netRefs);return m(function(){n("cache-status",{type:"net",cached:!0})}),function(){return _("div",{class:"home-monitor-content"},[_("div",{class:"home-monitor__stats-grid"},[Object.values(i.value.net.info).map(function(e,t){return _("div",{key:t,class:"home-monitor__stat-item"},[_("div",{class:"home-monitor__stat-content"},[_("div",{class:"home-monitor__stat-left"},[e.bgColor&&_("div",{class:"home-monitor__stat-dot-wrapper"},[_("span",{class:"home-monitor__stat-dot",style:{backgroundColor:e.bgColor}},null),_("span",{class:"home-monitor__stat-dot-ripple",style:{borderColor:e.bgColor}},null)]),_("span",{class:"home-monitor__stat-label"},[e.label])]),_("div",{class:"home-monitor__stat-right"},[_("div",{class:"home-monitor__stat-value",style:{color:e.color||"#777"}},[e.value])])])])})]),_("div",{class:"home-monitor__chart-container"},[_(eo,{ref:l,modelValue:o.value,info:i.value.net.info},null)])])}}}),r=l({name:"IostatMonitor",setup:function(e,t){var n=t.emit,a=to(),r=w(a),o=r.iostatConfig,i=r.resource,l=r.iostatRefs;return m(function(){n("cache-status",{type:"iostat",cached:!0})}),function(){return _("div",{class:"home-monitor-content"},[_("div",{class:"home-monitor__stats-grid"},[Object.values(i.value.iostat.info).map(function(e,t){return _("div",{key:t,class:"home-monitor__stat-item"},[_("div",{class:"home-monitor__stat-content"},[_("div",{class:"home-monitor__stat-left"},[e.bgColor&&_("div",{class:"home-monitor__stat-dot-wrapper"},[_("span",{class:"home-monitor__stat-dot",style:{backgroundColor:e.bgColor}},null),_("span",{class:"home-monitor__stat-dot-ripple",style:{borderColor:e.bgColor}},null)]),_("span",{class:"home-monitor__stat-label"},[e.label])]),_("div",{class:"home-monitor__stat-right"},[_("div",{class:"home-monitor__stat-value",style:{color:e.color||"#777"}},[e.value])])])])})]),_("div",{class:"home-monitor__chart-container"},[_(eo,{ref:l,modelValue:o.value,info:i.value.iostat.info},null)])])}}}),o=to(),i=w(o),s=i.loading,u=i.resource,f=i.activeName,d=k(function(){return"net"===f.value?a:r}),p=k(function(){return"net"===f.value?"正在获取流量信息，请稍候...":"正在获取磁盘IO信息，请稍候..."}),x=function(e){"net"===e.type?t.value=e.cached:"iostat"===e.type&&(n.value=e.cached)},P=function(e){f.value!==e&&(performance.now(),f.value=e,o.onTabsChange())};return m(function(){var e=localStorage.getItem("home-model-active");e&&["net","iostat"].includes(e)&&(f.value=e),o.initChart()}),function(e,t){var n=Pe,a=Te,r=W("bt-loading");return h(),y("div",no,[g("div",ao,[g("div",ro,[g("div",oo,[g("div",{class:R(["tab-item",{active:"net"===v(f)},"font-alibaba-semibold"]),onClick:t[0]||(t[0]=function(e){return P("net")})},"流量",2),g("div",{class:R(["tab-item",{active:"iostat"===v(f)},"font-alibaba-semibold"]),onClick:t[1]||(t[1]=function(e){return P("iostat")})},"磁盘IO",2)]),g("div",io,[g("span",lo,b("net"===v(f)?"网卡":"磁盘"),1),(h(!0),y(A,null,F(v(u),function(e,t){return G((h(),C(a,{key:t,modelValue:e.selectVal,"onUpdate:modelValue":function(t){return e.selectVal=t},placeholder:"请选择","fit-input-width":!0,onChange:v(o).onSelectChange,size:"small",class:"!min-w-[100px] !rounded-[.8rem]"},{default:S(function(){return[(h(!0),y(A,null,F(e.selectList,function(e){return h(),C(n,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])}),128))]}),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])),[[X,"".concat(t)==v(f)]])}),128))])])]),g("div",so,[(h(),C(Ie,null,[G((h(),C(I(v(d)),{key:v(f),"v-bt-loading:title":v(p),onCacheStatus:x},null,40,["v-bt-loading:title"])),[[r,v(s)]])],1024))])])}}}),co=M("RECOMMEND-STORE",function(){var e=Le().payment,t=d(e.value),n=t.authType,a=t.authExpirationTime,r=c(!1),o=c([["time","5分钟极速响应"],["refund","15天无理由退款"],["plunge","30+款付费插件"],["function","20+企业版专享功能"],["certificate","2张SSL商用证书（年付）"],["message","1000条免费短信（年付）"]]),i=c([["speed","5分钟极速响应"],["fifteen","15天无理由退款"],["plugin","30+款付费插件"],["more","20+企业版专享功能"],["recom","2张SSL商用证书（年付）"],["message","1000条免费短信（年付）"]]),l=c(["多对一技术支持","全年5次安全排查","5分钟极速响应","30+款付费插件","20+企业版专享功能","1000条免费短信（年付）","2张SSL商用证书（年付）","一对一服务（年付）","WAF防火墙","更换授权IP","客服优先响应","15+款付费插件","15天无理由退款"]),s=c([0,0,0,0,0,0,0,0,1,1,1,1,1]),u=c([0,0,1,1,1,1,1,1,1,1,1,1,1]),f=c([1,1,1,1,1,1,1,1,1,1,1,1,1]),m=c(!1),p=c(!0);return{plusPrivilegeList:f,ltdPrivilegeList:u,proPrivilegeList:s,privilegeList:l,limitTimeShow:m,advantageList:o,newAdvantageList:i,recommendShow:p,showPrivilege:r,authType:n,authExpirationTime:a,setRecommendHide:function(e){var t=((new Date).getTime()+864e5*e).toString();localStorage.setItem("HOME-RECOMMEND-HIDE-TIME",t),p.value=!1},checkRecommendHide:function(){var e=parseInt(localStorage.getItem("HOME-RECOMMEND-HIDE-TIME")||"0");e&&(p.value=e<(new Date).getTime())},openProduct:function(e){return xt({sourceId:e,disablePro:!0})}}}),fo={key:0,class:"h-auto"},mo={class:"absolute left-0 right-0 flex items-center px-[16px]"},po={class:"advantage-list"},vo={class:"text-[#888] text-[1.3rem]"},ho={class:"absolute left-0 right-0 flex items-center px-[16px]"},yo={class:"flex items-center"},go={class:"relative mr-[2rem]"},bo={class:"advantage-list"},xo={class:"text-[#888] text-[1.3rem]"},wo={class:"p-[24px] flex justify-center flex-col items-center"},ko={class:"flex items-center mt-[20px]"},_o={class:"flex-col items-center border border-[rgb(221,221,221)] justify-center w-[22rem]"},So={class:"flex flex-col text-[1.4rem] text-[#666] function-text"},Co={class:"flex-col border border-[#FFEFD0] items-center bg-[#fff8eb] justify-center w-[22rem]"},Io={class:"text-[2rem] text-[#333] font-medium h-[9.4rem] leading-[9.4rem] text-center"},Po={class:"flex flex-col text-[1.4rem] text-[#666] pro-text"},To={key:0,class:"svgtofont-el-close text-[red] text-[3px]l font-bold"},jo={key:1,class:"svgtofont-el-check text-[#feaa04] text-[18px] font-bold"},Lo={key:0,class:"recommend-left"},Oo={class:"text-[#E5A734] flex justify-center font-bold"},Mo={class:"flex flex-col text-[1.4rem] text-[#666] ltd-text"},Bo={key:0,class:"svgtofont-el-close text-[red] text-[18px] font-bold"},Do={key:1,class:"svgtofont-el-check text-[#feaa04] text-[18px] font-bold"},Ao={key:0,class:"svgtofont-el-close text-[red] text-[18px] font-bold"},Fo={key:1,class:"svgtofont-el-check text-[#feaa04] text-[18px] font-bold"},Ro=l({__name:"index",setup:function(e){var t=Le(),n=t.forceLtd,a=t.aliyunEcsLtd,r=t.authRemainingDays,o=co(),i=w(o),l=i.plusPrivilegeList,u=i.ltdPrivilegeList,c=i.proPrivilegeList,f=i.privilegeList,d=i.limitTimeShow,p=(i.advantageList,i.newAdvantageList),k=i.recommendShow,C=i.showPrivilege,I=i.authType,T=i.authExpirationTime;return m(function(){o.checkRecommendHide()}),function(e,t){var i=Re,m=St,w=ft,j=dt;return!v(k)||v(n)||v(a)?x("",!0):(h(),y("div",fo,["ltd"===v(I)?(h(),y("div",{key:0,class:"advantage-view",onMouseover:t[2]||(t[2]=function(e){return d.value=!0}),onMouseleave:t[3]||(t[3]=function(e){return d.value=!1})},[g("div",mo,[g("div",{class:"flex items-center text-[1.3rem] mr-[3rem] flex-shrink-0 cursor-pointer",onClick:t[0]||(t[0]=function(e){return v(o).openProduct(28)})},[t[11]||(t[11]=g("div",{class:"ltd-privilege-title flex flex-shrink-0 items-center ltd-title-edit"},[g("span",{class:"text-[1.4rem] pl-[2.4rem] font-bold"}," 企业版 ")],-1)),g("span",{class:R({"text-danger":v(r)<7,"text-[#fc6d26]":v(r)>=7,"ml-[8px]":!0,"font-bold":!0})},b(v(ct)(v(T),"yyyy-MM-dd")),3),_(i,{class:"ml-[8px]",size:"13px"},{default:S(function(){return s(t[10]||(t[10]=[P("续费",-1)]))}),_:1})]),g("div",po,[(h(!0),y(A,null,F(v(p),function(e,t){return h(),y("div",{class:"advantage-item",key:t},[_(m,{name:"tools-".concat(e[0]),size:"20",class:"mr-[4px]"},null,8,["name"]),g("span",vo,b(e[1]),1)])}),128))])]),G(g("div",{class:"day-not-display",onClick:t[1]||(t[1]=function(e){return v(o).setRecommendHide(3)})},s(t[12]||(t[12]=[g("i",{class:"svgtofont-el-close"},null,-1),g("span",null,"近3天不再显示",-1)])),512),[[X,v(d)]])],32)):"free"===v(I)?(h(),y("div",{key:1,class:"advantage-view",onMouseover:t[6]||(t[6]=function(e){return d.value=!0}),onMouseleave:t[7]||(t[7]=function(e){return d.value=!1})},[g("div",ho,[g("div",yo,[g("div",go,[g("button",{class:"product-payment-btn",onClick:t[4]||(t[4]=function(e){return v(o).openProduct(27)})},s(t[13]||(t[13]=[g("span",{class:"ml-[1.2rem text-[1.4rem]"}," 立即开通 ",-1)])))]),t[14]||(t[14]=g("div",{class:"ltd-privilege-title flex flex-shrink-0 items-center mr-[8px]"},[g("span",{class:"text-[1.6rem] ml-[.4rem] mr-[2rem] pl-[3rem] font-bold"}," 企业版VIP特权 ")],-1))]),g("div",bo,[(h(!0),y(A,null,F(v(p),function(e,t){return h(),y("div",{class:"advantage-item",key:t},[_(m,{name:"tools-".concat(e[0]),size:"20",class:"mr-[4px]"},null,8,["name"]),g("span",xo,b(e[1]),1)])}),128))])]),G(g("div",{class:"day-not-display",onClick:t[5]||(t[5]=function(e){return v(o).setRecommendHide(1)})},s(t[15]||(t[15]=[g("i",{class:"svgtofont-el-close"},null,-1),P("近24小时不再显示",-1)])),512),[[X,v(d)]])],32)):x("",!0),_(j,{modelValue:v(C),"onUpdate:modelValue":t[9]||(t[9]=function(e){return V(C)?C.value=e:null}),area:96},{default:S(function(){return[g("div",wo,[_(w,{src:"/advantage/privilege-contrast.png"}),g("div",ko,[g("div",_o,[t[16]||(t[16]=g("p",{class:"text-[2rem] text-[#333] font-bold h-[9.4rem] leading-[9.4rem] text-center"},"功能特权",-1)),g("ul",So,[(h(!0),y(A,null,F(v(f),function(e,t){return h(),y("li",{class:"px-[24px] h-[4rem] leading-[4rem]",key:t},b(e),1)}),128))])]),g("div",Co,[g("div",Io,[g("p",null,[_(w,{src:"/advantage/privilege-pro.svg",class:"mr-[8px]"}),t[17]||(t[17]=P("专业版",-1))])]),g("ul",Po,[(h(!0),y(A,null,F(v(c),function(e,t){return h(),y("li",{class:"px-[24px] h-[4rem] leading-[4rem] text-center",key:t},[e?(h(),y("i",jo)):(h(),y("i",To))])}),128))])]),(h(),y(A,null,F(2,function(e,n){return g("div",{class:R(["w-[22rem] bg-[#272a2c] flex-col relative",n?"":"border-2 border-[#787878] h-[64.6rem] shadow"]),key:n},[0===n?(h(),y("span",Lo)):x("",!0),g("div",{class:R(["text-[2rem] flex flex-col justify-center items-center",n?" h-[9.4rem]":" h-[11rem]"])},[g("div",Oo,[_(w,{class:"mr-[8px]",src:"/advantage/privilege-diamond.svg"}),g("span",{class:R(n?"":"linear")},b(n?"企业运维托管":"企业版"),3)]),g("button",{class:R(["px-[20px] py-[4px]",n?"linear text-border privilege-button font-bold":"button-linear privilege-button"]),onClick:t[8]||(t[8]=function(e){return v(o).openProduct(45)})},"立即购买",2)],2),g("ul",Mo,[0===n?(h(!0),y(A,{key:0},F(v(u),function(e,t){return h(),y("li",{key:t},[e?(h(),y("i",Do)):(h(),y("i",Bo))])}),128)):x("",!0),0!=n?(h(!0),y(A,{key:1},F(v(l),function(e,t){return h(),y("li",{key:t},[e?x("",!0):(h(),y("i",Ao)),e?(h(),y("i",Fo)):x("",!0)])}),128)):x("",!0)])],2)}),64))])])]}),_:1},8,["modelValue"])]))}}}),Eo=Fe(Ro,[["__scopeId","data-v-2bd87120"]]),No={class:"pt-[1.2rem]"},zo=l({__name:"index",setup:function(e){var t=Le(),n=t.getAlarmData,r=t.forceLtd,o=t.payment,i=t.panel,l=t.aliyunEcsLtd,s=t.getUserInfo,u=t.isHideAd,b=It(),k=w(b).panelInfo,I=d(k.value).isRestart,P=B(),T=je(),j=c(null),L=c(0);se(j,function(e){var t=e[0];L.value=t.contentRect.width});var M=null;return O(function(){return i.value.initInstall},function(e){if(!e){if((r.value||l.value)&&"free"===o.value.authType)return;b.recommendInstallDialog()}},{immediate:!0,deep:!0}),m(p(f().m(function e(){var t;return f().w(function(e){for(;;)switch(e.n){case 0:if("bind-cupon"!==T.query.model){e.n=2;break}return delete(t=a({},T.query)).model,P.replace({path:T.path,query:t}),e.n=1,s();case 1:xt({disablePro:!0,sourceId:999});case 2:b.monitorLoginInfo(),M=mt({idle:36e5,request:function(){var e=p(f().m(function e(){return f().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,b.getSystemInfo();case 1:return e.a(2,I.value)}},e)}));return function(){return e.apply(this,arguments)}}(),timeout:3e3,retries:3}),b.getHomeConfig(),vt({promises:[n,b.getUpdateInfoNew],delay:1e3}),setTimeout(function(){r.value&&"ltd"===o.value.recommendAuth&&o.value.authExpirationTime<0&&xt({compulsionLtd:!0})},2e3);case 3:return e.a(2)}},e)}))),re(function(){var e;null===(e=M)||void 0===e||e.stop(),pt(["/system?action=GetNetWork","/panel/overview/GetOverview","/plugin?action=get_index_list","/ajax?action=get_pay_type","/mod/push/task/get_task_list","/auth?action=get_coupon_list"])}),function(e,t){var n=ie,a=le;return h(),y("section",No,[_(Yt,{class:"mx-[1.2rem] !rounded-[1.6rem]"}),_(a,{span:24},{default:S(function(){return[_(n,{span:24},{default:S(function(){return[_(sn),g("div",{ref_key:"stateMainRef",ref:j},[_(or,{class:"px-[1.2rem]","main-width":v(L)},null,8,["main-width"])],512),_(Pr)]}),_:1})]}),_:1}),_(a,{span:24,class:"px-[1.2rem]"},{default:S(function(){return[_(a,{span:24,gutter:12,class:"flex-1"},{default:S(function(){return[_(n,{md:24,sm:24,span:12,xs:24,lg:12},{default:S(function(){return[_(uo,{class:"mb-0 monitor-view"})]}),_:1}),_(n,{md:24,sm:24,span:12,xs:24,lg:12},{default:S(function(){return[_(Zr,{class:"mb-0 software-view"})]}),_:1})]}),_:1})]}),_:1}),v(u)?x("",!0):(h(),C(Eo,{key:0,class:"mt-[1.2rem] mx-[1.2rem]"}))])}}}),Ho=Fe(zo,[["__scopeId","data-v-c5ff123b"]]),Vo=Object.freeze(Object.defineProperty({__proto__:null,default:Ho},Symbol.toStringTag,{value:"Module"}));n("i",Vo)}}})}();
