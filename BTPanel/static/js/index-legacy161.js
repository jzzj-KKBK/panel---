!function(){function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t){return function(t){if(Array.isArray(t))return n(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return n(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach(function(e){u(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function u(e,n,r){return(n=function(e){var n=function(e,n){if("object"!=t(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,n||"default");if("object"!=t(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==t(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function o(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function u(n,r,a,u){var o=r&&r.prototype instanceof s?r:s,l=Object.create(o.prototype);return c(l,"_invoke",function(n,r,a){var u,o,c,s=0,l=a||[],f=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,n){return u=e,o=0,c=t,p.n=n,i}};function d(n,r){for(o=n,c=r,e=0;!f&&s&&!a&&e<l.length;e++){var a,u=l[e],d=p.p,v=u[2];n>3?(a=v===r)&&(c=u[(o=u[4])?5:(o=3,3)],u[4]=u[5]=t):u[0]<=d&&((a=n<2&&d<u[1])?(o=0,p.v=r,p.n=u[1]):d<v&&(a=n<3||u[0]>r||r>v)&&(u[4]=n,u[5]=r,p.n=v,o=0))}if(a||n>1)return i;throw f=!0,r}return function(a,l,v){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&d(l,v),o=l,c=v;(e=o<2?t:c)||!f;){u||(o?o<3?(o>1&&(p.n=-1),d(o,c)):p.n=c:p.v=c);try{if(s=2,u){if(o||(a="next"),e=u[a]){if(!(e=e.call(u,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,o<2&&(o=0)}else 1===o&&(e=u.return)&&e.call(u),o<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),o=1);u=t}else if((e=(f=p.n<0)?c:n.call(r,p))!==i)break}catch(e){u=t,o=1,c=e}finally{s=1}}return{value:e,done:f}}}(n,a,u),!0),l}var i={};function s(){}function l(){}function f(){}e=Object.getPrototypeOf;var p=[][r]?e(e([][r]())):(c(e={},r,function(){return this}),e),d=f.prototype=s.prototype=Object.create(p);function v(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,c(t,a,"GeneratorFunction")),t.prototype=Object.create(d),t}return l.prototype=f,c(d,"constructor",f),c(f,"constructor",l),l.displayName="GeneratorFunction",c(f,a,"GeneratorFunction"),c(d),c(d,a,"Generator"),c(d,r,function(){return this}),c(d,"toString",function(){return"[object Generator]"}),(o=function(){return{w:u,m:v}})()}function c(t,e,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(t){a=0}c=function(t,e,n,r){function u(e,n){c(t,e,function(t){return this._invoke(e,n,t)})}e?a?a(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(u("next",0),u("throw",1),u("return",2))},c(t,e,n,r)}function i(t,e,n,r,a,u,o){try{var c=t[u](o),i=c.value}catch(t){return void n(t)}c.done?e(i):Promise.resolve(i).then(r,a)}function s(t){return function(){var e=this,n=arguments;return new Promise(function(r,a){var u=t.apply(e,n);function o(t){i(u,r,a,o,c,"next",t)}function c(t){i(u,r,a,o,c,"throw",t)}o(void 0)})}}System.register(["./index-legacy103.js?v=1756369731","./utils-lib-legacy.js?v=1756369731","./base-lib-legacy.js?v=1756369731","./column-legacy.js?v=1756369731","./useStore-legacy.js?v=1756369731","./index-legacy104.js?v=1756369731","./form-item-legacy.js?v=1756369731","./index-legacy413.js?v=1756369731","./index-legacy107.js?v=1756369731","./__commonjsHelpers__-legacy.js?v=1756369731","./config-legacy.js?v=1756369731"],function(t,n){"use strict";var r,u,c,i,l,f,p,d,v,m,b,h,w,y,g,_,x,q,k,j,S,O,P,T,D,C,A,R,M,L,z,U,E,F,G,N,H,I,J,B,W,$,K,Q,X,V,Y,Z,tt;return{setters:[function(t){r=t._},function(t){u=t.G,c=t.c,i=t.K,l=t.f_,f=t.ai,p=t.b,d=t.aX,v=t.e,m=t.ab,b=t.f$,h=t.u,w=t.fj,y=t.l,g=t.H,_=t.o,x=t.g0,q=t.g1,k=t.g2,j=t.g3,S=t.g4},function(t){O=t.c,P=t.t,T=t.r,D=t.g,C=t.e,A=t.B,R=t.p,M=t.q,L=t.v,z=t.x,U=t.k,E=t.G,F=t.A,G=t.y,N=t.b7,H=t.H,I=t.Q,J=t.M},function(t){B=t.u},function(t){W=t.g},function(t){$=t._},function(t){K=t.b,Q=t.c,X=t.f,V=t.d,Y=t.k},function(t){Z=t._},function(t){tt=t._},null,null],execute:function(){var n={class:"w-[460px] px-16px py-24px input_autofill"},et="w-[320px]",nt=O({__name:"mail",props:{compData:{default:function(){return{title:"",type:"",row:{},callback:function(){}}}}},setup:function(t,e){var r,a,v=e.expose,m=t,b=P(m.compData),h=b.type,w=b.row,y="https://www.bt.cn/bbs/thread-108097-1-1.html",g=T({title:"",qq_mail:"",qq_stmp_pwd:"",hosts:"",port:"465",receiveMail:""}),_=u({data:function(){return g.value},options:function(){return D(function(){return[K("名称","title",{attrs:{placeholder:"请输入邮箱名称",class:et},rules:[{required:!0,message:"请输入名称",trigger:["blur","change"]},{max:15,message:"名称不能超过15个字符",trigger:["blur","change"]}]}),K("发送人邮箱","qq_mail",{attrs:{placeholder:"请输入发送人邮箱",class:et,autocomplete:"new-password"},rules:[{required:!0,message:"请输入发送人邮箱",trigger:["blur","change"]}]}),K("SMTP密码","qq_stmp_pwd",{attrs:{placeholder:"请输入SMTP密码",showPassword:!0,class:et},rules:[{required:!0,message:"请输入SMTP密码",trigger:["blur","change"]}]}),K("SMTP服务器","hosts",{attrs:{placeholder:"请输入SMTP服务器",class:et},rules:[{required:!0,message:"请输入SMTP服务器",trigger:["blur","change"]}]}),K("端口","port",{attrs:{placeholder:"请输入端口",class:et},rules:[{required:!0,message:"请输入端口",trigger:["blur","change"]}]}),Q("邮箱","receiveMail",{attrs:{placeholder:"接收者邮箱，每行1个",rows:6,class:et},rules:[{required:!0,message:"请输入接收者邮箱",trigger:["blur","change"]}]}),X(" ",[{content:"推荐使用465端口，协议为SSL/TLS"},{content:"25端口为SMTP协议，587端口为STARTTLS协议"},{content:C(c,{href:y,target:"_blank"},{default:function(){return[A("配置教程")]}})}])]})},submit:(r=s(o().m(function t(e,n){return o().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,n();case 1:return t.a(2,j())}},t)})),function(t,e){return r.apply(this,arguments)})}),x=_.BtForm,q=_.submit,k=function(){var t={qq_mail:g.value.qq_mail,qq_stmp_pwd:g.value.qq_stmp_pwd,hosts:g.value.hosts,port:g.value.port},e=g.value.receiveMail.split("\n").filter(function(t){return""!==t&&" "!==t}),n={sender_type:h.value,sender_data:JSON.stringify({send:t,receive:e,title:g.value.title})};return d("id",w.value)&&(n.sender_id=w.value.id),n},j=function(){var t=s(o().m(function t(e){var n,r;return o().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,n=k(),t.n=1,i({loading:"正在设置,请稍候...",request:l(n),success:function(t){t.status&&m.compData.callback(!0),f(t.data.data)&&!t.status?p().error("".concat(t.msg,"【").concat(t.data.data,"】")):p().request(t)}});case 1:return r=t.v,t.a(2,r.status);case 2:t.p=2,t.v;case 3:return t.a(2)}},t,null,[[0,2]])}));return function(e){return t.apply(this,arguments)}}();return R(function(){if(w.value&&"id"in w.value){var t=w.value.data||{},e=t.send,n=t.receive,r=void 0===n?[]:n,a=t.title,u=void 0===a?"":a,o=e||{},c=o.hosts,i=o.port,s=o.qq_mail,l=o.qq_stmp_pwd;g.value.hosts=c,g.value.port=i,g.value.qq_mail=s,g.value.qq_stmp_pwd=l,g.value.receiveMail=Array.isArray(r)?r.join("\n"):"",g.value.title=u}}),v({onConfirm:(a=s(o().m(function t(e){var n;return o().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,q();case 1:if(!(n=t.v)){t.n=2;break}n=e();case 2:return t.a(2,n)}},t)})),function(t){return a.apply(this,arguments)})}),function(t,e){return M(),L("div",n,[C(z(x),{size:"small"})])}}}),rt=v(nt,[["__scopeId","data-v-4e68025d"]]),at={class:"w-[90%] px-16px py-24px"},ut=O({__name:"web-hook",props:{compData:{default:function(){return{title:"",type:"",row:{},callback:function(){}}}}},setup:function(t,e){var n,r,d=e.expose,v=t,b=P(v.compData),h=b.type,w=b.row,y="自定义webhook",g="https://www.bt.cn/bbs/thread-143326-1-1.html",_=T({title:"",url:"",atall:"True",method:"POST",body_type:"json",custom_parameter:"",headers:""}),x=[{label:"POST",value:"POST"},{label:"PUT",value:"PUT"},{label:"PATCH",value:"PATCH"}],q=[{label:"application/json",value:"json"},{label:"x-www-form-urlencoded",value:"form_data"}],k={class:"!w-[140px]"},j=function(t){return{placeholder:"非必填，可输入JSON格式的字符串，例如：{aa:bb}",autosize:{minRows:t,maxRows:t},resize:"none"}},S=D(function(){return[K("名称","title",{attrs:{placeholder:"机器人名称或备注",class:"w-[320px]"},rules:[{required:!0,message:"请输入机器人名称或备注",trigger:["blur","change"]}]}),Q("URL","url",{attrs:{placeholder:"请输入".concat(y,"机器人URL"),autosize:{minRows:5,maxRows:5},resize:"none",class:"w-[320px]"},rules:[{required:!0,message:"请输入".concat(y,"机器人URL"),trigger:["blur","change"]}]}),V([Y("请求方式","method",x,{attrs:k}),Y("参数格式","body_type",q,{attrs:k,labelAttrs:{labelWidth:"w-[120px]"}})]),Q("自定义参数","custom_parameter",{attrs:a(a({},j(4)),{},{class:"w-[320px]"})}),Q("请求头","headers",{attrs:a(a({},j(2)),{},{class:"w-[320px]"})}),X(" ",[{content:C(c,{href:g},{default:function(){return["如何使配置并使用自定义消息通道"]}})}])]}),O=u({data:function(){return _.value},options:S,submit:(n=s(o().m(function t(e,n){return o().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,n();case 1:return t.a(2,F())}},t)})),function(t,e){return n.apply(this,arguments)})}),A=O.BtForm,U=O.submit,E=function(){var t,e,n=m(_.value);["custom_parameter","query","headers"].forEach(function(t){n[t]=""===n[t]?{}:new Function("return ".concat(n[t]))()});var r=(null===(t=w.value)||void 0===t?void 0:t.data)||{},u={sender_type:h.value,sender_data:JSON.stringify(a(a({},r),n))};return null!==(e=w.value)&&void 0!==e&&e.id&&(u.sender_id=w.value.id),u},F=function(){var t=s(o().m(function t(){var e,n;return o().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=1,e=E(),t.n=2,i({loading:"正在设置,请稍候...",request:l(e),success:function(t){t.status&&v.compData.callback(!0),f(t.data.data)&&!t.status?p().error(t.msg+"【"+t.data.data+"】"):p().request(t)}});case 2:return n=t.v,t.a(2,n.status);case 3:t.p=3,t.v;case 4:return t.a(2)}},t,null,[[1,3]])}));return function(){return t.apply(this,arguments)}}();return R(function(){if(w.value&&"id"in w.value){var t=w.value.data,e=t.title,n=t.url,r=t.method,a=t.body_type,u=t.custom_parameter,o=t.headers;_.value.title=e,_.value.url=n,_.value.method=r,_.value.body_type=a,_.value.custom_parameter=u?JSON.stringify(u):"",_.value.headers=o?JSON.stringify(o):"",_.value.atall="True"}}),d({onConfirm:(r=s(o().m(function t(e){var n;return o().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,U();case 1:if(!(n=t.v)){t.n=2;break}n=e();case 2:return t.a(2,n)}},t)})),function(t){return r.apply(this,arguments)})}),function(t,e){return M(),L("div",at,[C(z(A))])}}}),ot={class:"p-[16px]"},ct={class:"flex items-center justify-around mt-[1.6rem]"},it={class:"bind"},st={class:"code p-[1rem]"},lt=O({__name:"wx-account",props:{compData:{default:function(){return{title:"",type:"",data:{},callback:function(){}}}}},setup:function(t,n){var r=n.expose,a=t,u=T(!1),c=U({bindCode:"www.bt.cn"}),l=function(){var t=s(o().m(function t(){return o().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,i({loading:u,request:b(),success:function(t){t.status?c.bindCode=t.data.res:c.bindCode="二维码失效，请重新获取"}});case 1:t.n=3;break;case 2:t.p=2,t.v;case 3:return t.a(2)}},t,null,[[0,2]])}));return function(){return t.apply(this,arguments)}}();return R(l),r({onCancel:function(){return a.compData.callback(!0)}}),function(t,n){var r=tt,a=Z,o=E("bt-loading");return M(),L("div",ot,[C(r,{closable:!1,"show-icon":!0,type:"warning"},{title:F(function(){return e(n[0]||(n[0]=[G("div",null,"没有绑定微信公众号无法接收面板告警信息",-1),G("div",null,"当前为体验版，限制每个宝塔账号发送频率100条/天",-1)]))}),_:1}),G("div",ct,[n[2]||(n[2]=N('<div class="bind" data-v-87a165f9><div class="title" data-v-87a165f9><span class="steps" data-v-87a165f9>1</span>关注堡塔公众号</div><div class="code" data-v-87a165f9><img src="https://www.bt.cn/Public/img/bt_wx.jpg" alt="堡塔公众号" class="w-[160px]" data-v-87a165f9></div></div>',1)),G("div",it,[n[1]||(n[1]=G("div",{class:"title"},[G("span",{class:"steps"},"2"),A("绑定微信账号")],-1)),H((M(),L("div",st,[C(a,{value:z(c).bindCode,logo:"/static/images/config/wx_logo.png",level:"L",size:140},null,8,["value"])])),[[o,z(u)],[o,"正在获取二维码，请稍候...","title"]])])])])}}}),ft=v(lt,[["__scopeId","data-v-87a165f9"]]),pt={class:"w-[470px] px-16px py-24px"},dt=O({__name:"common",props:{compData:{default:function(){return{title:"",type:"",row:{},callback:function(){}}}}},setup:function(t,e){var n,r,d=e.expose,v=t,m=P(v.compData),b=m.title,h=m.type,w=m.row,y=T({title:"",url:"",send_type:"markdown"}),g=D(function(){return[{name:"dingding",ps:"如何创建钉钉机器人",help:"https://www.bt.cn/bbs/thread-108081-1-1.html"},{name:"feishu",ps:"如何创建飞书机器人",help:"https://www.bt.cn/bbs/thread-108274-1-1.html"},{name:"weixin",ps:"如何创建企业微信机器人",help:"https://www.bt.cn/bbs/thread-108116-1-1.html"}].find(function(t){return t.name===h.value})}),_=D(function(){var t,e=[K("名称","title",{attrs:{placeholder:"机器人名称或备注",class:"w-[320px]"},rules:[{required:!0,message:"请输入机器人名称或备注",trigger:["change","blur"]}]}),Q("URL","url",{attrs:{placeholder:"请输入".concat(b.value,"机器人URL"),autosize:{minRows:5,maxRows:5},resize:"none",class:"w-[320px]"},rules:[{required:!0,message:"请输入".concat(b.value,"机器人URL"),trigger:["change","blur"]}]})];return"weixin"===h.value&&e.push(Y("发送类型","send_type",[{label:"文本",value:"text"},{label:"markdown",value:"markdown"}],{attrs:{placeholder:"请选择发送类型",class:"!w-[320px]"},rules:[{required:!0,message:"请选择发送类型",trigger:["change","blur"]}]})),e.push(X(" ",[{content:C(c,{href:null===(t=g.value)||void 0===t?void 0:t.help},{default:function(){var t;return[null===(t=g.value)||void 0===t?void 0:t.ps]}})}])),e}),x=u({data:function(){return y.value},options:_,submit:(n=s(o().m(function t(e,n){return o().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,n();case 1:return t.a(2,j(e));case 2:t.p=2,t.v;case 3:return t.a(2)}},t,null,[[0,2]])})),function(t,e){return n.apply(this,arguments)})}),q=x.BtForm,k=x.submit,j=function(){var t=s(o().m(function t(e){var n,r;return o().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,"weixin"!==h.value&&delete e.value.send_type,n={sender_type:h.value,sender_data:JSON.stringify(a(a({},e.value),{},{atall:"True"}))},w.value&&"id"in w.value&&(n.sender_id=w.value.id),t.n=1,i({loading:"正在设置,请稍候...",request:l(n),success:function(t){t.status&&v.compData.callback(!0),f(t.data.data)&&!t.status?p().error("".concat(t.msg,"【").concat(t.data.data,"】")):p().request(t)}});case 1:return r=t.v,t.a(2,r.status);case 2:t.p=2,t.v;case 3:return t.a(2)}},t,null,[[0,2]])}));return function(e){return t.apply(this,arguments)}}();return R(function(){if(w.value&&"id"in w.value){var t=w.value.data,e=t.title,n=t.url,r=t.send_type;y.value.title=e,y.value.url=n,y.value.send_type=r}}),d({onConfirm:(r=s(o().m(function t(e){var n;return o().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,k();case 1:if(!(n=t.v)){t.n=2;break}n=e();case 2:return t.a(2,n)}},t)})),function(t){return r.apply(this,arguments)})}),function(t,e){return M(),L("div",pt,[C(z(q),{size:"small",onSubmit:e[0]||(e[0]=I(function(){},["prevent"]))})])}}});t("default",O({__name:"index",props:{compData:{default:function(){return{type:"",title:"",callback:function(){}}}}},setup:function(t,n){var u,c,l=n.expose,d=W().refs.isRefreshList,v=t,m=P(v).compData,b=h(),O=b.getSenderAlarmListInfo,T=b.push,D=function(){var t=s(o().m(function t(){var e,n=arguments;return o().w(function(t){for(;;)switch(t.p=t.n){case 0:return e=n.length>0&&void 0!==n[0]&&n[0],t.p=1,t.n=2,O(e);case 2:t.n=4;break;case 3:t.p=3,t.v;case 4:return t.a(2,T.value.config)}},t,null,[[1,3]])}));return function(){return t.apply(this,arguments)}}(),R=function(){var t=s(o().m(function t(){var e,n;return o().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,D();case 1:return e=t.v,n=e.filter(function(t){return t.sender_type===m.value.type})||[],t.a(2,{data:n,total:n.length,other:e})}},t)}));return function(){return t.apply(this,arguments)}}(),L=function(t){switch(t){case"mail":return rt;case"webhook":return ut;case"wx_account":return ft;default:return dt}},U=function(){var t=s(o().m(function t(e){var n;return o().w(function(t){for(;;)switch(t.n){case 0:return n=L(m.value.type),t.n=1,y({title:"".concat(v.compData.title,"配置"),area:"webhook"===v.compData.type?60:50,compData:a(a({row:e},m.value),{},{callback:function(){Q(),d.value=!0}}),showFooter:"wx_account"!==v.compData.type,component:n});case 1:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}(),E=function(){var t=s(o().m(function t(e){return o().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,_({title:"设置默认配置",content:"设置【".concat(e.data.title,"】为默认配置后，将会覆盖原有默认配置，是否继续操作？")});case 1:return t.n=2,i({loading:"正在设置，请稍后...",message:!0,request:x({sender_id:e.id,sender_type:e.sender_type}),success:function(t){t.status&&Q()}});case 2:t.n=4;break;case 3:t.p=3,t.v;case 4:return t.a(2)}},t,null,[[0,3]])}));return function(e){return t.apply(this,arguments)}}(),G=function(){var t=s(o().m(function t(e,n){return o().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,_({title:"".concat(e.used?"禁用":"启用").concat(n,"【").concat(e.data.title,"】"),content:"您真的要".concat(e.used?"禁用":"启用").concat(n,"【").concat(e.data.title,"】吗？")});case 1:return t.n=2,i({loading:"正在设置，请稍后...",message:!0,request:q({sender_id:e.id}),success:function(t){t.status&&Q()}});case 2:t.n=4;break;case 3:t.p=3,t.v;case 4:return t.a(2)}},t,null,[[0,3]])}));return function(e,n){return t.apply(this,arguments)}}(),N=function(){var t=s(o().m(function t(e){return o().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,i({loading:"正在测试，请稍后...",request:k({sender_id:e.id}),success:function(t){f(t.data.data)&&!t.status?p().error("".concat(t.msg,"【").concat(t.data.data,"】")):p().request(t)}});case 1:t.n=3;break;case 2:t.p=2,t.v;case 3:return t.a(2)}},t,null,[[0,2]])}));return function(e){return t.apply(this,arguments)}}(),H=function(){var t=s(o().m(function t(e,n){var r,a;return o().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,_({title:"解绑【".concat(e.data.title,"】").concat(n),content:"您真的要解绑".concat(n,"【").concat(e.data.title,"】吗？")});case 1:return r={sender_id:e.id},a="wx_account"===e.sender_type,t.n=2,i({loading:"正在解绑，请稍后...",message:!0,request:a?j(r):S(r),success:function(t){t.status&&(Q(),d.value=!0)}});case 2:t.n=4;break;case 3:t.p=3,t.v;case 4:return t.a(2)}},t,null,[[0,3]])}));return function(e,n){return t.apply(this,arguments)}}(),I=w({request:R,columns:(c=(null===(u=[{label:"邮箱",name:"mail"},{label:"公众号",name:"wx_account"},{label:"钉钉机器人",name:"dingding"},{label:"飞书机器人",name:"feishu"},{label:"企业微信机器人",name:"weixin"},{label:"自定义Webhook",name:"webhook"}].find(function(t){return t.name===m.value.type}))||void 0===u?void 0:u.label)||"自定义Webhook",[{label:c,prop:"data.title",render:function(t){var e;return C("div",null,[null===(e=t.data)||void 0===e?void 0:e.title,t.original?"【默认配置】":""])}},{label:"状态",width:65,render:function(t){return C("span",{class:"".concat(t.used?"bt-link":"bt-link !text-danger"),onClick:function(){return G(t,c)}},[t.used?"已启用":"未启用"])}},B([{onClick:E,isHide:function(t){return t.original},title:"设置默认",width:60},{onClick:U,isHide:function(t){return"wx_account"===t.sender_type},title:"编辑"},{title:"测试",render:function(t){return C("div",{class:"item-center inline-flex"},[C("span",{class:"bt-link",onClick:(e=s(o().m(function e(){return o().w(function(e){for(;;)switch(e.n){case 0:if(!t.load){e.n=1;break}return e.a(2);case 1:return t.load=!0,e.n=2,N(t);case 2:t.load=!1;case 3:return e.a(2)}},e)})),function(){return e.apply(this,arguments)})},[t.load?"测试中":"测试"]),C($,{class:"mt-[4px]"},null)]);var e}},{onClick:function(t){return H(t,c)},title:"解绑"}])])}),K=I.BtTable,Q=I.refresh;return l({onCancel:v.compData.callback}),function(t,n){var a=g,u=r;return M(),J(u,{class:"p-[2rem]"},{"header-left":F(function(){return[C(a,{type:"primary",onClick:n[0]||(n[0]=function(t){return U()})},{default:F(function(){return e(n[1]||(n[1]=[A("添加",-1)]))}),_:1})]}),content:F(function(){return[C(z(K),{"max-height":350})]}),_:1})}}}))}}})}();
