import{_ as a}from"./index103.js?v=1756369731";import{fU as e,K as s,M as l,fi as r,j as t,k as o}from"./utils-lib.js?v=1756369731";import{c as n,r as i,p as d,G as u,q as p,v as m,e as c,A as f,x as j,P as v,O as _,B as P,H as b,D as y}from"./base-lib.js?v=1756369731";import{aK as I,aL as g,aM as w}from"./firewall.js?v=1756369731";import{u as x}from"./column.js?v=1756369731";import"./__commonjsHelpers__.js?v=1756369731";import"./index104.js?v=1756369731";const q=n({__name:"index",setup(n){const q=i(""),h=i(!1),k=i(),K=async()=>{await s({loading:h,request:I(),data:[Array,k]})},V=async()=>q.value?r(q.value)?(await s({loading:"正在添加IP地址，请稍后...",request:g({ip:q.value}),message:!0}),q.value="",void K()):l.error("请输入正确的IP地址"):l.error("请输入IP地址"),A=[{label:"名称",prop:"address"},{label:"封锁时间",prop:"end",render:a=>0==a.end?"永久封禁":e(a.end-a.start)},x([{onClick:async a=>{await s({loading:"正在解封IP地址，请稍后...",request:w({ip:a.address}),message:!0}),K()},title:"立即解封",width:70}])];return d(()=>K()),(e,s)=>{const l=t,r=y,n=o,i=a,d=u("bt-loading");return p(),m("div",null,[c(i,null,{"header-left":f(()=>[c(l,{modelValue:j(q),"onUpdate:modelValue":s[0]||(s[0]=a=>v(q)?q.value=a:null),placeholder:"IP地址",onKeyup:_(V,["enter","native"])},null,8,["modelValue"]),c(r,{class:"!ml-[.4rem]",type:"primary",onClick:V},{default:f(()=>[...s[1]||(s[1]=[P(" 添加 ",-1)])]),_:1})]),content:f(()=>[b(c(n,{ref:"table",column:A,data:j(k),description:"封锁IP列表为空"},null,8,["data"]),[[d,j(h)],[d,"正在加载封锁IP列表，请稍后...","title"]])]),popup:f(()=>[...s[2]||(s[2]=[])]),_:1})])}}});export{q as default};
