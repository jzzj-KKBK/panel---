!function(){function e(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||t(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,a,u,o,l=[],i=!0,c=!1;try{if(u=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;i=!1}else for(;!(i=(r=u.call(t)).done)&&(l.push(r.value),l.length!==n);i=!0);}catch(e){c=!0,a=e}finally{try{if(!i&&null!=t.return&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw a}}return l}}(e,n)||t(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,n){if(e){if("string"==typeof e)return r(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?r(e,n):void 0}}function r(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function a(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,n,t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",o=t.toStringTag||"@@toStringTag";function l(t,r,a,o){var l=r&&r.prototype instanceof c?r:c,s=Object.create(l.prototype);return u(s,"_invoke",function(t,r,a){var u,o,l,c=0,s=a||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(n,t){return u=n,o=0,l=e,p.n=t,i}};function d(t,r){for(o=t,l=r,n=0;!f&&c&&!a&&n<s.length;n++){var a,u=s[n],d=p.p,m=u[2];t>3?(a=m===r)&&(l=u[(o=u[4])?5:(o=3,3)],u[4]=u[5]=e):u[0]<=d&&((a=t<2&&d<u[1])?(o=0,p.v=r,p.n=u[1]):d<m&&(a=t<3||u[0]>r||r>m)&&(u[4]=t,u[5]=r,p.n=m,o=0))}if(a||t>1)return i;throw f=!0,r}return function(a,s,m){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,m),o=s,l=m;(n=o<2?e:l)||!f;){u||(o?o<3?(o>1&&(p.n=-1),d(o,l)):p.n=l:p.v=l);try{if(c=2,u){if(o||(a="next"),n=u[a]){if(!(n=n.call(u,l)))throw TypeError("iterator result is not an object");if(!n.done)return n;l=n.value,o<2&&(o=0)}else 1===o&&(n=u.return)&&n.call(u),o<2&&(l=TypeError("The iterator does not provide a '"+a+"' method"),o=1);u=e}else if((n=(f=p.n<0)?l:t.call(r,p))!==i)break}catch(n){u=e,o=1,l=n}finally{c=1}}return{value:n,done:f}}}(t,a,o),!0),s}var i={};function c(){}function s(){}function f(){}n=Object.getPrototypeOf;var p=[][r]?n(n([][r]())):(u(n={},r,function(){return this}),n),d=f.prototype=c.prototype=Object.create(p);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,u(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return s.prototype=f,u(d,"constructor",f),u(f,"constructor",s),s.displayName="GeneratorFunction",u(f,o,"GeneratorFunction"),u(d),u(d,o,"Generator"),u(d,r,function(){return this}),u(d,"toString",function(){return"[object Generator]"}),(a=function(){return{w:l,m:m}})()}function u(e,n,t,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}u=function(e,n,t,r){function o(n,t){u(e,n,function(e){return this._invoke(n,t,e)})}n?a?a(e,n,{value:t,enumerable:!r,configurable:!r,writable:!r}):e[n]=t:(o("next",0),o("throw",1),o("return",2))},u(e,n,t,r)}function o(e,n,t,r,a,u,o){try{var l=e[u](o),i=l.value}catch(e){return void t(e)}l.done?n(i):Promise.resolve(i).then(r,a)}function l(e){return function(){var n=this,t=arguments;return new Promise(function(r,a){var u=e.apply(n,t);function l(e){o(u,r,a,l,i,"next",e)}function i(e){o(u,r,a,l,i,"throw",e)}l(void 0)})}}System.register(["./utils-lib-legacy.js?v=1756369731","./index-legacy116.js?v=1756369731","./base-lib-legacy.js?v=1756369731","./index-legacy140.js?v=1756369731","./index-legacy104.js?v=1756369731","./index.vue_vue_type_script_setup_true_lang-legacy7.js?v=1756369731","./index.vue_vue_type_script_setup_true_lang-legacy8.js?v=1756369731","./validator-legacy.js?v=1756369731","./__commonjsHelpers__-legacy.js?v=1756369731","./ace-legacy.js?v=1756369731","./column-legacy.js?v=1756369731"],function(t,r){"use strict";var u,o,i,c,s,f,p,d,m,v,y,h,b,g,w,_,x,k,j,S,V,A,T,C,O,U,P,q,I,E,G,B,W,F,H,R,D,K,M,z,N,$,J,L,Q,X,Y,Z,ee,ne,te;return{setters:[function(e){u=e.K,o=e.bT,i=e.M,c=e.at,s=e.bm,f=e.W,p=e.al,d=e.e},function(e){m=e._},function(e){v=e.r,y=e.c,h=e.p,b=e.G,g=e.q,w=e.M,_=e.A,x=e.e,k=e.y,j=e.x,S=e.P,V=e.H,A=e.B,T=e.v,C=e.F,O=e.a_,U=e.z,P=e.C,q=e.aA,I=e.D,E=e.ai,G=e.aj,B=e.au,W=e.aw,F=e.S,H=e.a9,R=e.a7},function(e){D=e.B},function(e){K=e._},function(e){M=e.S,z=e._},function(e){N=e.S,$=e._},function(e){J=e.as,L=e.at,Q=e.W,X=e.U,Y=e.m,Z=e.au,ee=e.av,ne=e.aw,te=e.V},null,null,null],execute:function(){var r=N(),re=M(),ae=v({}),ue={UpTime:"启动时间(Uptime)",IdleWorkers:"空闲进程(IdleWorkers)",TotalAccesses:"总连接数(TotalAccesses)",TotalKBytes:"传送总字节(TotalkBytes)",workermem:"Apache使用内存",workercpu:"Apache使用CPU",ReqPerSec:"每秒请求数(ReqPerSec)",RestartTime:"重启时间(RestartTime)",BusyWorkers:"繁忙进程(BusyWorkers)"},oe=v([]),le=v("service"),ie=v(""),ce=v(!1),se=v(!1),fe=v([]),pe=v(""),de=v(""),me=v([]),ve=[{content:"此处为apache主配置文件,若您不了解配置规则,请勿随意修改"}],ye=v(!1),he=function(e){u({loading:"正在设置守护进程，请稍后...",request:J({status:e?1:0}),message:!0,success:function(n){n.status||(ye.value=!e)}})},be=function(){var e=l(a().m(function e(){var n;return a().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,Z();case 1:n=e.v,ye.value=1===n.data.status,e.n=3;break;case 2:e.p=2,e.v;case 3:return e.a(2)}},e,null,[[0,2]])}));return function(){return e.apply(this,arguments)}}(),ge=function(){var e=l(a().m(function e(){return a().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,u({loading:ce,request:ee(),data:[Array,oe]});case 1:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),we=function(){var e=l(a().m(function e(){var n;return a().w(function(e){for(;;)switch(e.n){case 0:return n={},oe.value.forEach(function(e){n[e.name]=e.value}),e.n=1,u({loading:"正在保存中，请稍后...",request:L(n),message:!0});case 1:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),_e=function(){var e=l(a().m(function e(){return a().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,u({loading:ce,request:ne(),success:function(e){fe.value=[],Object.keys(e.data).forEach(function(n){fe.value.push({name:n,ps:ue[n],value:e.data[n]})})}});case 1:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),xe=function(){var e=l(a().m(function e(){return a().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,u({loading:ce,request:te({path:"/www/server/apache/conf/httpd.conf"}),data:{data:[String,ie]}});case 1:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),ke=function(){var e=l(a().m(function e(){return a().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,u({loading:"正在保存中，请稍后...",request:o({path:"/www/server/apache/conf/httpd.conf",data:ie.value,encoding:"utf-8"}),message:!0});case 1:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),je=function(){var e=l(a().m(function e(){return a().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,u({loading:ce,request:Q({path:"/www/wwwlogs/error_log"}),data:{msg:[String,pe]}});case 1:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),Se=function(){var e=l(a().m(function e(t){var r,u,o,l,s,f;return a().w(function(e){for(;;)switch(e.p=e.n){case 0:if(r=t.version.split("."),u=n(r,2),o=u[0],l=u[1],s=[o,l].join("."),de.value!==s){e.n=1;break}return i.error("当前版本与选择版本一致"),e.a(2);case 1:return e.p=1,e.n=2,X({sName:"apache",version:de.value,min_version:""});case 2:Y(),e.n=4;break;case 3:e.p=3,f=e.v,c(f);case 4:return e.a(2)}},e,null,[[1,3]])}));return function(n){return e.apply(this,arguments)}}(),Ve=function(e){switch(e.props.name){case"service":Ae();break;case"performance":ge();break;case"config":xe();break;case"load":_e();break;case"logs":je()}},Ae=function(e){le.value="service",e&&(ae.value=e),re.init(ae.value),r.init({name:"apache"}),de.value=ae.value.version.split(".")[0]+"."+ae.value.version.split(".")[1],me.value=ae.value.versions,be()},Te={class:"my-[12px]"},Ce={class:"flex text-[#666] items-center"},Oe={class:"flex flex-col text-[#666] performance"},Ue={key:0,class:"flex items-center"},Pe={key:1,class:"flex items-center"},qe=y({__name:"index",props:{compData:{default:{}}},emits:["close"],setup:function(n,t){t.emit;var r=n;return h(function(){Ae(r.compData)}),function(n,t){var r=K,a=s,u=f,o=q,l=D,i=I,c=E,d=G,v=B,y=W,h=F,M=H,N=R,J=m,L=p,Q=b("bt-loading");return g(),w(L,{modelValue:j(le),"onUpdate:modelValue":t[4]||(t[4]=function(e){return S(le)?le.value=e:null}),type:"left-bg-card",onTabClick:j(Ve)},{default:_(function(){return[x(o,{label:"服务",name:"service"},{default:_(function(){return[x(z),x($),x(r,{direction:"horizontal"}),k("div",null,[k("div",null,[t[5]||(t[5]=k("span",null,"守护进程：",-1)),x(a,{class:"mr-[2rem]",modelValue:j(ye),"onUpdate:modelValue":t[0]||(t[0]=function(e){return S(ye)?ye.value=e:null}),onChange:j(he)},null,8,["modelValue","onChange"])]),x(u,{class:"mt-1rem",options:[{content:"守护进程可以在Apache服务停止后自动启动，保证Apache服务一直运行。"}]})])]}),_:1}),x(o,{label:"配置文件",name:"config"},{default:_(function(){return[t[7]||(t[7]=k("span",{class:"my-[4px] text-[#666]"},"提示：Ctrl+F 搜索关键字，Ctrl+S 保存，Ctrl+H 查找替换",-1)),k("div",Te,[V(x(l,{class:"!h-[40rem] !w-[54rem] my-[12px]",modelValue:j(ie),"onUpdate:modelValue":t[1]||(t[1]=function(e){return S(ie)?ie.value=e:null}),id:"configContent",filePath:"/www/server/apache/conf/httpd.conf"},null,8,["modelValue"]),[[Q,j(ce)]])]),x(i,{type:"primary",onClick:j(ke)},{default:_(function(){return e(t[6]||(t[6]=[A("保存",-1)]))}),_:1},8,["onClick"]),x(u,{options:j(ve),class:"ml-[20px] mt-[20px]"},null,8,["options"])]}),_:1}),x(o,{label:"版本切换",name:"version"},{default:_(function(){return[k("div",Ce,[t[9]||(t[9]=k("span",null,"选择版本",-1)),x(d,{class:"mx-[12px] !w-[18rem]",modelValue:j(de),"onUpdate:modelValue":t[2]||(t[2]=function(e){return S(de)?de.value=e:null})},{default:_(function(){return[(g(!0),T(C,null,O(j(me),function(e,n){return g(),w(c,{key:n,label:"apache "+e.m_version,value:e.m_version},null,8,["label","value"])}),128))]}),_:1},8,["modelValue"]),x(i,{type:"primary",onClick:t[3]||(t[3]=function(e){return j(Se)(n.compData)})},{default:_(function(){return e(t[8]||(t[8]=[A("切换",-1)]))}),_:1})])]}),_:1}),x(o,{label:"负载状态",name:"load"},{default:_(function(){return[V((g(),w(y,{maxHeight:"500",data:j(fe),border:"",style:{width:"100%"}},{default:_(function(){return[x(v,{prop:"ps",label:"字段"}),x(v,{prop:"value",label:"当前值"})]}),_:1},8,["data"])),[[Q,j(ce)]])]}),_:1}),V((g(),w(o,{label:"性能调整",name:"performance"},{default:_(function(){return[k("div",Oe,[x(N,{"label-position":"right","label-width":"186px"},{default:_(function(){return[(g(!0),T(C,null,O(j(oe),function(e,n){return g(),w(M,{label:e.name,key:n},{default:_(function(){return["KeepAlive"!=e.name?(g(),T("div",Ue,[x(h,{modelValue:e.value,"onUpdate:modelValue":function(n){return e.value=n},type:"worker_processes"!==e.name?"number":""},null,8,["modelValue","onUpdate:modelValue","type"]),k("span",null,U(e.ps),1)])):P("",!0),"KeepAlive"==e.name?(g(),T("div",Pe,[x(d,{modelValue:e.value,"onUpdate:modelValue":function(n){return e.value=n},class:"!w-[8rem] mr-8px"},{default:_(function(){return[x(c,{label:"开启",value:"On"}),x(c,{label:"关闭",value:"Off"})]}),_:2},1032,["modelValue","onUpdate:modelValue"]),k("span",null,U(e.ps),1)])):P("",!0)]}),_:2},1032,["label"])}),128)),x(M,{label:" "},{default:_(function(){return[x(i,{onClick:j(we),type:"primary"},{default:_(function(){return e(t[10]||(t[10]=[A("保存",-1)]))}),_:1},8,["onClick"])]}),_:1})]}),_:1})])]}),_:1})),[[Q,j(se)]]),x(o,{label:"运行日志",name:"logs"},{default:_(function(){return[V(x(J,{content:j(pe),autoScroll:!0,isHtml:!0,"full-screen":{title:"全屏查看日志",onRefresh:j(je)},style:"height:540px"},null,8,["content","full-screen"]),[[Q,j(ce)]])]}),_:1})]}),_:1},8,["modelValue","onTabClick"])}}});t("default",d(qe,[["__scopeId","data-v-180ac7c3"]]))}}})}();
