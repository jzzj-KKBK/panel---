!function(){function e(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var l={}.toString.call(e).slice(8,-1);return"Object"===l&&e.constructor&&(l=e.constructor.name),"Map"===l||"Set"===l?Array.from(e):"Arguments"===l||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?n(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,l=Array(n);t<n;t++)l[t]=e[t];return l}System.register(["./utils-lib-legacy.js?v=1756369731","./base-lib-legacy.js?v=1756369731","./store-legacy3.js?v=1756369731","./store-legacy4.js?v=1756369731","./__commonjsHelpers__-legacy.js?v=1756369731","./validator-legacy.js?v=1756369731","./index-legacy104.js?v=1756369731","./column-legacy.js?v=1756369731"],function(n,t){"use strict";var l,r,s,a,i,u,o,c,f,m,d,y,g,p,v,b,x,k,S,_,h,j,w,R,A,M,C;return{setters:[function(e){l=e.h,r=e.b,s=e.e},function(e){a=e.c,i=e.s,u=e.k,o=e.p,c=e.aD,f=e.G,m=e.q,d=e.v,y=e.e,g=e.A,p=e.B,v=e.x,b=e.y,x=e.M,k=e.C,S=e.z,_=e.H,h=e.O,j=e.P,w=e.D,R=e.aW,A=e.R},function(e){M=e.H},function(e){C=e.H},null,null,null,null],execute:function(){var t={class:"flex justify-between items-center h-full px-[3rem] reset"},V={class:"relative h-full"},H={class:"p-[1.5rem]"},I={class:"text-[1.2rem] leading-[2.6rem]"},z={id:"SafeRestart",class:"flex justify-between"},D={key:0,class:"info"},L={key:1,class:"info"},P={key:2,class:"info"},T={key:3,class:"info"},U={key:4,class:"info"},W={key:5,class:"info"},q={key:6,class:"info"},O={key:7,class:"info"},Q={key:0,class:"flex items-center tips mb-[12px]"},B={class:"vcode flex items-center h-[4.8rem] mt-4 pl-[1.2rem] text-[1.4rem]"},E={class:"mx-[1rem]"},F={class:"el-dialog__footer absolute bottom-0 w-full flex justify-end"};n("default",s(a({__name:"index",setup:function(n){var s=M(),a=i(s),G=a.showFooter,K=a.showServer,$=a.serverRestartRef,J=a.courseList,N=C(),X=i(N).isDockerPanel,Y=u({num1:0,num2:0,gentle:void 0}),Z=function(e){Y.num1=Math.round(9*Math.random()+1),Y.num2=Math.round(9*Math.random()+1),Y.gentle=void 0,!0!==e&&(K.value=!0)},ee=function(){if(Y.gentle===Y.num1+Y.num2||(r().error("计算错误，请重新计算！"),0))var e=setTimeout(function(){s.onRestartServer(),clearTimeout(e)},0)};return o(function(){Z(!0)}),c(function(){s.clearRestart()}),function(n,r){var a=w,i=R,u=A,o=l,c=f("focus");return m(),d("div",t,[y(a,{type:"danger",class:"danger-btn",onClick:Z},{default:g(function(){return e(r[3]||(r[3]=[p("重启服务器",-1)]))}),_:1}),y(a,{size:"default",onClick:v(s).onRestartPanel},{default:g(function(){return e(r[4]||(r[4]=[p("重启面板",-1)]))}),_:1},8,["onClick"]),y(o,{title:"安全重启服务器",modelValue:v(K),"onUpdate:modelValue":r[2]||(r[2]=function(e){return j(K)?K.value=e:null}),area:[46.6,v(G)?49:45],ref_key:"serverRestartRef",ref:$},{default:g(function(){return[b("div",V,[b("div",H,[v(X)?(m(),x(i,{key:0,title:"危险操作警告：当前服务器疑似运行在容器环境中！",type:"warning",closable:!1,class:"mb-3"},{default:g(function(){return e(r[5]||(r[5]=[b("p",{class:"font-medium mb-2 text-[1.4rem] text-[#666]"},"重启服务器将造成：",-1),b("ul",{class:"list-disc list-inside space-y-1 ml-2 text-[1.2rem] text-[#666]"},[b("li",{class:"font-medium"},"容器实例立即销毁"),b("li",{class:"font-medium"},"所有未挂载数据永久丢失"),b("li",{class:"font-medium"},"网站服务完全中断"),b("li",{class:"font-medium"},"可能需要重新部署和配置")],-1),b("p",{class:"mt-2 font-medium text-[1.4rem] text-[#666]"},'建议：如仅需重启面板服务，请选择"重启面板服务"',-1)]))}),_:1})):(m(),x(i,{key:1,type:"warning",closable:!1,title:"即将重启服务器",class:"mb-3"},{default:g(function(){return e(r[6]||(r[6]=[b("p",{class:"font-medium mb-2 text-[1.4rem] text-[#666]"},"影响范围：",-1),b("ul",{class:"list-disc list-inside space-y-1 ml-2 text-[1.2rem] text-[#666]"},[b("li",null,"所有网站服务临时中断（1-5分钟）"),b("li",null,"正在进行的用户会话将断开"),b("li",null,"未保存的临时数据可能丢失"),b("li",null,"SSH连接将断开")],-1),b("p",{class:"mt-2 font-medium text-[1.4rem] text-[#666]"},'建议：如仅需重启面板服务，请选择"重启面板服务"',-1)]))}),_:1})),b("div",I,[r[16]||(r[16]=b("p",{class:"mt-[1rem] mb-[1rem]"},"面板重启服务器将执行以下操作：",-1)),b("div",z,[v(J).webServe?(m(),d("div",L,e(r[8]||(r[8]=[b("span",{class:"green-bg"},null,-1),b("p",{class:"green-font"},"正在停止Web服务...",-1)])))):(m(),d("div",D,e(r[7]||(r[7]=[b("span",{class:"gray-bg"},null,-1),b("p",null,"1. 停止Web服务",-1)])))),v(J).mysqlServe?(m(),d("div",T,e(r[10]||(r[10]=[b("span",{class:"green-bg circle-green"},null,-1),b("p",{class:"green-font"},"正在停止MySQL服务...",-1)])))):(m(),d("div",P,e(r[9]||(r[9]=[b("span",{class:"gray-bg circle-gray"},null,-1),b("p",null,"2. 停止MySQL服务",-1)])))),v(J).restartServe?(m(),d("div",W,e(r[12]||(r[12]=[b("span",{class:"green-bg circle-green"},null,-1),b("p",{class:"green-font"},"正在重启服务器...",-1)])))):(m(),d("div",U,e(r[11]||(r[11]=[b("span",{class:"gray-bg circle-gray"},null,-1),b("p",null,"3. 开始重启服务器",-1)])))),v(J).serveStart?(m(),d("div",O,e(r[14]||(r[14]=[b("span",{class:"green-bg circle-green"},null,-1),b("p",{class:"green-font"},"4. 等待服务器启动",-1),b("i",{class:"svgtofont-el-loading animate-spin"},null,-1)])))):(m(),d("div",q,e(r[13]||(r[13]=[b("span",{class:"gray-bg circle-gray"},null,-1),b("p",null,"4. 等待服务器启动",-1)]))))]),v(J).serveStart?(m(),d("div",Q,e(r[15]||(r[15]=[b("p",null,"重启进行中时，请勿随意进行刷新，若长时间未响应，可以进行刷新尝试。",-1)])))):k("",!0)]),b("div",B,[r[17]||(r[17]=b("span",null,"计算结果：",-1)),b("span",E,S(v(Y).num1)+" + "+S(v(Y).num2),1),r[18]||(r[18]=b("span",{class:"mr-[1rem]"},"=",-1)),_(y(u,{modelValue:v(Y).gentle,"onUpdate:modelValue":r[0]||(r[0]=function(e){return v(Y).gentle=e}),autofocus:"true","controls-position":"right",size:"small",onKeydown:h(ee,["native","enter"])},null,8,["modelValue"]),[[c]])])]),b("div",F,[y(a,{type:"warning",onClick:r[1]||(r[1]=function(e){return K.value=!1})},{default:g(function(){return e(r[19]||(r[19]=[p("取消",-1)]))}),_:1}),y(a,{type:"primary",onClick:ee},{default:g(function(){return e(r[20]||(r[20]=[p("确认",-1)]))}),_:1})])])]}),_:1},8,["modelValue","area"])])}}}),[["__scopeId","data-v-49cd6d57"]]))}}})}();
