!function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function n(e){for(var n=1;n<arguments.length;n++){var u=null!=arguments[n]?arguments[n]:{};n%2?t(Object(u),!0).forEach(function(t){r(e,t,u[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(u)):t(Object(u)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(u,t))})}return e}function r(t,n,r){return(n=function(t){var n=function(t,n){if("object"!=e(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var u=r.call(t,n||"default");if("object"!=e(u))return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==e(n)?n:n+""}(n))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}function u(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function l(n,r,u,o){var l=r&&r.prototype instanceof c?r:c,s=Object.create(l.prototype);return a(s,"_invoke",function(n,r,u){var a,o,l,c=0,s=u||[],f=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return a=t,o=0,l=e,d.n=n,i}};function p(n,r){for(o=n,l=r,t=0;!f&&c&&!u&&t<s.length;t++){var u,a=s[t],p=d.p,v=a[2];n>3?(u=v===r)&&(l=a[(o=a[4])?5:(o=3,3)],a[4]=a[5]=e):a[0]<=p&&((u=n<2&&p<a[1])?(o=0,d.v=r,d.n=a[1]):p<v&&(u=n<3||a[0]>r||r>v)&&(a[4]=n,a[5]=r,d.n=v,o=0))}if(u||n>1)return i;throw f=!0,r}return function(u,s,v){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&p(s,v),o=s,l=v;(t=o<2?e:l)||!f;){a||(o?o<3?(o>1&&(d.n=-1),p(o,l)):d.n=l:d.v=l);try{if(c=2,a){if(o||(u="next"),t=a[u]){if(!(t=t.call(a,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,o<2&&(o=0)}else 1===o&&(t=a.return)&&t.call(a),o<2&&(l=TypeError("The iterator does not provide a '"+u+"' method"),o=1);a=e}else if((t=(f=d.n<0)?l:n.call(r,d))!==i)break}catch(t){a=e,o=1,l=t}finally{c=1}}return{value:t,done:f}}}(n,u,o),!0),s}var i={};function c(){}function s(){}function f(){}t=Object.getPrototypeOf;var d=[][r]?t(t([][r]())):(a(t={},r,function(){return this}),t),p=f.prototype=c.prototype=Object.create(d);function v(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,a(e,o,"GeneratorFunction")),e.prototype=Object.create(p),e}return s.prototype=f,a(p,"constructor",f),a(f,"constructor",s),s.displayName="GeneratorFunction",a(f,o,"GeneratorFunction"),a(p),a(p,o,"Generator"),a(p,r,function(){return this}),a(p,"toString",function(){return"[object Generator]"}),(u=function(){return{w:l,m:v}})()}function a(e,t,n,r){var u=Object.defineProperty;try{u({},"",{})}catch(e){u=0}a=function(e,t,n,r){function o(t,n){a(e,t,function(e){return this._invoke(t,n,e)})}t?u?u(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},a(e,t,n,r)}function o(e,t,n,r,u,a,o){try{var l=e[a](o),i=l.value}catch(e){return void n(e)}l.done?t(i):Promise.resolve(i).then(r,u)}function l(e){return function(){var t=this,n=arguments;return new Promise(function(r,u){var a=e.apply(t,n);function l(e){o(a,r,u,l,i,"next",e)}function i(e){o(a,r,u,l,i,"throw",e)}l(void 0)})}}function i(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}System.register(["./utils-lib-legacy.js?v=1756369731","./base-lib-legacy.js?v=1756369731","./index-legacy103.js?v=1756369731","./ssl-legacy.js?v=1756369731","./useController-legacy13.js?v=1756369731","./useMethod-legacy11.js?v=1756369731","./useStore-legacy12.js?v=1756369731","./site-legacy.js?v=1756369731","./index-legacy56.js?v=1756369731","./column-legacy.js?v=1756369731","./__commonjsHelpers__-legacy.js?v=1756369731","./index-legacy104.js?v=1756369731","./useStore-legacy4.js?v=1756369731","./useController-legacy6.js?v=1756369731","./validator-legacy.js?v=1756369731","./useController-legacy5.js?v=1756369731","./useMethod-legacy5.js?v=1756369731","./useController-legacy4.js?v=1756369731","./useStore-legacy10.js?v=1756369731","./useStore-legacy11.js?v=1756369731","./useMethod-legacy10.js?v=1756369731","./index-legacy112.js?v=1756369731","./useMethod-legacy7.js?v=1756369731","./useMethod-legacy9.js?v=1756369731","./header-nav-tools.vue_vue_type_script_setup_true_lang-legacy.js?v=1756369731"],function(e,t){"use strict";var r,a,o,c,s,f,d,p,v,m,y,h,b,_,g,w,j,S,k,x,O,D,C,P,A,M,T,L,N,V,I,q,E,U,G,B,W,R,F,z,H,X,J,K,Y,$,Q,Z,ee,te,ne,re,ue,ae,oe,le,ie,ce,se,fe,de;return{setters:[function(e){r=e.j,a=e.e,o=e.A,c=e.L,s=e.M,f=e.ai,d=e.K,p=e.iB,v=e.N,m=e.iC,y=e.bj,h=e.r,b=e.G,_=e.bg,g=e.k,w=e.W,j=e.h,S=e.cY,k=e.o,x=e.iD,O=e.al},function(e){D=e.c,C=e.s,P=e.ay,A=e.q,M=e.v,T=e.x,L=e.M,N=e.A,V=e.y,I=e.z,q=e.C,E=e.e,U=e.P,G=e.B,B=e.aW,W=e.D,R=e.r,F=e.k,z=e.g,H=e.T,X=e.p,J=e.F,K=e.a_,Y=e.ac,$=e.a9,Q=e.aB,Z=e.j,ee=e.N,te=e.m,ne=e.aA},function(e){re=e._},function(e){ue=e.z},function(e){ae=e.c},function(e){oe=e.l},function(e){le=e.u},function(e){ie=e.authDomainApi,ce=e.validateDomain,se=e.getCertList},function(e){fe=e.c},function(e){de=e.u},null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){var pe={class:"cert-info"},ve={class:"cert-value"},me={class:"cert-info"},ye={class:"cert-value"},he={class:"mb-16px flex justify-between gap-[10px]"},be={class:"w-48%"},_e={class:"w-48%"},ge={class:"mb-12px flex"},we=D({__name:"other",setup:function(e){var t=C(Qe()),n=t.keys,u=t.crt,a=t.domains,o=t.menuData,l=Qe(),c=l.onSave,s=l.onDel,f=P("popupClose");return function(e,t){var l,d=B,p=r,v=W;return A(),M("div",null,[null!==(l=T(o))&&void 0!==l&&l.row.ssl_status?(A(),L(d,{key:0,class:"mb-16px",type:"success","show-icon":!1},{default:N(function(){var e;return[V("div",pe,[t[4]||(t[4]=V("span",{class:"cert-label"},"品牌: ",-1)),V("span",ve,I(null===(e=T(o))||void 0===e?void 0:e.row.ssl_info.issuer),1)]),V("div",me,[t[5]||(t[5]=V("span",{class:"cert-label"},"认证域名: ",-1)),V("span",ye,I(T(a)),1)])]}),_:1})):q("",!0),V("div",he,[V("div",be,[t[6]||(t[6]=V("div",{class:"mb-8px"},"密钥(KEY)",-1)),E(p,{type:"textarea",class:"!w-full",modelValue:T(n),"onUpdate:modelValue":t[0]||(t[0]=function(e){return U(n)?n.value=e:null}),rows:14},null,8,["modelValue"])]),V("div",_e,[t[7]||(t[7]=V("div",{class:"mb-8px"},"证书(CRT/PEM格式)",-1)),E(p,{type:"textarea",class:"!w-full",modelValue:T(u),"onUpdate:modelValue":t[1]||(t[1]=function(e){return U(u)?u.value=e:null}),rows:14},null,8,["modelValue"])])]),V("div",ge,[E(v,{type:"primary",onClick:t[2]||(t[2]=function(e){return T(c)(T(f))})},{default:N(function(){return i(t[8]||(t[8]=[G(" 保存 ",-1)]))}),_:1}),E(v,{onClick:t[3]||(t[3]=function(e){return T(s)(T(f))})},{default:N(function(){return i(t[9]||(t[9]=[G(" 关闭 ",-1)]))}),_:1})])])}}}),je=a(we,[["__scopeId","data-v-aa18f461"]]),Se=le(),ke=Se.setApplyInfo,xe=Se.letApplyInfo,Oe=R(null),De=R([]),Ce=R(!1),Pe=R("");R(!1);var Ae=R([]),Me=F({resource:"1",auth_to:!1,autoWildcard:!1,domain:[],checkList:[]}),Te=R(!1),Le=R(""),Ne=function(){var e=l(u().m(function e(){var n,r,a,o,l;return u().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,c(function(){return Promise.resolve().then(function(){return Ze})},void 0,t.meta.url);case 1:n=e.v,r=n.MAIL_DOMAIN_SSL,a=r(),o=C(a),l=o.menuData,Ae.value=[],Ae.value.push(l.value.row.domain),Me.checkList=Ae.value;case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),Ve=function(){var e=l(u().m(function e(r){var a,o,l,i,f,d,p,v,m;return u().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.n=1,c(function(){return Promise.resolve().then(function(){return Ze})},void 0,t.meta.url);case 1:if(o=e.v,l=o.MAIL_DOMAIN_SSL,i=l(),f=C(i),d=f.menuData,0!==r.value.checkList.length){e.n=2;break}return s.error("请选择一个域名"),e.a(2,!1);case 2:if(null!==(a=d.value)&&void 0!==a&&null!==(a=a.row)&&void 0!==a&&a.dns_id||r.value.auth_to){e.n=3;break}return s.error("选中的域名存在未设置DNS接口配置"),e.a(2,!1);case 3:return p={domains:JSON.stringify(r.value.checkList),auth_type:"dns",auth_to:r.value.auth_to?"dns":JSON.stringify(r.value.checkList),auto_wildcard:r.value.autoWildcard?"1":"0"},e.p=4,e.n=5,oe();case 5:return v=e.v,e.n=6,ue(p);case 6:m=e.v,Le.value=m.data.index,v._props.onCancel(),Ie(m.data,n({auth_type:"dns"},r.value)),Be.value[1].text="可通过CMD命令来手动验证域名解析是否生效: nslookup -q=txt _acme-challenge.".concat(Me.checkList[0].replace("*.","")),e.n=8;break;case 7:e.p=7,e.v;case 8:return e.a(2)}},e,null,[[4,7]])}));return function(t){return e.apply(this,arguments)}}(),Ie=function(e,t){if(!1===e.status&&e.hasOwnProperty("msg")&&f(e.msg))s.msg({customClass:"bt-message-error-html",dangerouslyUseHTMLString:!0,message:e.msg,type:"error",showClose:!0,duration:0});else if(!0!==e.status&&"pending"!==e.status&&void 0===(null==e?void 0:e.save_path))ae(e,xe.value.dnsTable,xe.value.info);else{if("pending"===e.status&&"dns"===t.auth_type){De.value=[];for(var n=0;n<e.auths.length;n++){var r=[],u=e.auths[n].domain.replace("*.","");r.push({domain:"_acme-challenge.".concat(u),type:"TXT",auth_value:e.auths[n].auth_value,must:"是",force:"是"}),r.push({domain:u,type:"CAA",auth_value:'0 issue "letsencrypt.org"',must:"否",force:"否"}),De.value.push({domain:e.auths[n].domain,data:r})}return e.hasOwnProperty("error")?Ce.value=e.error:Ce.value=!1,ke(e,t),void(Te.value=!0)}Ue(e)}},qe=function(){var e=l(u().m(function e(t){var n,r,a;return u().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,oe();case 1:return n=e.v,e.n=2,ie({index:Le.value,domain:t.domain});case 2:r=e.v,a=r.data,n._props.onCancel(),Te.value=!1,"valid"===a.status?s.success("验证成功"):!0===a.status?Ue(a):ae(a,t.data,{auth_type:"dns"});case 3:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),Ee=function(){var e=l(u().m(function e(){var t,n;return u().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,oe();case 1:return t=e.v,e.n=2,d({request:ce({index:Le.value}),message:!1});case 2:n=e.v,t._props.onCancel(),Te.value=!1,!0===n.status?Ue(n):ae({msg:n.data},[],{auth_type:"dns"});case 3:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),Ue=function(){var e=l(u().m(function e(t){return u().w(function(e){for(;;)switch(e.n){case 0:d({loading:"正在部署证书，请稍候...",request:p({domain:t.domains[0],key:t.private_key,csr:t.cert+t.root}),message:!0,success:function(e){!0===e.status&&(s.success("证书部署成功"),Oe.value(),fe())}});case 1:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),Ge=R([{label:"解析域名",prop:"domain"},{label:"记录值",prop:"auth_value",render:function(e,t){var n=e.auth_value;return E("div",{class:"flex items-center"},[E("div",{class:"truncate w-[15rem]"},[n]),E("span",{class:"svgtofont-icon-copy ml-[4px] text-[#666] text-[1.6rem] w-[1.6rem] cursor-pointer",onClick:function(){return o({value:n})}},null)])}},{label:"类型",prop:"type",render:function(e,t){E("span",null,[e.type])}},{label:"必需",prop:"must",width:100}]),Be=R([{text:"解析域名需要一定时间来生效,完成所以上所有解析操作后,请等待1分钟后再点击验证按钮"},{text:""},{text:"若您使用的是宝塔云解析插件,阿里云DNS,DnsPod作为DNS,可使用DNS接口自动解析"}]),We=function(){var e=l(u().m(function e(t){var n,r,a;return u().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,n={search_limit:t.search_limit||0,search_name:t.search||"",force_refresh:1},e.n=1,d({request:se(n)});case 1:return r=e.v,a=r.data,v(a)||s.request(a),e.a(2,{data:a,total:0,other:{}});case 2:return e.p=2,e.v,e.a(2,{data:[],total:0,other:{}})}},e,null,[[0,2]])}));return function(t){return e.apply(this,arguments)}}(),Re=function(){var e=l(u().m(function e(n){var r,a,o,i,s,f;return u().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,c(function(){return Promise.resolve().then(function(){return Ze})},void 0,t.meta.url);case 1:a=e.v,o=a.MAIL_DOMAIN_SSL,i=o(),s=C(i),f=s.menuData,d({loading:"正在部署证书，请稍候...",message:!0,request:m({ssl_hash:n.hash,domain:null===(r=f.value)||void 0===r?void 0:r.row.domain}),success:function(){var e=l(u().m(function e(t){return u().w(function(e){for(;;)switch(e.n){case 0:t.status&&(fe(),Oe.value());case 1:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}()});case 2:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),Fe={class:"p-[12px] border-[1px] w-[50rem] h-[22rem] flex flex-col overflow-auto rounded-default border-[#ececec] checkGroup"},ze={class:"w-[41rem] flex items-center justify-between"},He={class:"p-[1.5rem]"},Xe={class:"ml-[.4rem] text-danger"},Je={class:"max-h-[38rem] overflow-auto"},Ke={key:0,class:"flex justify-end"},Ye=D({__name:"apply",setup:function(e){var t=Qe(),n=C(t).menuData;Oe.value=P("popupClose");var r,a=R([{content:"如开启后无法使用HTTPS访问，请检查安全组是否正确放行443端口"},{content:function(){return E("span",null,[G("在DNS验证中，我们提供了多种自动化DNS-API，并提供了手动模式-"),E("span",{class:"bt-link",onClick:function(){y(),h.push({name:"domain"})}},[G("点击添加DNS接口")])])}},{content:"使用DNS接口申请证书可自动续期，手动模式下证书到期后需重新申请"}]),o=b({data:Me,options:function(e){return z(function(){return[{type:"radio",label:"验证方法",key:"resource",options:[{label:"DNS验证(支持通配符)",value:"1"}]},{type:"custom",render:function(){return E(_,{label:" "},{default:function(){return[E(H,{modelValue:e.value.auth_to,"onUpdate:modelValue":function(t){return e.value.auth_to=t}},{default:function(){return[G(" 手动解析 ")]}})]}})}},{type:"custom",render:function(){return E(_,{label:" "},{default:function(){return[E(H,{modelValue:e.value.autoWildcard,"onUpdate:modelValue":function(t){return e.value.autoWildcard=t}},{default:function(){return[G("自动组合泛域名")]}}),E("div",{class:"text-[1.2rem]"},[G("* 如需申请通配符域名请勾选此项，且不要在下方域名列表中选中泛域名")])]}})}},{type:"slots",key:"domain"},{type:"custom",render:function(){return E(_,{label:" "},{default:function(){return[E(W,{type:"primary",onClick:function(){return s()}},{default:function(){return[G("申请证书")]}})]}})}},{type:"help",options:a.value}]})},submit:(r=l(u().m(function e(t){return u().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Ve(t);case 1:return e.a(2,e.v)}},e)})),function(e){return r.apply(this,arguments)})}),c=o.BtForm,s=o.submit,f=o.param;return X(function(){Me.checkList=[],Me.auth_to=!1,Me.autoWildcard=!1,Me.domain=[],Ne()}),function(e,t){var r=W,u=Y,a=$,o=g,l=re,s=w,d=j;return A(),M(J,null,[E(T(c),{class:"p-2rem"},{domain:N(function(){return[E(a,{label:"域名"},{default:N(function(){return[V("div",Fe,[E(u,{class:"flex flex-col",modelValue:T(f).checkList,"onUpdate:modelValue":t[0]||(t[0]=function(e){return T(f).checkList=e})},{default:N(function(){return[(A(!0),M(J,null,K(T(Ae),function(e,u){return A(),M("div",{class:"flex flex-col",key:u},[(A(),L(T(H),{class:"w-full !mx-0 mb-[4px] overflow-hidden",value:e,key:e,border:""},{default:N(function(){var u;return[V("div",ze,[V("span",null,I(e),1),null!==(u=T(n))&&void 0!==u&&u.row.dns_id||T(Me).auth_to?q("",!0):(A(),L(r,{key:0,type:"primary",size:"small",class:"ml-auto"},{default:N(function(){return i(t[2]||(t[2]=[G(" 配置DNS ",-1)]))}),_:1}))])]}),_:2},1032,["value"]))])}),128))]}),_:1},8,["modelValue"])])]}),_:1})]}),_:1}),E(d,{modelValue:T(Te),"onUpdate:modelValue":t[1]||(t[1]=function(e){return U(Te)?Te.value=e:null}),area:70,title:"手动解析TXT记录"},{default:N(function(){return[V("div",He,[t[5]||(t[5]=G(" 请按以下列表做TXT解析: ",-1)),V("span",Xe,I(T(Pe)),1),E(l,null,{content:N(function(){return[V("div",Je,[(A(!0),M(J,null,K(T(De),function(e,n){return A(),M(J,null,[e.data.length?(A(),M("div",{key:n},[V("span",null,"验证域名："+I(e.domain),1),E(o,{class:"my-[1rem]",column:T(Ge),data:e.data},null,8,["column","data"]),T(Ce)?(A(),M("div",Ke,[E(r,{type:"default",onClick:function(t){return T(qe)(e)}},{default:N(function(){return i(t[3]||(t[3]=[G("验证",-1)]))}),_:2},1032,["onClick"])])):q("",!0)])):q("",!0)],64)}),256))])]}),"footer-right":N(function(){return[T(Ce)?q("",!0):(A(),L(r,{key:0,type:"default",onClick:T(Ee)},{default:N(function(){return i(t[4]||(t[4]=[G("验证",-1)]))}),_:1},8,["onClick"]))]}),_:1}),E(s,{list:T(Be),listStyle:"disc",class:"ml-[20px]"},null,8,["list"])])]}),_:1},8,["modelValue"])],64)}}}),$e=D({__name:"folder",setup:function(e){var t=S({request:We,columns:[{label:"域名",prop:"subject",render:function(e){var t;return Q("div",{class:"whitespace-pre-wrap"},(null===(t=e.dns)||void 0===t?void 0:t.join("\n"))||e.subject)}},{label:"到期时间",prop:"not_after"},{label:"品牌",prop:"info.issuer",showOverflowTooltip:!0},{label:"位置",render:function(e){return e.cloud_id>0?"云端":"本地"}},de([{onClick:Re,title:"部署"}])]}),n=t.BtTable;t.BtSearch,t.BtTableSelect,t.refresh;return function(e,t){return A(),M("div",null,[E(T(n),{"max-height":500})])}}}),Qe=Z("MAIL_DOMAIN_SSL",function(){var e=R("other"),t=[{type:"other",title:"当前证书",component:je},{type:"apply",title:"申请证书",component:Ye},{type:"folder",title:"证书夹",component:$e}],n=R(""),r=R(""),a=R(),o=z(function(){var e;return((null===(e=a.value)||void 0===e||null===(e=e.row)||void 0===e?void 0:e.ssl_info.dns)||[]).join(", ")}),i=function(){var e=l(u().m(function e(t){var o,l,i,c;return u().w(function(e){for(;;)switch(e.n){case 0:if(n.value&&""!==n.value&&r.value&&""!==r.value){e.n=1;break}return s.error("证书不能为空"),e.a(2);case 1:return e.n=2,p({domain:null===(o=a.value)||void 0===o?void 0:o.row.domain,key:n.value,csr:r.value});case 2:if(l=e.v,i=l.data,s.request(i),!i.status){e.n=3;break}null===(c=a.value)||void 0===c||c.onRefresh(),t(),e.n=4;break;case 3:return e.a(2,!1);case 4:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),c=function(){var e=l(u().m(function e(t){var o,l,i,c;return u().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,k({title:"确认删除",content:"是否删除SSL证书?"});case 1:return e.n=2,x({domain:null===(o=a.value)||void 0===o?void 0:o.row.domain,key:n.value,csr:r.value});case 2:if(l=e.v,i=l.data,s.request(i),!i.status){e.n=3;break}null===(c=a.value)||void 0===c||c.onRefresh(),t(),e.n=4;break;case 3:return e.a(2,!1);case 4:e.n=6;break;case 5:e.p=5,e.v;case 6:return e.a(2)}},e,null,[[0,5]])}));return function(t){return e.apply(this,arguments)}}();return{menu:e,menus:t,menuData:a,initMenu:function(e){a.value={row:e.row,onRefresh:function(){e.onRefresh&&e.onRefresh()}},e.row.ssl_status&&(n.value=e.row.ssl_info.key,r.value=e.row.ssl_info.src)},keys:n,crt:r,domains:o,onSave:i,onDel:c}}),Ze=Object.freeze(Object.defineProperty({__proto__:null,MAIL_DOMAIN_SSL:Qe,default:Qe},Symbol.toStringTag,{value:"Module"})),et={class:"h-full p-16px"};e("default",D({__name:"index",props:{compData:{}},setup:function(e){var t=C(Qe()),n=t.menu,r=t.menuData,u=Qe(),a=u.initMenu,o=u.menus;return a(e.compData),function(e,t){var u=ne,a=O;return A(),M("div",et,[E(a,{modelValue:T(n),"onUpdate:modelValue":t[0]||(t[0]=function(e){return U(n)?n.value=e:null}),type:"card"},{default:N(function(){return[(A(!0),M(J,null,K(T(o),function(e){return A(),L(u,{key:e.type,label:e.title,name:e.type},{default:N(function(){return[(A(),L(ee(e.component),te({ref_for:!0},T(r)),null,16))]}),_:2},1032,["label","name"])}),128))]}),_:1},8,["modelValue"])])}}}))}}})}();
