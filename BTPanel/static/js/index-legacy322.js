!function(){function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t){return function(t){if(Array.isArray(t))return r(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return r(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function o(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach(function(e){u(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function u(e,r,n){return(r=function(e){var r=function(e,r){if("object"!=t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,r||"default");if("object"!=t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==t(r)?r:r+""}(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function i(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var t,e,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function u(r,n,o,u){var i=n&&n.prototype instanceof c?n:c,s=Object.create(i.prototype);return l(s,"_invoke",function(r,n,o){var u,i,l,c=0,s=o||[],f=!1,p={p:0,n:0,v:t,a:y,f:y.bind(t,4),d:function(e,r){return u=e,i=0,l=t,p.n=r,a}};function y(r,n){for(i=r,l=n,e=0;!f&&c&&!o&&e<s.length;e++){var o,u=s[e],y=p.p,m=u[2];r>3?(o=m===n)&&(l=u[(i=u[4])?5:(i=3,3)],u[4]=u[5]=t):u[0]<=y&&((o=r<2&&y<u[1])?(i=0,p.v=n,p.n=u[1]):y<m&&(o=r<3||u[0]>n||n>m)&&(u[4]=r,u[5]=n,p.n=m,i=0))}if(o||r>1)return a;throw f=!0,n}return function(o,s,m){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&y(s,m),i=s,l=m;(e=i<2?t:l)||!f;){u||(i?i<3?(i>1&&(p.n=-1),y(i,l)):p.n=l:p.v=l);try{if(c=2,u){if(i||(o="next"),e=u[o]){if(!(e=e.call(u,l)))throw TypeError("iterator result is not an object");if(!e.done)return e;l=e.value,i<2&&(i=0)}else 1===i&&(e=u.return)&&e.call(u),i<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),i=1);u=t}else if((e=(f=p.n<0)?l:r.call(n,p))!==a)break}catch(e){u=t,i=1,l=e}finally{c=1}}return{value:e,done:f}}}(r,o,u),!0),s}var a={};function c(){}function s(){}function f(){}e=Object.getPrototypeOf;var p=[][n]?e(e([][n]())):(l(e={},n,function(){return this}),e),y=f.prototype=c.prototype=Object.create(p);function m(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,l(t,o,"GeneratorFunction")),t.prototype=Object.create(y),t}return s.prototype=f,l(y,"constructor",f),l(f,"constructor",s),s.displayName="GeneratorFunction",l(f,o,"GeneratorFunction"),l(y),l(y,o,"Generator"),l(y,n,function(){return this}),l(y,"toString",function(){return"[object Generator]"}),(i=function(){return{w:u,m:m}})()}function l(t,e,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}l=function(t,e,r,n){function u(e,r){l(t,e,function(t){return this._invoke(e,r,t)})}e?o?o(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n}):t[e]=r:(u("next",0),u("throw",1),u("return",2))},l(t,e,r,n)}function a(t,e,r,n,o,u,i){try{var l=t[u](i),a=l.value}catch(t){return void r(t)}l.done?e(a):Promise.resolve(a).then(n,o)}function c(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var u=t.apply(e,r);function i(t){a(u,n,o,i,l,"next",t)}function l(t){a(u,n,o,i,l,"throw",t)}i(void 0)})}}System.register(["./utils-lib-legacy.js?v=1756369731","./index-legacy103.js?v=1756369731","./base-lib-legacy.js?v=1756369731","./form-item-legacy.js?v=1756369731","./column-legacy.js?v=1756369731","./index-legacy51.js?v=1756369731","./useController-legacy8.js?v=1756369731","./__commonjsHelpers__-legacy.js?v=1756369731","./index-legacy104.js?v=1756369731","./useStore-legacy6.js?v=1756369731","./index-legacy323.js?v=1756369731","./config-legacy.js?v=1756369731","./index-legacy123.js?v=1756369731","./index-legacy116.js?v=1756369731","./validator-legacy.js?v=1756369731","./useStore-legacy7.js?v=1756369731"],function(t,r){"use strict";var n,u,l,a,s,f,p,y,m,d,v,b,g,h,j,w,S,O,_,x,P,C,T,E,F,k,A,D,G,I,V;return{setters:[function(t){n=t.G,u=t.fj,l=t.h,a=t.c,s=t.fi,f=t.T,p=t.e},function(t){y=t._},function(t){m=t.c,d=t.s,v=t.g,b=t.r,g=t.w,h=t.p,j=t.q,w=t.v,S=t.e,O=t.A,_=t.B,x=t.x,P=t.y,C=t.P,T=t.D},function(t){E=t.b,F=t.k},function(t){k=t.u},function(t){A=t.s,D=t.a,G=t.b,I=t.d},function(t){V=t.L},null,null,null,null,null,null,null,null,null],execute:function(){var r={class:"p-[20px]"},q={class:"p-[2rem]"},L={class:"p-[2rem]"},B={class:"list-disc mt-[20px] pl-[28px]"},U={class:"h-[2.4rem]"},N=m({__name:"index",setup:function(t){var p,m=V(),N=d(m),H=(N.sForm,N.sendSource),M=N.logSystemDialog,$=N.logSystemForm,z=(N.sourceForm,N.logSystemData,N.logSystemLoad),J=(N.logSysForm,N.logSystemList),K=m.getLogSystemData,Q=m.getLogSystemSite,R=(m.sendSourceConfirm,n({data:$.value,options:function(t){return v(function(){return[E("IP","ip",{attrs:{placeholder:"日志服务系统的ip",clearable:!0,class:"!w-22rem"},rules:[{required:!0,validator:function(t,e,r){s(e)||r(new Error("请输入正确的IP")),r()},trigger:["blur","change"]}]}),E("端口","port",{attrs:{placeholder:"请输入端口号",clearable:!0,"controls-position":"right",class:"!w-22rem",type:"number"},rules:[{required:!0,validator:function(t,e,r){f(e)&&e||r(new Error("请输入正确的端口(范围为1-65535)")),r()},trigger:["blur","change"]}]})]})},submit:(p=c(i().m(function t(e,r,n){return i().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,r();case 1:return t.n=2,A(e.value);case 2:return t.a(2,t.v)}},t)})),function(t,e,r){return p.apply(this,arguments)})})),W=R.BtForm,X=R.submit,Y=b({site:[],ip:$.value.port?$.value.ip+":"+$.value.port:"未配置"});g($,function(t){J.value[0].ip,Y.value.ip=t.port?t.ip+":"+t.port:"未配置"},{deep:!0});var Z,tt=n({data:Y.value,options:function(t){return v(function(){return[F("网站","site",D.value,{attrs:{multiple:!0,collapseTags:!0,class:"!w-22rem"},rules:[{required:!0,message:"请选择网站",trigger:"change"}]}),E("日志系统","ip",{attrs:{disabled:!0,class:"!w-22rem"}})]})},submit:(Z=c(i().m(function t(e,r,n){return i().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,r();case 1:return t.n=2,G(o(o({},e.value),{},{server_id:J.value.length?J.value[0].id:""}));case 2:return t.a(2,t.v)}},t)})),function(t,e,r){return Z.apply(this,arguments)})}),et=tt.BtForm,rt=tt.submit,nt=u({request:K,columns:[{label:"已设置站点",prop:"site_name"},k([{onClick:I,title:"删除"}])]}).BtTable;return h(function(){Q()}),function(t,n){var o=T,u=y,i=l,c=a;return j(),w("div",r,[S(u,null,{"header-left":O(function(){return[S(o,{onClick:n[0]||(n[0]=function(t){return H.value=!0}),type:"primary"},{default:O(function(){return e(n[5]||(n[5]=[_(" 设置发送源 ",-1)]))}),_:1}),S(o,{onClick:n[1]||(n[1]=function(t){return M.value=!0})},{default:O(function(){return e(n[6]||(n[6]=[_("日志服务系统配置",-1)]))}),_:1})]}),content:O(function(){return[S(x(nt),{"max-height":"360"}),n[7]||(n[7]=P("ul",{class:"list-disc w-[50rem] pl-[1rem] mt-[12px] text-[#777]"},[P("li",null,"注意：网站被访问后才会在日志服务系统中显示")],-1))]}),_:1}),S(i,{title:"设置发送源",modelValue:x(H),"onUpdate:modelValue":n[2]||(n[2]=function(t){return C(H)?H.value=t:null}),"show-footer":!0,area:[40],onConfirm:x(rt)},{default:O(function(){return[P("div",q,[S(x(et),{"label-width":"80px"})])]}),_:1},8,["modelValue","onConfirm"]),S(i,{title:"日志服务系统配置",modelValue:x(M),"onUpdate:modelValue":n[3]||(n[3]=function(t){return C(M)?M.value=t:null}),"show-footer":!0,area:[40],onConfirm:x(X),onCancel:n[4]||(n[4]=function(t){return M.value=!1,z.value=!1,void(J.value.length>0&&Object.assign($.value,J.value[0]))})},{default:O(function(){return[P("div",L,[S(x(W),{"label-width":"80px"}),P("ul",B,[P("li",U,[S(c,{href:"https://www.bt.cn/bbs/thread-120054-1-1.html"},{default:O(function(){return e(n[8]||(n[8]=[_(" 如何配置日志服务系统 ",-1)]))}),_:1})]),n[9]||(n[9]=P("li",null,"端口：日志服务收集端口，请在安装“日志服务系统”的机器通过 btlogs 8 获取",-1))])])]}),_:1},8,["modelValue","onConfirm"])])}}});t("default",p(N,[["__scopeId","data-v-403d4797"]]))}}})}();
