import{_ as s}from"./index116.js?v=1756369731";import{_ as e}from"./index399.js?v=1756369731";import{a3 as l,v as a,c as t,e as o}from"./utils-lib.js?v=1756369731";import{c as i,s as n,g as c,p as r,a4 as m,q as p,v as d,x as u,F as v,y as x,z as g,e as f,A as j,B as _,a_ as k,C as h}from"./base-lib.js?v=1756369731";import{X as b}from"./store.js?v=1756369731";import"./__commonjsHelpers__.js?v=1756369731";import"./files.js?v=1756369731";import"./validator.js?v=1756369731";import"./index104.js?v=1756369731";import"./column.js?v=1756369731";import"./store2.js?v=1756369731";import"./index101.js?v=1756369731";const w={class:"p-16px realTaskDialog"},y={class:"title"},C=["title"],D={class:"p-[1rem]"},H={class:"mt-[4px] flex justify-between items-center"},T={class:"flex"},q={class:"mr-[25px]"},z={class:"title"},A={class:"truncate max-w-[36rem]"},B={key:2,class:"wait"},F={class:"truncate"},I=["onClick"],L=o(i({__name:"index",emits:["close"],setup(o,{emit:i}){const L=b(),{taskData:N}=n(L),{getLog:W,cancel:X,$reset:$}=L,E=c(()=>N.value[0]||{log:"",name:"",shell:""});return r(()=>{W()}),m(()=>{$()}),(o,i)=>{var n,c,r,m,b;const L=t,W=e,$=s;return p(),d("div",w,[u(l)(u(E).log)?(p(),d(v,{key:0},[x("div",y,[x("span",{class:"truncate max-w-[36rem]",title:u(E).shell},"正在下载:"+g(u(E).shell),9,C),f(L,{onClick:i[0]||(i[0]=s=>u(X)(u(E)))},{default:j(()=>[...i[2]||(i[2]=[_("取消",-1)])]),_:1})]),x("div",D,[f(W,{strokeWidth:3,percentage:Number((null==(n=u(E).log)?void 0:n.pre)||0),showText:!1},null,8,["percentage"]),x("div",H,[x("div",T,[x("span",q,g(null==(c=u(E).log)?void 0:c.used)+" / "+g(u(a)(null==(r=u(E).log)?void 0:r.total)),1),x("span",null,"预计还要:"+g(null==(m=u(E).log)?void 0:m.time),1)]),x("span",null,g(null==(b=u(E).log)?void 0:b.speed)+"/s",1)])])],64)):(p(),d(v,{key:1},[x("div",z,[x("span",A,g("".concat(u(E).name,":").concat(u(E).shell)),1),f(L,{onClick:i[1]||(i[1]=s=>u(X)(u(E)))},{default:j(()=>[...i[3]||(i[3]=[_("取消",-1)])]),_:1})]),f($,{content:u(E).log,isHtml:!0,class:"max-h-[18rem] h-[18rem]"},null,8,["content"])],64)),u(N).length>1?(p(),d("div",B,[i[4]||(i[4]=x("div",{class:"title"},"等待执行任务",-1)),(p(!0),d(v,null,k(u(N).slice(1),s=>(p(),d("div",{class:"title item w-full !text-[#ccc] items-center",key:s.id},[x("span",F,g("".concat(s.name,":").concat(s.shell)),1),x("span",{class:"svgtofont-el-close-bold text-danger cursor-pointer ml-1rem",onClick:e=>u(X)(s)},null,8,I)]))),128))])):h("",!0)])}}}),[["__scopeId","data-v-f41af99b"]]);export{L as default};
