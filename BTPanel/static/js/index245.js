import{K as a,S as t,J as e,k as o,W as l}from"./utils-lib.js?v=1756369731";import{_ as s}from"./index103.js?v=1756369731";import{_ as n}from"./index112.js?v=1756369731";import{j as r,r as i,k as p,c,s as d,p as m,a4 as u,G as g,q as b,v as f,e as h,A as x,x as j,H as _}from"./base-lib.js?v=1756369731";import{ao as D}from"./files.js?v=1756369731";import"./__commonjsHelpers__.js?v=1756369731";const S=r("FILES-OPERATION-RECORD-STORE",()=>{const e=i(!1),o=i([]),l=p({loading:!1,content:"",total:0,limit:20,p:1,help:[{content:'清空当前日志可前往"日志->操作日志"中清空'}]}),s=i([{label:"操作时间",prop:"addtime",width:160},{label:"操作日志",prop:"log"}]),n=async()=>{await a({loading:e,request:D({content:l.content||"",p:l.p}),data:{data:[Array,o],page:t(l)}})};return{isLoading:e,tableColumn:s,tableData:o,recordTableData:l,searchSubmit:a=>{l.content=a,n()},getData:n,$reset:()=>{e.value=!1,Object.assign(l,{loading:!1,content:"",total:0,limit:20,p:1}),o.value=[]}}}),v={class:"flex flex-col p-16px"},w=c({__name:"index",setup(a){const t=S(),{isLoading:r,tableColumn:i,tableData:p,recordTableData:c}=d(t),{searchSubmit:D,getData:w,$reset:O}=t;return m(()=>{w()}),u(()=>{O()}),(a,t)=>{const d=e,m=o,u=n,S=s,O=l,T=g("bt-loading");return b(),f("div",v,[h(S,null,{"header-left":x(()=>[...t[4]||(t[4]=[])]),"header-right":x(()=>[h(d,{modelValue:j(c).content,"onUpdate:modelValue":t[0]||(t[0]=a=>j(c).content=a),onSearch:j(D),placeholder:"请输入搜索关键字",class:"!w-[30rem]"},null,8,["modelValue","onSearch"])]),content:x(()=>[_(h(m,{ref:"favTable",height:"40rem",column:j(i),data:j(p),description:"列表为空"},null,8,["column","data"]),[[T,j(r)],[T,"正在加载列表，请稍后...","title"]])]),"footer-left":x(()=>[...t[5]||(t[5]=[])]),"footer-right":x(()=>[h(u,{page:j(c).p,"onUpdate:page":t[1]||(t[1]=a=>j(c).p=a),row:j(c).limit,"onUpdate:row":t[2]||(t[2]=a=>j(c).limit=a),layout:"prev, pager, next, total",total:j(c).total,onChange:t[3]||(t[3]=a=>j(w)())},null,8,["page","row","total"])]),popup:x(()=>[...t[6]||(t[6]=[])]),_:1}),h(O,{options:j(c).help,"list-style":"disc",class:"ml-24px"},null,8,["options"])])}}});export{w as default};
