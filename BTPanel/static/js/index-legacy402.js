!function(){function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t){return function(t){if(Array.isArray(t))return n(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return n(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach(function(e){i(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function i(e,n,r){return(n=function(e){var n=function(e,n){if("object"!=t(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,n||"default");if("object"!=t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==t(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function u(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof s?r:s,l=Object.create(u.prototype);return a(l,"_invoke",function(n,r,o){var i,u,a,s=0,l=o||[],f=!1,p={p:0,n:0,v:t,a:m,f:m.bind(t,4),d:function(e,n){return i=e,u=0,a=t,p.n=n,c}};function m(n,r){for(u=n,a=r,e=0;!f&&s&&!o&&e<l.length;e++){var o,i=l[e],m=p.p,d=i[2];n>3?(o=d===r)&&(a=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=t):i[0]<=m&&((o=n<2&&m<i[1])?(u=0,p.v=r,p.n=i[1]):m<d&&(o=n<3||i[0]>r||r>d)&&(i[4]=n,i[5]=r,p.n=d,u=0))}if(o||n>1)return c;throw f=!0,r}return function(o,l,d){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&m(l,d),u=l,a=d;(e=u<2?t:a)||!f;){i||(u?u<3?(u>1&&(p.n=-1),m(u,a)):p.n=a:p.v=a);try{if(s=2,i){if(u||(o="next"),e=i[o]){if(!(e=e.call(i,a)))throw TypeError("iterator result is not an object");if(!e.done)return e;a=e.value,u<2&&(u=0)}else 1===u&&(e=i.return)&&e.call(i),u<2&&(a=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=t}else if((e=(f=p.n<0)?a:n.call(r,p))!==c)break}catch(e){i=t,u=1,a=e}finally{s=1}}return{value:e,done:f}}}(n,o,i),!0),l}var c={};function s(){}function l(){}function f(){}e=Object.getPrototypeOf;var p=[][r]?e(e([][r]())):(a(e={},r,function(){return this}),e),m=f.prototype=s.prototype=Object.create(p);function d(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,a(t,o,"GeneratorFunction")),t.prototype=Object.create(m),t}return l.prototype=f,a(m,"constructor",f),a(f,"constructor",l),l.displayName="GeneratorFunction",a(f,o,"GeneratorFunction"),a(m),a(m,o,"Generator"),a(m,r,function(){return this}),a(m,"toString",function(){return"[object Generator]"}),(u=function(){return{w:i,m:d}})()}function a(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}a=function(t,e,n,r){function i(e,n){a(t,e,function(t){return this._invoke(e,n,t)})}e?o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(i("next",0),i("throw",1),i("return",2))},a(t,e,n,r)}function c(t,e,n,r,o,i,u){try{var a=t[i](u),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(r,o)}function s(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function u(t){c(i,r,o,u,a,"next",t)}function a(t){c(i,r,o,u,a,"throw",t)}u(void 0)})}}System.register(["./index-legacy103.js?v=1756369731","./base-lib-legacy.js?v=1756369731","./utils-lib-legacy.js?v=1756369731","./useMethod-legacy5.js?v=1756369731","./form-item-legacy.js?v=1756369731","./column-legacy.js?v=1756369731","./index-legacy104.js?v=1756369731","./index-legacy482.js?v=1756369731"],function(t,n){"use strict";var r,i,a,c,l,f,p,m,d,y,v,h,b,g,w,j,O,S,_,k,P,C,T,x,B,R,E,A,L,q,D,z,F,G,I,M,N,V,U,H;return{setters:[function(t){r=t._},function(t){i=t.j,a=t.k,c=t.r,l=t.s,f=t.e,p=t.B,m=t.g,d=t.al,y=t.a5,v=t.c,h=t.q,b=t.v,g=t.A,w=t.x,j=t.D},function(t){O=t.l,S=t.L,_=t.o,k=t.K,P=t.M,C=t.u,T=t.a6,x=t.cu,B=t.a7},function(t){R=t.p,E=t.q,A=t.r,L=t.t,q=t.v,D=t.w,z=t.x,F=t.y,G=t.z,I=t.A},function(t){M=t.b},function(t){N=t.u,V=t.a},function(t){U=t._},function(t){H=t.B}],execute:function(){var J=t("u",i("WP-SETS-STORE",function(){var t=a({name:""}),e=a({id:0,type:1}),n=a({p:1,p_size:999,keyword:"",set_id:0}),r=c(!1),o=c(!1),i=c(!1);return{createFormData:t,wpSetsPluginOrTheme:e,pluginOrThemePamra:n,isRefreshInstallList:r,isRefreshPluginOrThemeList:o,isRefreshSetsList:i,resetCreateFormData:function(){t.name=""}}})),K=l(J()),W=K.wpSetsPluginOrTheme,$=K.pluginOrThemePamra,Q=(K.isRefreshInstallList,K.isRefreshPluginOrThemeList),X=K.isRefreshSetsList,Y=function(){var t=s(u().m(function t(e){var n,r,o,i;return u().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,R({keyword:e.search,p_size:e.limit,p:e.p});case 1:return n=t.v,r=n.data,o=r.list,i=r.total,t.a(2,{data:o,total:i});case 2:return t.p=2,t.v,t.a(2,{data:[],total:0,other:{search_history:[]}})}},t,null,[[0,2]])}));return function(e){return t.apply(this,arguments)}}(),Z=function(){return[{label:"名称",isCustom:!0,prop:"name",render:function(t){return f("span",null,[t.name])}},{label:"插件",isCustom:!0,prop:"plugins",render:function(t){return f("span",{class:"bt-link",onClick:function(){et(t,1)}},["".concat(t.plugins.length," 条(添加插件)")])}},{label:"主题",isCustom:!0,prop:"themes",render:function(t){return f("span",{class:"bt-link",onClick:function(){et(t,2)}},["".concat(t.themes.length," 条(添加主题)")])}},N(function(t){return[{render:function(t){return f("div",{class:"inline-block"},[0===t.plugins.length&&0===t.themes.length?f("span",{class:"text-[#999]",style:"cursor:not-allowed"},[p("安装")]):f("span",{class:"bt-link",onClick:function(){W.value.id=t.id,O({title:"选择网站",area:45,btn:!0,confirmText:"安装",component:function(){return S(function(){return n.import("./install-set-legacy.js?v=1756369731")},void 0,n.meta.url)}})}},[p("安装")]),f(U,null,null)])}},{render:function(t){return f("span",{class:"bt-link",onClick:function(){var e;_({title:"删除【".concat(t.name,"】"),content:"您确定要删除此组吗？",onConfirm:(e=s(u().m(function e(){return u().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,k({request:E({set_id:t.id}),loading:"正在删除中...",message:!0,success:function(){X.value=!0}});case 1:return e.a(2)}},e)})),function(){return e.apply(this,arguments)})})}},[p("删除")])}}]})]},tt=function(){O({title:"创建集合包",area:48,btn:!0,component:function(){return S(function(){return n.import("./created-set-legacy.js?v=1756369731")},void 0,n.meta.url)}})},et=(t("b",function(t){var e={class:"!w-[280px]",clearable:!0};return m(function(){return[M("名称","name",{attrs:o(o({},e),{},{placeholder:"请输入集合名称"}),rules:[{required:!0,message:"集合名称不能为空",trigger:"blur"}]})]})}),function(t,e){W.value={id:t.id,type:e},O({title:"".concat(1===e?"添加插件":"添加主题","-【请先搜索后勾选需要的").concat(1===e?"插件":"主题","】"),area:60,component:function(){return S(function(){return n.import("./edit-set-legacy.js?v=1756369731")},void 0,n.meta.url)}})}),nt=(t("d",function(){var t=s(u().m(function t(e){var n,r;return u().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,A({set_id:W.value.id,type:W.value.type});case 1:return n=t.v,r=n.data.msg,t.a(2,{data:r,total:0});case 2:return t.p=2,t.v,t.a(2,{data:[],total:0,other:{search_history:[]}})}},t,null,[[0,2]])}));return function(e){return t.apply(this,arguments)}}()),t("e",function(){return[{label:"名称",isCustom:!0,prop:"title"},{label:"状态",prop:"state",width:80,render:function(t){return f(d,{modelValue:t.state,"onUpdate:modelValue":function(e){return t.state=e},size:"small","active-value":1,"inactive-value":0,onChange:function(e){k({request:L({item_ids:t.id,state:e?1:0,type:W.value.type}),loading:"正在设置中...",message:!0,success:function(){Q.value=!0}})}},null)}},N([{title:"删除",onClick:(t=s(u().m(function t(e){return u().w(function(t){for(;;)switch(t.n){case 0:k({request:q({item_ids:e.id,type:W.value.type}),loading:"正在删除中...",message:!0,success:function(){Q.value=!0,X.value=!0}});case 1:return t.a(2)}},t)})),function(e){return t.apply(this,arguments)})}])];var t}),t("h",function(){return[V({key:"name"}),{label:"名称",isCustom:!0,prop:"name"},{label:"等级",isCustom:!0,prop:"title",render:function(t){return f(H,{modelValue:Number((t.rating/20).toFixed(0)),disabled:!0,"allow-half":!0,class:"!text-[2rem]"},null)}}]}),t("f",function(){var t=s(u().m(function t(e){var n,r,o;return u().w(function(t){for(;;)switch(t.p=t.n){case 0:if(t.p=0,e.search){t.n=1;break}return t.a(2);case 1:if(n=P.load("正在加载..."),$.value.keyword=e.search,$.value.set_id=W.value.id,1!==W.value.type){t.n=3;break}return t.n=2,D(y($.value));case 2:o=t.v,t.n=5;break;case 3:return t.n=4,z(y($.value));case 4:o=t.v;case 5:return r=o.data.msg.list,t.a(2,{data:r,total:0});case 6:return t.p=6,t.v,t.a(2,{data:[],total:0});case 7:return t.p=7,n&&n.close(),t.f(7);case 8:return t.a(2)}},t,null,[[0,6,7,8]])}));return function(e){return t.apply(this,arguments)}}()),t("o",function(){var t=s(u().m(function t(e){var n;return u().w(function(t){for(;;)switch(t.n){case 0:if($.value.keyword&&null!=e&&e.length){t.n=1;break}return P.error("请选一个主题或插件以添加"),t.a(2);case 1:return n=e.map(function(t){return{slug:t.slug,title:t.name,description:1===W.value.type?t.short_description:t.description}}),t.n=2,F({set_id:W.value.id,items:JSON.stringify(n),type:W.value.type});case 2:Q.value=!0,X.value=!0;case 3:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}()),t("g",function(){var t=s(u().m(function t(e){var n,r;return u().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,G();case 1:return n=t.v,r=n.data.msg,t.a(2,{data:r,total:0});case 2:return t.p=2,t.v,t.a(2,{data:[],total:0})}},t,null,[[0,2]])}));return function(e){return t.apply(this,arguments)}}()),t("a",function(){return[V(),{label:"名称",isCustom:!0,prop:"name"}]}),t("c",function(){var t=s(u().m(function t(e,n){var r;return u().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,r=e.map(function(t){return t.id}).join(","),t.n=1,k({loading:"正在安装，请稍后...",message:!0,request:I({set_id:W.value.id,site_ids:r}),success:function(t){t.status&&n&&n()}});case 1:t.n=3;break;case 2:return t.p=2,t.v,t.a(2,!1);case 3:return t.a(2)}},t,null,[[0,2]])}));return function(e,n){return t.apply(this,arguments)}}()),{class:"p-[2rem]"}),rt=v({__name:"index",setup:function(t){var n=C().mainHeight,o=l(J()).isRefreshSetsList,i=T({request:function(t){return Y(t)},columns:Z(),extension:[x("search",{name:"wp-sets",list:[]}),B(o)]}),u=i.BtTable,a=i.BtPage,c=(i.BtRecommendSearch,i.BtRefresh,i.BtColumn,i.BtBatch),s=(i.BtTableCategory,i.BtErrorMask,i.tableRef,i.classList,i.refresh,i.BtSearch);return function(t,o){var i=j,l=r;return h(),b("div",nt,[f(l,null,{"header-left":g(function(){return[f(i,{type:"primary",size:"default",onClick:w(tt)},{default:g(function(){return e(o[0]||(o[0]=[p("创建集合包",-1)]))}),_:1},8,["onClick"])]}),"header-right":g(function(){return[f(w(s),{type:"wp-sets",placeholder:"搜索",class:"!w-[270px] mr-[10px]"})]}),content:g(function(){return[f(w(u),{"min-height":w(n)},null,8,["min-height"])]}),"footer-left":g(function(){return[f(w(c))]}),"footer-right":g(function(){return[f(w(a))]}),_:1})])}}}),ot=Object.freeze(Object.defineProperty({__proto__:null,default:rt},Symbol.toStringTag,{value:"Module"}));t("i",ot)}}})}();
