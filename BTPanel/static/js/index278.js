import{B as e}from"./index418.js?v=1756369731";import{G as a}from"./utils-lib.js?v=1756369731";import{c as l,s as r,g as s,e as t,B as o,T as u,a4 as i,q as m,v as n,x as p}from"./base-lib.js?v=1756369731";import{k as v,h as c}from"./form-item.js?v=1756369731";import{C as d}from"./useController8.js?v=1756369731";import{L as b}from"./useStore6.js?v=1756369731";import"./__commonjsHelpers__.js?v=1756369731";import"./index104.js?v=1756369731";import"./index123.js?v=1756369731";import"./index116.js?v=1756369731";import"./index103.js?v=1756369731";import"./column.js?v=1756369731";import"./useStore7.js?v=1756369731";import"./validator.js?v=1756369731";const j={class:"p-[20px] pb-0 flex flex-col"},f=l({__name:"index",setup(l,{expose:f}){const x=b(),{outDataForm:g,countType:y,configData:_}=r(x),{$reset_out:w}=x,{BtForm:E,submit:O}=a({data:g.value,options:a=>{var l,r;const i="crontab"===(null==(l=_.value)?void 0:l.type),m=y.value.includes(null==(r=_.value)?void 0:r.type);return i&&(a.value.isOutError=g.value.isOutError),m&&(a.value.count=g.value.count),s(()=>{var l;return[v("类型","type",m?[{label:"所有日志",value:"all"},{label:"成功日志",value:"Accepted"},{label:"失败日志",value:"Failed"}]:[{label:"运行日志",value:"access"},{label:"异常日志",value:"error"}],{attrs:{class:"!w-[22rem]"}}),...m?[]:[v("导出范围","day",[{label:"全部",value:"all"},{label:"近7天",value:"7"},{label:"近30天",value:"30"},..."crontab"!=(null==(l=_.value)?void 0:l.type)?[{label:"近180天",value:"180"}]:[]],{attrs:{class:"!w-[22rem]"}})],...i?[c(" ",()=>t(u,{modelValue:a.value.isOutError,"onUpdate:modelValue":e=>a.value.isOutError=e},{default:()=>[t("span",{class:"!text-[1.2rem]"},[o("仅导出异常日志")])]}))]:[],...m?[c("导出条数",()=>t(e,{modelValue:a.value.count,"onUpdate:modelValue":e=>a.value.count=e},null),"count",{rules:[{required:!0,message:"请输入导出条数",trigger:"blur"},{pattern:/^[1-9]\d*$/,message:"请输入正整数",trigger:"blur"}]})]:[]]})},submit:async(e,a)=>(await a(),await d(_.value.type,e.value))});return i(w),f({onConfirm:O}),(e,a)=>(m(),n("div",j,[t(p(E))]))}});export{f as default};
