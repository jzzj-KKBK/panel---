import{at as a,K as e,W as s}from"./utils-lib.js?v=1756369731";import{c as l,r as t,p as u,G as n,H as o,x as m,q as i,v as c,y as r,e as v,A as p,F as d,a_ as f,M as y,P as _,B as b,ai as j,aj as x,D as g}from"./base-lib.js?v=1756369731";import{getDefaultSite as k,setDefaultSite as w}from"./site.js?v=1756369731";import"./__commonjsHelpers__.js?v=1756369731";const V={class:"p-[20px]"},h=l({__name:"defalut-site",setup(l){const h=t(!1),q=t([{name:"默认站点",value:"default"},{name:"自定义站点",value:"custom"}]),H=t("default"),P=async()=>{const a={name:"未设置默认站点"===H.value?"0":H.value};h.value=!0,await e({loading:"正在设置默认站点，请稍后...",request:w(a),message:!0}),h.value=!1};return u(()=>{(async()=>{h.value=!0;try{const{data:a}=await k();H.value=a.defaultSite,a.defaultSite||(H.value="未设置默认站点"),q.value=a.sites,q.value.unshift({name:"未设置默认站点",value:"未设置默认站点"})}catch(e){a(e)}finally{h.value=!1}})()}),(a,e)=>{const l=j,t=x,u=g,k=s,w=n("bt-loading");return o((i(),c("div",V,[e[2]||(e[2]=r("span",{class:"mr-[12px]"},"默认站点",-1)),v(t,{modelValue:m(H),"onUpdate:modelValue":e[0]||(e[0]=a=>_(H)?H.value=a:null),class:"!w-[32rem]"},{default:p(()=>[(i(!0),c(d,null,f(m(q),(a,e)=>(i(),y(l,{key:e,label:a.name,value:a.name},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),v(u,{type:"primary",onClick:P,class:"!my-[20px] !block"},{default:p(()=>[...e[1]||(e[1]=[b("保存",-1)])]),_:1}),v(k,{options:[{content:"设置默认站点后,所有未绑定的域名和IP都被定向到默认站点"},{content:"可有效防止恶意解析"}]})])),[[w,m(h)]])}}});export{h as default};
