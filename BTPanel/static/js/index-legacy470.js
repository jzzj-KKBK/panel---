!function(){function t(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var n,r,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.toStringTag||"@@toStringTag";function c(t,a,o,i){var c=a&&a.prototype instanceof s?a:s,l=Object.create(c.prototype);return e(l,"_invoke",function(t,e,a){var o,i,c,s=0,l=a||[],p=!1,f={p:0,n:0,v:n,a:y,f:y.bind(n,4),d:function(t,e){return o=t,i=0,c=n,f.n=e,u}};function y(t,e){for(i=t,c=e,r=0;!p&&s&&!a&&r<l.length;r++){var a,o=l[r],y=f.p,m=o[2];t>3?(a=m===e)&&(c=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=n):o[0]<=y&&((a=t<2&&y<o[1])?(i=0,f.v=e,f.n=o[1]):y<m&&(a=t<3||o[0]>e||e>m)&&(o[4]=t,o[5]=e,f.n=m,i=0))}if(a||t>1)return u;throw p=!0,e}return function(a,l,m){if(s>1)throw TypeError("Generator is already running");for(p&&1===l&&y(l,m),i=l,c=m;(r=i<2?n:c)||!p;){o||(i?i<3?(i>1&&(f.n=-1),y(i,c)):f.n=c:f.v=c);try{if(s=2,o){if(i||(a="next"),r=o[a]){if(!(r=r.call(o,c)))throw TypeError("iterator result is not an object");if(!r.done)return r;c=r.value,i<2&&(i=0)}else 1===i&&(r=o.return)&&r.call(o),i<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),i=1);o=n}else if((r=(p=f.n<0)?c:t.call(e,f))!==u)break}catch(r){o=n,i=1,c=r}finally{s=1}}return{value:r,done:p}}}(t,o,i),!0),l}var u={};function s(){}function l(){}function p(){}r=Object.getPrototypeOf;var f=[][o]?r(r([][o]())):(e(r={},o,function(){return this}),r),y=p.prototype=s.prototype=Object.create(f);function m(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,e(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t}return l.prototype=p,e(y,"constructor",p),e(p,"constructor",l),l.displayName="GeneratorFunction",e(p,i,"GeneratorFunction"),e(y),e(y,i,"Generator"),e(y,o,function(){return this}),e(y,"toString",function(){return"[object Generator]"}),(t=function(){return{w:c,m:m}})()}function e(t,n,r,a){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}e=function(t,n,r,a){function i(n,r){e(t,n,function(t){return this._invoke(n,r,t)})}n?o?o(t,n,{value:r,enumerable:!a,configurable:!a,writable:!a}):t[n]=r:(i("next",0),i("throw",1),i("return",2))},e(t,n,r,a)}function n(t,e,n,r,a,o,i){try{var c=t[o](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,a)}function r(t){return function(){var e=this,r=arguments;return new Promise(function(a,o){var i=t.apply(e,r);function c(t){n(i,a,o,c,u,"next",t)}function u(t){n(i,a,o,c,u,"throw",t)}c(void 0)})}}System.register(["./utils-lib-legacy.js?v=1756369731","./index-legacy103.js?v=1756369731","./base-lib-legacy.js?v=1756369731","./column-legacy.js?v=1756369731","./site-legacy.js?v=1756369731","./validator-legacy.js?v=1756369731","./useStore-legacy4.js?v=1756369731"],function(e,n){"use strict";var a,o,i,c,u,s,l,p,f,y,m,h,_,d,v,g,w,x,b,k,j,q,U,T,P,L,E,z,N,O,$,A,C,R,I,S,D,B,G,F,W,M,X;return{setters:[function(t){a=t.K,o=t.l,i=t.L,c=t.o,u=t.at,s=t.bV,l=t.b,p=t.aM,f=t.fj,y=t.a7,m=t.W},function(t){h=t._},function(t){_=t.r,d=t.k,v=t.g,g=t.e,w=t.B,x=t.F,b=t.aQ,k=t.c,j=t.q,q=t.v,U=t.A,T=t.x},function(t){P=t.u,L=t.a,E=t.c,z=t.g},function(t){N=t.getProxyUrlData,O=t.editProxyUrlDataRemark,$=t.delProxyUrlData,A=t.editProxyUrlInfo,C=t.setProxyUrlCustom,R=t.delProxyUrlReplace,I=t.addProxyUrlReplace,S=t.proxyUrlCache,D=t.proxyUrlCompress,B=t.proxyUrlAddLimit,G=t.addProxyUrlData,F=t.proxyUrlBatchDelLimit,W=t.proxyUrlDelLimit},function(t){M=t.f},function(t){X=t.u}],execute:function(){var H,K=l(),Q=X().siteInfo,V=_({}),Z=_(!1),J=[{content:"支持添加多个不同目录的代理"},{content:"如添加后访问异常请尝试清理浏览器缓存"}],Y=function(){var e=r(t().m(function e(){var n;return t().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,a({request:N({site_name:Q.value.name}),data:{data:Array}});case 1:if(n=t.v,Array.isArray(n.data)){t.n=2;break}return t.a(2,{data:[],total:0});case 2:return t.a(2,{data:n.data,total:n.data.length});case 3:return t.p=3,t.v,t.a(2,{data:[],total:0})}},e,null,[[0,3]])}));return function(){return e.apply(this,arguments)}}(),tt=function(){o({isAsync:!0,title:"添加URL代理",area:60,btn:"确认",component:function(){return i(function(){return n.import("./add-url-proxy-legacy2.js?v=1756369731")},void 0,n.meta.url)}})},et=function(){var e=r(t().m(function e(n,r){return t().w(function(t){for(;;)switch(t.n){case 0:a({loading:"正在修改URL代理备注，请稍后...",request:O({site_name:Q.value.name,proxy_path:n.proxy_path,remark:r}),message:!0});case 1:return t.a(2)}},e)}));return function(t,n){return e.apply(this,arguments)}}(),nt=function(t){V.value=t,o({isAsync:!0,title:"URL代理设置【".concat(t.proxy_path,"】"),area:[76,60],component:function(){return i(function(){return n.import("./setting-legacy3.js?v=1756369731")},void 0,n.meta.url)},compData:{row:t}})},rt=function(){var e=r(t().m(function e(n){return t().w(function(t){for(;;)switch(t.n){case 0:if("/"!==n.proxy_path){t.n=1;break}return K.error("根目录不能删除"),t.a(2);case 1:return t.n=2,c({title:"删除反向代理【".concat(n.proxy_path,"】"),width:"35rem",icon:"warning-filled",content:"您真的要删除反向代理【".concat(n.proxy_path,"】吗？")});case 2:return t.n=3,a({loading:"正在删除，请稍后...",request:$({site_name:Q.value.name,proxy_path:n.proxy_path}),message:!0});case 3:t.v.status&&(Z.value=!0);case 4:return t.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),at=(e("e",[{content:"目标：可以填写你需要代理的站点，目标如果选URL地址则必须为可正常访问的URL，如果选UNIX则必须是套接字文件"},{content:"http地址示例：http://127.0.0.1:15700"},{content:"unix地址示例：/tmp/panel.sock"},{content:function(){return g("span",null,[w("发送域名：将域名添加到请求头传递到后端服务器，默认为目标URL域名，若设置不当可能导致代理无法正常访问，例如："),g("br",null,null),w("http://192.168.100.20:19888，则发送域名保持$http_host即可"),g("br",null,null),w("http://www.bt.cn，则发送域名应当改为www.bt.cn"),g("br",null,null),w("上面例子仅为常见情况，请以实际为准")])}}]),e("t",[{label:"URL地址",value:"http"},{label:"UNIX地址",value:"unix"}]),e("F",function(){M({type:"file",path:pt.proxysite||"/www",change:function(t){pt.proxysite=t}})}),e("u",d({targetType:"http",sitename:"",cachetime:1,proxysite:"http://",todomain:"$http_host",path:"",ps:"",websocket:!1}))),ot=(e("p",_(!1)),e("f",_(!1)),e("d",_(!1))),it=e("b",_()),ct=(e("c",d({proxyname:[{required:!0,message:"请输入代理名称",trigger:"blur"},{validator:function(t,e,n){e.length<3?n(new Error("代理名称必须大于3个字符串")):e.match(/^[a-zA-Z0-9_.-]+$/g)?n():n(new Error("代理名称不能包含特殊字符"))}}],proxysite:[{required:!0,message:"请输入目标地址",trigger:"blur"},{validator:function(t,e,n){if(e)if("unix"!==at.targetType){var r=e.replace(/^http[s]?:\/\//,"");r=r.replace(/(:|\?|\/|\\)(.*)$/,""),/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/.test(r)?at.todomain="$http_host":at.todomain=r,n()}else n();else n(new Error("http"===at.targetType?"目标地址不能为空":"请选择sock文件"))}},{}],todomain:[{required:!0,message:"请输入发送域名",trigger:["blur","change"]}],path:[{required:!0,message:"请输入根目录",trigger:"blur"}]})),e("s",r(t().m(function e(){return t().w(function(t){for(;;)switch(t.n){case 0:at.proxysite="http"===at.targetType?"http://":"";case 1:return t.a(2)}},e)}))),e("h",function(t){if("unix"!==at.targetType){var e=t.replace(/^http[s]?:\/\//,"");e=e.replace(/(:|\?|\/|\\)(.*)$/,""),at.todomain=e}else at.todomain="$http_host"}),e("E",function(t){if("unix"!==pt.targetType){var e=t.replace(/^http[s]?:\/\//,"");e=e.replace(/(:|\?|\/|\\)(.*)$/,""),pt.todomain=e}else pt.todomain="$http_host"}),e("a",function(){M({type:"file",path:at.proxysite,change:function(t){at.proxysite=t}})}),e("o",r(t().m(function e(){var n,r,o,i,c,u,s;return t().w(function(t){for(;;)switch(t.n){case 0:return n=at.path,r=at.proxysite,o=at.todomain,i=at.targetType,c=at.ps,u={site_name:Q.value.name,proxy_path:n,proxy_pass:r,proxy_host:o,proxy_type:i,remark:c},t.n=1,it.value.validate();case 1:return t.n=2,a({loading:ot,request:G(u),message:!0});case 2:return(s=t.v).status&&(Z.value=!0),t.a(2,s.status)}},e)}))),e("g",_("proxy"))),ut=e("m",_({proxy_type:"",proxy_path:"",proxy_pass:"",proxy_host:"$http_host",ip_limit:{},basic_auth:{},proxy_cache:{},gzip:{},sub_filter:{},websocket:{},proxy_log:{},custom_config:[],proxy_conf:"",remark:"",template_proxy_conf:""})),st=e("i",r(t().m(function e(){var n,r;return t().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,N({site_name:Q.value.name,proxy_path:V.value.proxy_path});case 1:if((n=t.v).status){t.n=2;break}return K.error(n.msg),t.a(2);case 2:ut.value=n.data.data,t.n=4;break;case 3:t.p=3,r=t.v,u(r);case 4:return t.a(2)}},e,null,[[0,3]])}))),lt=e("G",_(!1)),pt=e("D",d({targetType:"http",sitename:"",proxysite:"",todomain:"$http_host",path:"",ps:"",websocket:!1,proxy_connect_timeout:30,proxy_send_timeout:30,proxy_read_timeout:30})),ft=(e("I",v(function(){return{proxysite:[{required:!0,message:"http"!==pt.targetType?"请选择sock文件":"请输入目标url",trigger:"blur",validator:function(t,e,n){e?n():n(new Error("http"!==pt.targetType?"请选择sock文件":"请输入目标url"))}}],todomain:[{required:!0,message:"请输入发送域名",trigger:["blur","change"]}],proxy_connect_timeout:[{required:!0,message:"请输入连接超时时间",trigger:["blur","change"],validator:function(t,e,n){e?isNaN(Number(e))?n(new Error("请输入数字")):n():n(new Error("连接超时时间不能为空"))}}],proxy_send_timeout:[{required:!0,message:"请输入后端请求超时时间",trigger:["blur","change"],validator:function(t,e,n){e?isNaN(Number(e))?n(new Error("请输入数字")):n():n(new Error("后端请求超时时间不能为空"))}}],proxy_read_timeout:[{required:!0,message:"请输入代理响应超时时间",trigger:["blur","change"],validator:function(t,e,n){e?isNaN(Number(e))?n(new Error("请输入数字")):n():n(new Error("代理响应超时时间不能为空"))}}]}})),e("C",function(t){var e=t.proxy_type,n=t.proxy_pass,r=t.proxy_host,a=t.proxy_path,o=t.remark,i=t.global_websocket,c=t.websocket,u=t.timeout;pt.targetType=e,pt.proxysite=n,pt.todomain=r,pt.path=a,pt.ps=o,lt.value=i,pt.websocket=null==c?void 0:c.websocket_status,pt.proxy_connect_timeout=null==u?void 0:u.proxy_connect_timeout,pt.proxy_send_timeout=null==u?void 0:u.proxy_send_timeout,pt.proxy_read_timeout=null==u?void 0:u.proxy_read_timeout}),e("H",r(t().m(function e(){var n,r,o,i,c,u,s,l,p,f,y;return t().w(function(t){for(;;)switch(t.n){case 0:return n=pt.path,r=pt.proxysite,o=pt.todomain,i=pt.targetType,c=pt.ps,u=pt.websocket,s=pt.proxy_connect_timeout,l=pt.proxy_send_timeout,p=pt.proxy_read_timeout,f={site_name:Q.value.name,proxy_path:n,proxy_pass:r,proxy_host:o,proxy_type:i,remark:c,websocket:u?1:0,proxy_connect_timeout:s,proxy_send_timeout:l,proxy_read_timeout:p},t.n=1,it.value.validate();case 1:return t.n=2,a({loading:ot,request:A(f),message:!0});case 2:return y=t.v,t.a(2,y.status)}},e)}))),e("L",'一行一条配置，请以;结尾，例如：\nproxy_set_header Cookie "cookie_name=cookie_value";\nallow 192.168.1.0/24;\naccess_log /www/wwwlogs/xxx.log;'),e("K",d({config:""}))),yt=(e("N",[{content:"注意：一行一条配置，请以;结尾"},{content:function(){return g(x,null,[w("案例："),g("br",null,null),w("重定向请求：return 301 /new-page;"),g("br",null,null),w("重写URL：rewrite ^/blog/(.*)$ /$1 break;"),g("br",null,null),w("文件上传限制：client_max_body_size 10M;"),g("br",null,null),w("处理特定http方法："),g("br",null,null),w("limit_except POST "),"{",w(" "),g("br",null,null),w("    allow 192.168.1.0/24;"),g("br",null,null),w("    deny all;"),g("br",null,null),"}",g("br",null,null),w("限制请求速率：limit_rate 100k;"),g("br",null,null)])}},{content:"保存配置前请核对配置是否正确，错误的配置可能会导致反向代理无法正常访问"}]),e("M",function(){var e=r(t().m(function e(n){var r,a;return t().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,r={site_name:Q.value.name,proxy_path:ut.value.proxy_path,custom_conf:ft.config},t.n=1,C(r);case 1:return a=t.v,K.request(a),t.a(2,a.status);case 2:t.p=2,t.v;case 3:return t.a(2)}},e,null,[[0,2]])}));return function(t){return e.apply(this,arguments)}}()),e("J",function(){ft.config=ut.value.custom_conf||""}),e("P",d({subfilter:[]}))),mt=(e("R",[{content:"规则解释如下"},{content:"g：替换所有匹配到的关键字"},{content:"i：不区分大小写"},{content:"o：只替换匹配到的第一个"},{content:"r：使用正则表达式"}]),function(){var e=r(t().m(function e(n){return t().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,a({loading:"正在删除，请稍后...",request:R({site_name:Q.value.name,proxy_path:ut.value.proxy_path,oldstr:n.oldstr,newstr:n.newstr}),message:!0});case 1:st();case 2:return t.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}()),ht=function(t){var e=[t.oldstr,t.newstr],n=t.sub_type.replace(/g/g,""),r=n.includes("i")?"不区分大小写":"",a=n.includes("o")?"只替换第一个":"",o=n.includes("r")?"使用正则表达式":"";switch(n.length){case 0:return"效果:将全部'".concat(e[0],"'替换为'").concat(e[1],"''");case 1:return"效果:将".concat(a?"":"全部","'").concat(e[0],"'替换为'").concat(e[1],"'，匹配时").concat(r||a||o);case 2:return"效果:将".concat(a?"":"全部","'").concat(e[0],"'替换为'").concat(e[1],"'，匹配时").concat(r||a||o,"并且").concat(o||a||r);case 3:return"效果:将'".concat(e[0],"'替换为'").concat(e[1],"'，匹配时").concat(r,"、").concat(a,"并且").concat(o)}},_t=(e("S",function(t){try{yt.subfilter=t.sub_filter_str}catch(e){}}),e("Q",_([{label:"原关键词",prop:"oldstr"},{label:"替换词",prop:"newstr"},{label:"规则",prop:"mode",width:50,render:function(t){return g(b,{class:"item",effect:"dark","open-delay":500,content:ht(t),placement:"top-start"},{default:function(){return[g("div",{class:"flex items-center"},["".concat(t.sub_type)])]}})}},P([{title:"删除",onClick:function(t){mt(t)}}])])),e("O",function(){Object.assign(_t,{oldstr:"",newstr:""}),dt.value=[],vt.value="默认效果:将全部'http://www.bt.cn'替换为'https://www.bt.cn'",o({isAsync:!0,title:"添加内容替换【".concat(ut.value.proxy_path,"】"),area:60,btn:"确认",component:function(){return i(function(){return n.import("./setting-replace-add-legacy2.js?v=1756369731")},void 0,n.meta.url)},compData:{proxy_path:ut.value.proxy_path,subs_filter:ut.value.subs_filter}})}),e("k",d({oldstr:"",newstr:""}))),dt=(e("w",{oldstr:[s({message:"请输入原关键词"})]}),e("r",_([]))),vt=e("q",_("默认效果:将全部'http://www.bt.cn'替换为'https://www.bt.cn'")),gt=e("v",_()),wt=(e("l",function(t){wt(dt.value)}),e("n",function(t){var e=t.includes("i")?"不区分大小写":"",n=t.includes("o")?"只替换第一个":"",r=t.includes("r")?"使用正则表达式":"";switch(t.length){case 0:vt.value="默认效果:将全部".concat(_t.oldstr,"替换为").concat(_t.newstr);break;case 1:vt.value="效果:将".concat(n?"":"全部").concat(_t.oldstr,"替换为").concat(_t.newstr,"，匹配时").concat(e||n||r);break;case 2:vt.value="效果:将".concat(n?"":"全部").concat(_t.oldstr,"替换为").concat(_t.newstr,"，匹配时").concat(e||n||r,"并且").concat(r||n||e);break;case 3:vt.value="效果:将".concat(_t.oldstr,"替换为").concat(_t.newstr,"，匹配时").concat(e,"、").concat(n,"并且").concat(r)}})),xt=(e("j",r(t().m(function e(){var n,r;return t().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,gt.value.validate();case 1:return n={site_name:Q.value.name,oldstr:_t.oldstr,newstr:_t.newstr,proxy_path:ut.value.proxy_path,sub_type:dt.value.length?dt.value.join(""):"g"},t.n=2,a({loading:ot,request:I(n),message:!0});case 2:return(r=t.v).status&&st(),t.a(2,r.status)}},e)}))),e("X",_())),bt=e("T",d({status:!1,time:"",unit:"m"})),kt=(e("V",[{label:"分钟",value:"m"},{label:"小时",value:"h"},{label:"天",value:"d"}]),e("Y",[{content:"缓存是一种用于加速网站性能和提高用户体验的技术"},{content:"开启后资源会被缓存，如果影响网站访问请关闭"},{content:"缓存键由主机名、URI 和请求参数组成"},{content:"默认忽略的响应头有：Set-Cookie|Cache-Control|expires|X-Accel-Expires"},{content:"默认缓存的静态资源有：css|js|jpg|jpeg|gif|png|webp|woff|eot|ttf|svg|ico|css.map|js.map"}]),e("U",function(t){kt()}),e("W",r(t().m(function e(){var n,r;return t().w(function(t){for(;;)switch(t.n){case 0:return n={site_name:Q.value.name,proxy_path:ut.value.proxy_path,cache_status:bt.status?1:0,expires:"".concat(bt.time).concat(bt.unit)},t.n=1,xt.value.validate();case 1:return t.n=2,a({loading:ot,request:S(n),message:!0});case 2:return r=t.v,t.a(2,r.status)}},e)})))),jt=e("a2",_()),qt=e("_",d({status:!1,type:"",level:1,minLength:"",unit:"m"})),Ut=(e("a0",[{label:"k",value:"k"},{label:"m",value:"m"}]),e("a4",[{content:"用于对 HTTP 响应的内容进行压缩，以减少数据传输量，提高网站性能和加载速度"},{content:"压缩级别1-9，例如：1为压缩速度最快，但压缩率较低；9为压缩速度最慢，但压缩率最高，建议默认"},{content:"如果开启gzip后影响网站正常访问，请关闭此功能 和请求参数组成"}]),e("a3",{type:[{required:!0,message:"请输入压缩类型",trigger:["blur","change"]}],minLength:[{required:!0,message:"请输入正确的压缩最小长度",trigger:"blur",validator:function(t,e,n){e?isNaN(Number(e))?n(new Error("请输入数字")):Number(e)<1?n(new Error("请输入正确数字")):n():n(new Error("压缩最小长度不能为空"))}},{}]}),e("Z",function(t){qt.status=t.gzip_status,qt.type=t.gzip_types,qt.level=t.gzip_comp_level;var e="",n="m";t.gzip_min_length&&t.gzip_min_length.length>1&&(e=t.gzip_min_length.slice(0,-1),n=t.gzip_min_length.slice(-1)),qt.minLength=e,qt.unit=n}),e("$",function(t){Ut()}),e("a1",r(t().m(function e(){var n,r;return t().w(function(t){for(;;)switch(t.n){case 0:return n={site_name:Q.value.name,proxy_path:ut.value.proxy_path,gzip_status:qt.status?1:0,gzip_min_length:"".concat(qt.minLength).concat(qt.unit),gzip_comp_level:qt.level,gzip_types:qt.type},t.n=1,jt.value.validate();case 1:return t.n=2,a({loading:ot,request:D(n),message:!0});case 2:return r=t.v,t.a(2,r.status)}},e)})))),Tt=(e("a6",_()),e("a5",_()),e("a9",d({loading:!1,type:"black",white:[],black:[]}))),Pt=e("ac",function(t){Tt.white=t.ip_white.map(function(t){return{ip:t,type:"white"}}),Tt.black=t.ip_black.map(function(t){return{ip:t,type:"black"}})}),Lt=function(){var e=r(t().m(function e(n){var r,o,i;return t().w(function(t){for(;;)switch(t.n){case 0:return r=!!Array.isArray(n),t.n=1,c({title:"".concat(r?"批量删除":"删除").concat("white"===Tt.type?"白":"黑","名单"),content:"".concat(r?"批量删除选中的ip，是否继续操作？":"删除".concat("white"===Tt.type?"白":"黑","名单【").concat(n.ip,"】，是否继续操作？"))});case 1:return o={site_name:Q.value.name,proxy_path:ut.value.proxy_path},r?(o.ips=n.map(function(t){return t.ip}).join("\n"),o.ip_type=Tt.type):(o.ip=n.ip,o.ip_type=n.type),i=r?F:W,t.n=2,a({loading:"正在删除，请稍后...",request:i(o),message:!0});case 2:t.v.status&&st();case 3:return t.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),Et=(e("aa",_([L({key:"ip"}),{label:"IP",prop:"ip",minWidth:120},P([{title:"删除",onClick:function(t){Lt(t)}}])])),e("ab",[{label:"删除IP",value:"delete",event:(H=r(t().m(function e(n,a,o,i,c){var u;return t().w(function(e){for(;;)switch(e.n){case 0:return u=function(){var e=r(t().m(function e(n){return t().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,W({site_name:Q.value.name,proxy_path:ut.value.proxy_path,ip:n.ip,ip_type:"ipBlackList"===ct.value?"black":"white"});case 1:return t.a(2,t.v)}},e)}));return function(t){return e.apply(this,arguments)}}(),e.n=1,n({title:"批量删除",content:"批量删除选中的ip，是否继续操作？",column:[{prop:"ip",label:"IP"},E()],onConfirm:function(){var e=r(t().m(function e(){return t().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,a(u);case 1:return st(),t.a(2,!1)}},e)}));return function(){return e.apply(this,arguments)}}()});case 1:return e.a(2)}},e)})),function(t,e,n,r,a){return H.apply(this,arguments)})}]),e("a8",function(){Tt.type="ipBlackList"===ct.value?"black":"white",Pt(ut.value.ip_limit)}),e("a7",function(){Et.value.address="",o({isAsync:!0,title:"添加IP".concat("ipBlackList"===ct.value?"黑":"白","名单【").concat(ut.value.proxy_path,"】"),area:40,btn:"确认",component:function(){return i(function(){return n.import("./setting-ip-add-legacy2.js?v=1756369731")},void 0,n.meta.url)},compData:{name:Q.value.name,proxy_path:ut.value.proxy_path,listType:Tt.type,refreshEvent:function(){st()}}})}),e("y",_({types:Tt.type,address:""}))),zt=e("A",_()),Nt=(e("z",[{content:"一行一条配置，多个IP请换行"}]),e("B",{address:[{validator:function(t,e,n){e.length>0?n():n(new Error("请输入IP地址"))},trigger:["blur","change"]}]}),e("x",r(t().m(function e(){var n,r,o;return t().w(function(t){for(;;)switch(t.n){case 0:return n=Et.value.address,r={site_name:Q.value.name,proxy_path:ut.value.proxy_path,ip_type:"ipBlackList"===ct.value?"black":"white",ips:n},t.n=1,zt.value.validate();case 1:return t.n=2,a({loading:ot,request:B(r),message:!0});case 2:return(o=t.v).status&&st(),t.a(2,o.status)}},e)}))),k({__name:"index",setup:function(t){var e=p({options:[{label:"添加URL代理",type:"button",active:!0,onClick:tt}]}).BtOperation,n=f({request:Y,columns:[{label:"代理目录",prop:"proxy_path",minWidth:120},{label:"目标",prop:"proxy_pass",minWidth:200},z({request:et,prop:"remark"}),P([{onClick:nt,title:"设置"},{onClick:rt,title:"删除"}])],extension:[y(Z)]}).BtTable;return function(t,r){var a=h,o=m;return j(),q("div",null,[g(a,{class:"h-[59rem]"},{"header-left":U(function(){return[g(T(e))]}),content:U(function(){return[g(T(n),{"max-height":560})]}),_:1}),g(o,{class:"mt-[2rem] ml-[1.6rem]",options:T(J)},null,8,["options"])])}}})),Ot=Object.freeze(Object.defineProperty({__proto__:null,default:Nt},Symbol.toStringTag,{value:"Module"}));e("ad",Ot)}}})}();
