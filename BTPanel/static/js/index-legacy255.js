!function(){function n(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,r,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",u=o.toStringTag||"@@toStringTag";function c(n,o,i,u){var c=o&&o.prototype instanceof f?o:f,s=Object.create(c.prototype);return t(s,"_invoke",function(n,t,o){var i,u,c,f=0,s=o||[],l=!1,p={p:0,n:0,v:e,a:y,f:y.bind(e,4),d:function(n,t){return i=n,u=0,c=e,p.n=t,a}};function y(n,t){for(u=n,c=t,r=0;!l&&f&&!o&&r<s.length;r++){var o,i=s[r],y=p.p,v=i[2];n>3?(o=v===t)&&(c=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=e):i[0]<=y&&((o=n<2&&y<i[1])?(u=0,p.v=t,p.n=i[1]):y<v&&(o=n<3||i[0]>t||t>v)&&(i[4]=n,i[5]=t,p.n=v,u=0))}if(o||n>1)return a;throw l=!0,t}return function(o,s,v){if(f>1)throw TypeError("Generator is already running");for(l&&1===s&&y(s,v),u=s,c=v;(r=u<2?e:c)||!l;){i||(u?u<3?(u>1&&(p.n=-1),y(u,c)):p.n=c:p.v=c);try{if(f=2,i){if(u||(o="next"),r=i[o]){if(!(r=r.call(i,c)))throw TypeError("iterator result is not an object");if(!r.done)return r;c=r.value,u<2&&(u=0)}else 1===u&&(r=i.return)&&r.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=e}else if((r=(l=p.n<0)?c:n.call(t,p))!==a)break}catch(r){i=e,u=1,c=r}finally{f=1}}return{value:r,done:l}}}(n,i,u),!0),s}var a={};function f(){}function s(){}function l(){}r=Object.getPrototypeOf;var p=[][i]?r(r([][i]())):(t(r={},i,function(){return this}),r),y=l.prototype=f.prototype=Object.create(p);function v(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,l):(n.__proto__=l,t(n,u,"GeneratorFunction")),n.prototype=Object.create(y),n}return s.prototype=l,t(y,"constructor",l),t(l,"constructor",s),s.displayName="GeneratorFunction",t(l,u,"GeneratorFunction"),t(y),t(y,u,"Generator"),t(y,i,function(){return this}),t(y,"toString",function(){return"[object Generator]"}),(n=function(){return{w:c,m:v}})()}function t(n,e,r,o){var i=Object.defineProperty;try{i({},"",{})}catch(n){i=0}t=function(n,e,r,o){function u(e,r){t(n,e,function(n){return this._invoke(e,r,n)})}e?i?i(n,e,{value:r,enumerable:!o,configurable:!o,writable:!o}):n[e]=r:(u("next",0),u("throw",1),u("return",2))},t(n,e,r,o)}function e(n,t,e,r,o,i,u){try{var c=n[i](u),a=c.value}catch(n){return void e(n)}c.done?t(a):Promise.resolve(a).then(r,o)}function r(n){return function(){var t=this,r=arguments;return new Promise(function(o,i){var u=n.apply(t,r);function c(n){e(u,o,i,c,a,"next",n)}function a(n){e(u,o,i,c,a,"throw",n)}c(void 0)})}}System.register(["./index-legacy103.js?v=1756369731","./utils-lib-legacy.js?v=1756369731","./files-legacy.js?v=1756369731","./base-lib-legacy.js?v=1756369731","./column-legacy.js?v=1756369731","./__commonjsHelpers__-legacy.js?v=1756369731","./index-legacy104.js?v=1756369731"],function(t,e){"use strict";var o,i,u,c,a,f,s,l,p,y,v,h,d,m,b,g,w,j,_,x,O;return{setters:[function(n){o=n._},function(n){i=n.o,u=n.K,c=n.k,a=n.a0,f=n.b},function(n){s=n.$,l=n.ap,p=n.aq},function(n){y=n.c,v=n.r,h=n.aB,d=n.p,m=n.q,b=n.v,g=n.e,w=n.A,j=n.x},function(n){_=n.a,x=n.u,O=n.c},null,null],execute:function(){var e={class:"pb-[1rem] px-16px"};t("default",y({__name:"index",setup:function(t){var y,k=f(),T=v(),G=v([]),P=function(){var t=r(n().m(function t(e){return n().w(function(n){for(;;)switch(n.n){case 0:return n.n=1,i({title:"恢复历史文件",content:"是否恢复历史文件 ".concat(e.time,"?恢复历史文件后，当前文件内容将会被替换！")});case 1:u({loading:"正在恢复历史文件，请稍后...",request:s({filename:e.filepath,history:e.historys[0]}),success:function(n){n.status?(k.success("恢复成功"),C()):k.error("恢复失败")}});case 2:return n.a(2)}},t)}));return function(n){return t.apply(this,arguments)}}(),S=function(){var t=r(n().m(function t(e){return n().w(function(n){for(;;)switch(n.n){case 0:return n.n=1,u({loading:"正在删除历史文件，请稍后...",request:l({id:e.id}),message:!0,success:C});case 1:return n.a(2)}},t)}));return function(n){return t.apply(this,arguments)}}(),q=[_(),{label:"操作时间",prop:"time",width:180,render:function(n){return h("span",{},n.time)}},{label:"文件路径",prop:"filepath",render:function(n){return h("span",{},n.filepath)}},x([{title:"恢复",isHide:function(n){var t;return 0===(null===(t=n.historys)||void 0===t?void 0:t.length)},onClick:P},{title:"删除",onClick:S}])],C=function(){var t=r(n().m(function t(){return n().w(function(n){for(;;)switch(n.n){case 0:return n.n=1,u({request:p(),data:[Array,G]});case 1:return n.a(2)}},t)}));return function(){return t.apply(this,arguments)}}(),E=[{label:"删除",value:"delete",event:(y=r(n().m(function t(e,o,i,u,c){var a;return n().w(function(t){for(;;)switch(t.n){case 0:return a=function(){var t=r(n().m(function t(e){return n().w(function(n){for(;;)switch(n.n){case 0:return n.n=1,l({id:e.id});case 1:return n.a(2,n.v)}},t)}));return function(n){return t.apply(this,arguments)}}(),t.n=1,e({title:"批量删除",content:"批量删除选中，是否继续操作？",column:[{prop:"filepath",label:"文件路径"},O()],onConfirm:function(){var t=r(n().m(function t(){return n().w(function(n){for(;;)switch(n.n){case 0:return n.n=1,o(a);case 1:return C(),n.a(2,!1)}},t)}));return function(){return t.apply(this,arguments)}}()});case 1:return t.a(2)}},t)})),function(n,t,e,r,o){return y.apply(this,arguments)})}];return d(function(){C()}),function(n,t){var r=c,i=a,u=o;return m(),b("div",e,[g(u,null,{content:w(function(){return[g(r,{ref_key:"fileTableRef",ref:T,height:"40rem",column:q,description:"列表为空",data:j(G)},null,8,["data"])]}),"footer-left":w(function(){return[g(i,{"table-ref":j(T),options:j(E)},null,8,["table-ref","options"])]}),_:1})])}}}))}}})}();
