import{c as e,ay as a,r as s,k as l,q as t,v as o,x as r,M as u,A as m,e as d,B as i,y as n,C as p,D as _,a9 as c,T as v,a7 as y}from"./base-lib.js?v=1756369731";import{K as f,gM as h,ag as b,b as j}from"./utils-lib.js?v=1756369731";import{_ as g}from"./container-terminal-dialog.vue_vue_type_script_setup_true_lang.js?v=1756369731";import"./__commonjsHelpers__.js?v=1756369731";import"./index.vue_vue_type_style_index_0_lang.js?v=1756369731";import"./add-host.vue_vue_type_script_setup_true_lang.js?v=1756369731";import"./form-item.js?v=1756369731";import"./index104.js?v=1756369731";import"./useController2.js?v=1756369731";const x={class:"h-[60rem]"},V={key:1,class:"h-full"},k=e({__name:"container-shell",props:{compData:{default:()=>({})}},setup(e){const k=j(),C=a("currentConDetail"),D=s(),S=l({type:"bash",sudo:!1}),q=s(!1),B=s({cmd:""}),M=async()=>{"running"===C.value.State.Status?D.value.validate(async e=>{e&&f({request:h({id:C.value.Id,shell:S.type,sudo_i:S.sudo?1:0}),data:{msg:[String,e=>{B.value={cmd:e},q.value=!0}]}})}):k.error("容器未运行")};return(e,a)=>{const s=b,l=_,f=c,h=v,j=y;return t(),o("div",x,[r(q)?p("",!0):(t(),u(j,{key:0,ref_key:"shellFormRef",ref:D,class:"p-[2rem]",model:r(S)},{default:m(()=>[d(f,{label:"请选择shell"},{default:m(()=>[d(s,{modelValue:r(S).type,"onUpdate:modelValue":a[0]||(a[0]=e=>r(S).type=e),options:[{label:"Bash",value:"bash"},{label:"sh",value:"sh"}],class:"!w-[20rem]"},null,8,["modelValue"]),d(l,{class:"!ml-[2rem]",type:"primary",onClick:M},{default:m(()=>[...a[2]||(a[2]=[i("开启终端",-1)])]),_:1})]),_:1}),d(f,{label:" "},{default:m(()=>[d(h,{modelValue:r(S).sudo,"onUpdate:modelValue":a[1]||(a[1]=e=>r(S).sudo=e)},{default:m(()=>[...a[3]||(a[3]=[n("div",{class:"flex items-center"},"使用root权限执行",-1)])]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])),r(q)?(t(),o("div",V,[d(g,{"comp-data":r(B)},null,8,["comp-data"])])):p("",!0)])}}});export{k as default};
