!function(){function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(e){if("string"==typeof e)return t(e,n);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function n(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",l=a.toStringTag||"@@toStringTag";function u(n,a,o,l){var u=a&&a.prototype instanceof c?a:c,s=Object.create(u.prototype);return r(s,"_invoke",function(n,r,a){var o,l,u,c=0,s=a||[],d=!1,f={p:0,n:0,v:e,a:v,f:v.bind(e,4),d:function(t,n){return o=t,l=0,u=e,f.n=n,i}};function v(n,r){for(l=n,u=r,t=0;!d&&c&&!a&&t<s.length;t++){var a,o=s[t],v=f.p,p=o[2];n>3?(a=p===r)&&(u=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=v&&((a=n<2&&v<o[1])?(l=0,f.v=r,f.n=o[1]):v<p&&(a=n<3||o[0]>r||r>p)&&(o[4]=n,o[5]=r,f.n=p,l=0))}if(a||n>1)return i;throw d=!0,r}return function(a,s,p){if(c>1)throw TypeError("Generator is already running");for(d&&1===s&&v(s,p),l=s,u=p;(t=l<2?e:u)||!d;){o||(l?l<3?(l>1&&(f.n=-1),v(l,u)):f.n=u:f.v=u);try{if(c=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(u=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=f.n<0)?u:n.call(r,f))!==i)break}catch(t){o=e,l=1,u=t}finally{c=1}}return{value:t,done:d}}}(n,o,l),!0),s}var i={};function c(){}function s(){}function d(){}t=Object.getPrototypeOf;var f=[][o]?t(t([][o]())):(r(t={},o,function(){return this}),t),v=d.prototype=c.prototype=Object.create(f);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,r(e,l,"GeneratorFunction")),e.prototype=Object.create(v),e}return s.prototype=d,r(v,"constructor",d),r(d,"constructor",s),s.displayName="GeneratorFunction",r(d,l,"GeneratorFunction"),r(v),r(v,l,"Generator"),r(v,o,function(){return this}),r(v,"toString",function(){return"[object Generator]"}),(n=function(){return{w:u,m:p}})()}function r(e,t,n,a){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}r=function(e,t,n,a){function l(t,n){r(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!a,configurable:!a,writable:!a}):e[t]=n:(l("next",0),l("throw",1),l("return",2))},r(e,t,n,a)}function a(e,t,n,r,a,o,l){try{var u=e[o](l),i=u.value}catch(e){return void n(e)}u.done?t(i):Promise.resolve(i).then(r,a)}function o(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var l=e.apply(t,n);function u(e){a(l,r,o,u,i,"next",e)}function i(e){a(l,r,o,u,i,"throw",e)}u(void 0)})}}System.register(["./utils-lib-legacy.js?v=1756369731","./index-legacy104.js?v=1756369731","./index-legacy100.js?v=1756369731","./base-lib-legacy.js?v=1756369731","./useController-legacy.js?v=1756369731","./__commonjsHelpers__-legacy.js?v=1756369731"],function(t,r){"use strict";var a,l,u,i,c,s,d,f,v,p,m,h,w,b,y,g,_,k,x,j,I,O,D,C,S,V,z,E,q,A,G,T,P,B,U;return{setters:[function(e){a=e.u,l=e.bn,u=e.bo,i=e.bp,c=e.q,s=e.bg,d=e.j,f=e.c,v=e.H,p=e.bq,m=e.b,h=e.e},function(e){w=e._},function(e){b=e.B},function(e){y=e.c,g=e.r,_=e.k,k=e.p,x=e.aD,j=e.G,I=e.q,O=e.M,D=e.A,C=e.e,S=e.y,V=e.z,z=e.J,E=e.H,q=e.x,A=e.O,G=e.v,T=e.B,P=e.C,B=e.I},function(e){U=e.b},null],execute:function(){var r={class:"flex !justify-center !w-full items-center"},M={class:"text-[2rem] text-dark inline-block mr-2 font-bold my-[10px]"},F={key:0,class:"absolute el-form-item__error"},H={class:"flex justify-end items-center mt-6 text-[1.2rem]"},K=y({__name:"index",props:{compData:{default:function(){return{title:"",btn:"",isDialog:!0}}}},setup:function(t,h){var y=h.expose,K=a().getGlobalInfo,$=m(),J=t,L=g(!1),N=g(null),R=g(null),Q=g(!1),W=g("获取验证码"),X=_({username:"",password:"",code:""}),Y=_({username:!1,password:!1,code:!1}),Z=g(""),ee=g(),te=g(),ne=g(!1),re=g({username:[{validator:function(e,t,n){var r;if(null!==(r=J.compData)&&void 0!==r&&r.title&&(ne.value=!1),/^1[3456789]\d{9}$/.test(t))n();else if(""===t)n(new Error("请输入宝塔官网账号"));else{var a;if(null!==(a=J.compData)&&void 0!==a&&a.title)return ne.value=!0,void n(new Error(" "));n(new Error("请输入正确的手机号"))}},trigger:["blur","change"]}],password:[{required:!0,message:"请输入密码",trigger:["blur","change"]},{validator:function(e,t,n){t.length>=8?n():n(new Error("请输入至少8位密码"))},trigger:["blur","change"]}],token:[{required:!1,message:"请输入验证码",trigger:["blur","change"]},{validator:function(e,t,n){Q.value||n(),6===t.length?n():n(new Error("请输入6位验证码，不可为空"))},trigger:["blur","change"]}]}),ae=function(){te.value.validate(function(){var e=o(n().m(function e(t){return n().w(function(e){for(;;)switch(e.n){case 0:t&&U({isCheck:Q,userInfo:X,userToken:Z});case 1:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}())},oe=function(e){ee.value&&clearInterval(ee.value);var t=function(){if(--e<=0)return clearInterval(ee.value),W.value="获取验证码",void(Y.code=!1);W.value="重新获取验证码(".concat(e,"s)")};t(),ee.value=setInterval(t,1e3),Y.code=!0},le=function(){var e=o(n().m(function e(){var t;return n().w(function(e){for(;;)switch(e.n){case 0:if(X.username&&X.password){e.n=1;break}return $.error("请先输入手机号和密码"),e.a(2);case 1:return Y.username=!0,Y.password=!0,oe(60),e.n=2,l({username:X.username,token:Z.value});case 2:t=e.v,$.request(t);case 3:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),ue=function(){var e=o(n().m(function e(){var t,r,a;return n().w(function(e){for(;;)switch(e.p=e.n){case 0:return L.value=!0,e.p=1,e.n=2,u();case 2:(t=e.v).status&&(r=window.screen.width/2-300,a=window.screen.height/2-250,N.value=window.open(t.msg.replace("login.html","new/wxBindPanel.html"),"_blank","width=".concat(600,",height=").concat(500,",left=").concat(r,",top=").concat(a)),window.addEventListener("message",function(e){var t;switch(e.data.type){case"wechat_auth_error":$.error(e.data.msg);try{var n;null===(n=N.value)||void 0===n||n.close(),ue()}catch(l){}break;case"wechat_auth_complete":var r=e.data.data,a=r.code,o=r.state;null===(t=N.value)||void 0===t||t.close(),ie(a,o)}})),e.n=4;break;case 3:e.p=3,e.v;case 4:return e.p=4,L.value=!1,e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}));return function(){return e.apply(this,arguments)}}(),ie=function(){var e=o(n().m(function e(t,r){var a,o,l;return n().w(function(e){for(;;)switch(e.p=e.n){case 0:return a=$.load("正在配置面板用户信息，请稍后..."),e.p=1,e.n=2,i({code:t,state:r});case 2:(o=e.v).status?($.success("微信绑定成功"),window.location.href=(null===(l=J.compData)||void 0===l?void 0:l.redirect)||"/"):$.error(o.msg||"微信绑定失败"),e.n=4;break;case 3:e.p=3,e.v,$.error("微信绑定失败");case 4:return e.p=4,a.close(),e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}));return function(t,n){return e.apply(this,arguments)}}();return y({onOpen:function(){c(te.value.$el,"username")},onCancel:function(){te.value.clearValidate(),R.value&&(clearInterval(R.value),R.value=null),N.value&&!N.value.closed&&(N.value.close(),N.value=null)}}),k(function(){var e;null===(e=te.value)||void 0===e||e.clearValidate(),K()}),x(function(){ee.value&&(clearInterval(ee.value),ee.value=null),R.value&&(clearInterval(R.value),R.value=null),N.value&&!N.value.closed&&(N.value.close(),N.value=null)}),function(t,n){var a,o=b,l=s,u=d,i=f,c=v,m=w,h=p,y=j("focus");return I(),O(h,{ref_key:"bindUserRef",ref:te,size:"default",rules:q(re),model:q(X),class:z(["bind-user-info",{"bind-form":!(null===(a=t.compData)||void 0===a||!a.title)}])},{default:D(function(){var a;return[C(l,{class:"!mb-5 flex !justify-center"},{default:D(function(){var a;return[S("div",r,[S("h3",M,V((null===(a=t.compData)||void 0===a?void 0:a.title)||"切换宝塔官网账号"),1),C(o,{placement:"top-start",width:"200",trigger:"hover",content:"宝塔面板许多功能都依赖于官网，绑定仅限于为您提供更好的面板服务体验，不涉及您服务器任何敏感信息，请放心使用。",class:"inline-block relative -top-1.5"},{reference:D(function(){return e(n[7]||(n[7]=[S("a",{class:"bt-ico-ask align-middle inline-block",href:"javascript:;"}," ? ",-1)]))}),_:1})])]}),_:1}),(I(),O(l,{key:1,prop:"username",class:z({"!mb-[3rem]":!(null===(a=t.compData)||void 0===a||!a.title)})},{default:D(function(){var r;return[E(C(u,{modelValue:q(X).username,"onUpdate:modelValue":n[0]||(n[0]=function(e){return q(X).username=e}),clearable:"",required:"",name:"username",placeholder:"宝塔官网账号",class:"h-[4rem] leading-[4rem] w-full",disabled:q(Y).username,onKeyup:n[1]||(n[1]=A(function(e){return ae()},["enter","native"]))},null,8,["modelValue","disabled"]),[[y]]),null!==(r=t.compData)&&void 0!==r&&r.title&&q(ne)?(I(),G("span",F,[n[9]||(n[9]=S("span",null,"请使用宝塔官网登录账号进行登录，若未有账号，可进行",-1)),C(i,{class:"!text-[12px]",href:"https://www.bt.cn/register"},{default:D(function(){return e(n[8]||(n[8]=[T(" 免费注册 ",-1)]))}),_:1})])):P("",!0)]}),_:1},8,["class"])),(I(),O(l,{key:2,prop:"password"},{default:D(function(){return[C(u,{modelValue:q(X).password,"onUpdate:modelValue":n[2]||(n[2]=function(e){return q(X).password=e}),clearable:"",required:"",type:"password",name:"password",placeholder:"密码",class:"h-[4rem] leading-[4rem] w-full","show-password":!0,disabled:q(Y).password,onKeyup:n[3]||(n[3]=A(function(e){return ae()},["enter","native"]))},null,8,["modelValue","disabled"])]}),_:1})),E(C(l,{prop:"code"},{default:D(function(){return[C(u,{modelValue:q(X).code,"onUpdate:modelValue":n[4]||(n[4]=function(e){return q(X).code=e}),clearable:"",placeholder:"验证码",type:"text",onKeyup:n[5]||(n[5]=A(function(e){return ae()},["enter","native"]))},{append:D(function(){return[C(c,{class:"relative top-0 rounded-none rounded-r-[3px] w-full !h-[auto]",size:"large",type:"primary",disabled:q(Y).code,plain:"",onClick:le},{default:D(function(){return[T(V(q(W)),1)]}),_:1},8,["disabled"])]}),_:1},8,["modelValue"])]}),_:1},512),[[B,q(Q)]]),C(c,{type:"primary",class:"w-[100%] mt-[1.2rem]",size:"large",onClick:n[6]||(n[6]=function(e){return ae()})},{default:D(function(){var e,n;return[T(V((null===(e=t.compData)||void 0===e?void 0:e.btn)||(null!==(n=t.compData)&&void 0!==n&&n.title?"绑定账号":"切换账号")),1)]}),_:1}),S("div",H,[C(i,{href:"https://www.bt.cn/register"},{default:D(function(){return e(n[10]||(n[10]=[T("注册账号",-1)]))}),_:1}),C(m),C(i,{href:"https://www.bt.cn/login.html?page=reset"},{default:D(function(){return e(n[11]||(n[11]=[T("忘记密码",-1)]))}),_:1}),C(m),C(i,{href:"https://www.bt.cn/bbs"},{default:D(function(){return e(n[12]||(n[12]=[T("问题反馈",-1)]))}),_:1})]),n[14]||(n[14]=S("div",{class:"divider-container"},[S("div",{class:"divider-line"}),S("div",{class:"divider-text"},"第三方登录"),S("div",{class:"divider-line"})],-1)),S("div",{class:"flex justify-center items-center mt-2"},[S("div",{class:"wechat-login-container",onClick:ue},e(n[13]||(n[13]=[S("div",{class:"wechat-icon-circle"},[S("i",{class:"wechat-icon"},[S("svg",{t:"1749545795651",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"9096",width:"20",height:"20"},[S("path",{d:"M391.95 175.27c-159.03 0-289.29 108.4-289.29 246.04 0 79.45 43.35 144.67 115.74 195.2l-28.93 87.05 101.12-50.74c36.19 7.19 65.22 14.54 101.33 14.54 9.08 0 18.09-0.45 27.01-1.16-5.64-19.37-8.92-39.61-8.92-60.62 0-126.32 108.54-228.89 245.97-228.89 9.37 0 18.64 0.69 27.86 1.71C658.8 261.87 534.2 175.27 391.95 175.27z m-93.97 195.31c-21.67 0-43.56-14.52-43.56-36.21 0-21.77 21.89-36.09 43.56-36.09s36.12 14.33 36.12 36.09c-0.02 21.69-14.45 36.21-36.12 36.21z m202.46 0c-21.69 0-43.45-14.52-43.45-36.21 0-21.77 21.76-36.09 43.45-36.09 21.79 0 36.21 14.33 36.21 36.09 0 21.69-14.43 36.21-36.21 36.21z m0 0",fill:"#3CB034","p-id":"9097"}),S("path",{d:"M920.01 602.12c0-115.59-115.74-209.86-245.72-209.86-137.64 0-246.05 94.27-246.05 209.86 0 115.84 108.41 209.92 246.05 209.92 28.81 0 57.85-7.25 86.79-14.51l79.36 43.44-21.76-72.3c58.06-43.53 101.33-101.3 101.33-166.55z m-325.5-36.14c-14.41 0-28.95-14.31-28.95-28.92 0-14.44 14.54-28.96 28.95-28.96 21.89 0 36.21 14.52 36.21 28.96 0 14.61-14.33 28.92-36.21 28.92z m159.13 0c-14.31 0-28.74-14.31-28.74-28.92 0-14.44 14.43-28.96 28.74-28.96 21.67 0 36.21 14.52 36.21 28.96 0 14.61-14.54 28.92-36.21 28.92z m0 0",fill:"#3CB034","p-id":"9098"})])])],-1)])))])]}),_:1},8,["rules","model","class"])}}});t("default",h(K,[["__scopeId","data-v-9d4fa5bb"]]))}}})}();
