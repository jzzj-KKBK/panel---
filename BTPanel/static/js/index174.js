import{K as e,bT as a,W as l,j as s,al as t}from"./utils-lib.js?v=1756369731";import{r as n,c as o,p as i,G as r,q as c,M as m,A as u,e as p,y as d,H as f,x as v,P as _,B as b,v as g,F as x,a_ as y,C,aA as S,D as k,al as V,aQ as h,a9 as w,a7 as j}from"./base-lib.js?v=1756369731";import{B as L}from"./index140.js?v=1756369731";import{S as G,_ as T}from"./index.vue_vue_type_script_setup_true_lang7.js?v=1756369731";import{a1 as q,a2 as z,V as U}from"./validator.js?v=1756369731";import"./__commonjsHelpers__.js?v=1756369731";import"./ace.js?v=1756369731";import"./column.js?v=1756369731";import"./index104.js?v=1756369731";const H=G(),P=n({}),M={enableGzipCompress:"为静态和动态响应启用GZIP/Brotli压缩.",gzipCompressLevel:"指定应用于动态内容的GZIP压缩级别。范围从1（最低）到9（最高）.",maxSSLConnections:"指定服务器将接受的最大并发SSL连接数<br/>\t\t\t#因为总的并发SSL和非SSL连接不能超过“Max connections”指定的限制,<br>\t\t\t#允许的并发SSL连接的实际数目必须低于此限制.",maxConnections:"指定服务器可以接受的最大并发连接数.<br/>\t\t\t#这包括纯TCP连接和SSL连接",connTimeout:"指定在处理一个请求期间允许的最大连接空闲时间（秒）.",maxKeepAliveReq:"指定可通过保持活动（持久）会话服务的最大请求数."},A=n("service"),B=n(""),D=n(!1),E=n(!1),F=n([]),I=[{content:"此处为openlitespeed主配置文件,若您不了解配置规则,请勿随意修改"}],K=async()=>{await e({loading:E,request:q(),success:e=>{F.value=[],Object.keys(e.data).forEach(a=>{F.value.push({name:a,ps:M[a],value:"enableGzipCompress"===a?"1"===e.data[a][0]:e.data[a][0]})})}})},O=async()=>{await e({loading:"正在保存中，请稍后...",request:a({path:"/usr/local/lsws/conf/httpd_config.conf",data:B.value,encoding:"utf-8"}),message:!0})},Z=async()=>{let a={};F.value.forEach(e=>{a[e.name]="enableGzipCompress"===e.name?e.value?"1":"0":e.value}),await e({loading:"正在保存中，请稍后...",request:z({array:JSON.stringify(a)}),message:!0})},J=({props:{name:a}})=>{switch(a){case"service":N();break;case"config":(async()=>{await e({loading:D,request:U({path:"/usr/local/lsws/conf/httpd_config.conf"}),data:{data:[String,B]}})})();break;case"setting":K()}},N=e=>{A.value="service",e&&(P.value=e),H.init(P.value)},Q={class:"my-[12px]"},R={class:"flex flex-col text-[#666] performance"},W={class:"flex items-center"},X={key:1},Y=["innerHTML"],$=o({__name:"index",props:{compData:{default:{}}},setup(e){const a=e;return i(()=>{N(a.compData)}),(e,a)=>{const n=S,o=L,i=k,G=l,q=s,z=V,U=h,H=w,P=j,M=t,N=r("bt-loading");return c(),m(M,{modelValue:v(A),"onUpdate:modelValue":a[1]||(a[1]=e=>_(A)?A.value=e:null),type:"left-bg-card",onTabClick:v(J)},{default:u(()=>[p(n,{label:"服务",name:"service"},{default:u(()=>[p(T)]),_:1}),p(n,{label:"配置文件",name:"config"},{default:u(()=>[a[3]||(a[3]=d("span",{class:"my-[4px] text-[#666]"},"提示：Ctrl+F 搜索关键字，Ctrl+S 保存，Ctrl+H 查找替换",-1)),d("div",Q,[f(p(o,{class:"!h-[36rem] !w-[50rem]",modelValue:v(B),"onUpdate:modelValue":a[0]||(a[0]=e=>_(B)?B.value=e:null),id:"configContent",filePath:"/usr/local/lsws/conf/httpd_config.conf"},null,8,["modelValue"]),[[N,v(D)]])]),p(i,{type:"primary",onClick:v(O)},{default:u(()=>[...a[2]||(a[2]=[b("保存",-1)])]),_:1},8,["onClick"]),p(G,{options:v(I),class:"ml-[20px] mt-[20px]"},null,8,["options"])]),_:1}),f((c(),m(n,{label:"参数设置",name:"setting"},{default:u(()=>[d("div",R,[p(P,{"label-position":"right","label-width":"186px"},{default:u(()=>[(c(!0),g(x,null,y(v(F),(e,l)=>(c(),m(H,{label:e.name,key:l},{default:u(()=>[d("div",W,["enableGzipCompress"!==e.name?(c(),m(q,{key:0,modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,width:"16rem"},null,8,["modelValue","onUpdate:modelValue"])):(c(),g("div",X,[p(z,{modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,class:"w-[16rem]"},null,8,["modelValue","onUpdate:modelValue"])])),"rollingSize"!=e.name?(c(),m(U,{key:2,class:"item",effect:"dark",placement:"top-start"},{content:u(()=>[d("div",{innerHTML:e.ps},null,8,Y)]),default:u(()=>[a[4]||(a[4]=d("i",{class:"svgtofont-el-warning text-orange text-[1.6rem] ml-[8px]"},null,-1))]),_:2},1024)):C("",!0)])]),_:2},1032,["label"]))),128)),p(H,{label:" "},{default:u(()=>[p(i,{type:"primary",onClick:v(K)},{default:u(()=>[...a[5]||(a[5]=[b("刷新",-1)])]),_:1},8,["onClick"]),p(i,{type:"primary",onClick:v(Z)},{default:u(()=>[...a[6]||(a[6]=[b("保存",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1})])]),_:1})),[[N,v(E)]])]),_:1},8,["modelValue","onTabClick"])}}});export{$ as default};
