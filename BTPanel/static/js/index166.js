import{c as e,p as s,a4 as a,q as l,v as t,y as i,e as n,A as r,x as p,B as c,z as o,J as d,C as u,M as m,F as y,a_ as f,bs as x,aj as k,D as v,aQ as g,aC as _,ai as b,f as h,aA as I}from"./base-lib.js?v=1756369731";import{d as C,c as j,e as M}from"./utils-lib.js?v=1756369731";import{_ as w}from"./index104.js?v=1756369731";import{I as U,B as L,C as S}from"./validator.js?v=1756369731";import"./__commonjsHelpers__.js?v=1756369731";import"./column.js?v=1756369731";const T=""+new URL("../images/soft_ico/icon_plug.svg",import.meta.url).href,V={class:"install-plugin"},H={class:"header"},A={class:"header-left"},D={class:"header-title"},q={class:"text-[16px] font-bold flex items-center truncate h-[20px]"},z={class:"ml-[4px]"},B={class:"mt-[8px]"},P={class:"mr-[10px] text-[#888] text-[13px] flex items-center"},R={class:"header-right"},F={class:"illustrate"},J=["innerHTML"],Q=["innerHTML"],$={class:"tips-list"},E={key:0,class:"!text-danger"},G={key:1,class:"!text-danger"},K={key:3},N=M(e({__name:"index",props:{compData:{default:()=>({type:"i",name:"",pluginInfo:void 0})}},emits:["close","refresh"],setup(e,{emit:M}){const N=U(),{init:O,cutPluginActiveInfo:W,install:X,repair:Y,update:Z,pluginPictureSrc:ee,$reset:se}=N,{pluginModuleInfo:ae,pluginActiveInfo:le,versionModel:te,pluginImgSrc:ie,pluginTitle:ne,pluginLabel:re,compData:pe}=L(),ce=e;return s(async()=>{pe.value=ce.compData,await O()}),a(()=>{se()}),(e,s)=>{const a=C,M=x,U=w,L=j,N=b,O=k,se=v,pe=g,ce=h,oe=I,de=_;return l(),t("div",V,[i("div",H,[i("div",A,[n(a,{src:p(ie),class:"h-[35px] w-[40px] mr-[10px]",type:"img"},{error:r(()=>[...s[7]||(s[7]=[i("img",{src:T,class:"w-[4rem] h-[4rem]",alt:""},null,-1)])]),_:1},8,["src"]),i("div",D,[i("span",q,[c(o(p(ne))+" ",1),i("span",z,o(p(ae).currentVersion||p(le).fullVersion),1),!p(ae).isSystem&&13!==p(ae).type&&p(re).length>0?(l(),t("span",{key:0,class:d(p(re)[2]+" border-[1px] p-[4px] font-500 text-[14px] ml-[5px]")},o(p(re)[1]),3)):u("",!0)]),i("span",B,[i("span",P,[p(ae).isUpdate?(l(),m(M,{key:0,"is-dot":"",class:"item"},{default:r(()=>[c(" 最新版本："+o("".concat(p(le).fullVersion)),1)]),_:1})):u("",!0),p(ae).isSystem||!p(ae).isInstall&&!p(ae).isUpdate?u("",!0):(l(),t(y,{key:1},[p(ae).isInstall?u("",!0):(l(),m(U,{key:0})),i("span",null,"更新时间："+o(p(le).updateTime),1),n(U),n(L,{class:"font-normal",onClick:s[0]||(s[0]=e=>p(S)(p(ae)))},{default:r(()=>[...s[8]||(s[8]=[i("span",{class:"text-[13px]"},"更新日志",-1)])]),_:1})],64))])])])]),i("div",R,[p(te).version.length>1&&p(ae).isInstall?(l(),t(y,{key:0},[n(O,{modelValue:p(te).value,"onUpdate:modelValue":s[1]||(s[1]=e=>p(te).value=e),class:"!w-[140px]",onChange:p(W)},{default:r(()=>[(l(!0),t(y,null,f(p(te).version,e=>(l(),m(N,{key:e.key,value:e.key,disabled:e.disabled,label:e.title},null,8,["value","disabled","label"]))),128))]),_:1},8,["modelValue","onChange"]),n(U,{class:"mx-[1rem]"})],64)):u("",!0),p(ae).isSystem&&p(ae).isInstall?(l(),t(y,{key:1},[p(ae).compile?(l(),m(pe,{key:0,placement:"top",enterable:!0},{content:r(()=>[...s[9]||(s[9]=[i("span",null,"安装时间较长，性能最大化，适合生产环境",-1)])]),default:r(()=>[n(se,{class:"mr-[4px]",onClick:s[2]||(s[2]=e=>p(X)(0))},{default:r(()=>[...s[10]||(s[10]=[c("编译安装",-1)])]),_:1})]),_:1})):u("",!0),n(pe,{placement:"top",enterable:!1},{content:r(()=>[...s[11]||(s[11]=[i("span",null,"安装时间极快，版本与稳定性略低于编译安装，适合快速部署测试",-1)])]),default:r(()=>[n(se,{type:"primary",onClick:s[3]||(s[3]=e=>p(X)(1))},{default:r(()=>[c(o(p(ae).compile?"极速安装":"立即安装"),1)]),_:1})]),_:1})],64)):p(ae).isInstall?(l(),m(se,{key:2,type:"primary",onClick:s[4]||(s[4]=e=>p(X)())},{default:r(()=>[...s[12]||(s[12]=[c(" 立即安装 ",-1)])]),_:1})):u("",!0),p(ae).isRepair?(l(),m(se,{key:3,type:"primary",onClick:s[5]||(s[5]=e=>p(Y)())},{default:r(()=>[...s[13]||(s[13]=[c(" 立即修复 ",-1)])]),_:1})):u("",!0),p(ae).isUpdate?(l(),m(se,{key:4,type:"primary",onClick:s[6]||(s[6]=e=>p(Z)())},{default:r(()=>[...s[14]||(s[14]=[c(" 立即更新 ",-1)])]),_:1})):u("",!0)])]),p(ae).introduction.length?(l(),m(de,{key:0,"tab-position":"left",class:"carousel"},{default:r(()=>[(l(!0),t(y,null,f(p(ae).introduction,(e,s)=>(l(),m(oe,{label:e[0],lazy:"",key:s},{default:r(()=>[n(ce,{src:p(ee)(s),class:"max-h-[100%] object-scale-down","preview-src-list":[p(ee)(s)]},null,8,["src","preview-src-list"])]),_:2},1032,["label"]))),128))]),_:1})):u("",!0),i("div",F,[p(ae).isUpdate?(l(),t(y,{key:1},[s[16]||(s[16]=i("div",{class:"title"},"更新日志：",-1)),i("div",{class:"content",innerHTML:p(le).updateMsg},null,8,Q)],64)):(l(),t(y,{key:0},[s[15]||(s[15]=i("div",{class:"title"},"插件说明：",-1)),i("div",{class:"content",innerHTML:p(ae).ps},null,8,J)],64))]),i("ul",$,[s[19]||(s[19]=i("li",null,"如果已存在此插件，文件将被替换！",-1)),p(ae).isSystem?u("",!0):(l(),t("li",E,"请手动安装插件扩展和依赖环境，如果未安装，将无法正常使用该插件")),p(ae).isMysqlUpdate?(l(),t("li",G,"更新数据库有风险,建议在更新前,先备份您的数据库！")):u("",!0),p(ae).isUpdate?(l(),t(y,{key:2},[s[17]||(s[17]=i("li",{class:"!text-danger"},"更新过程可能会导致服务中断,请须知",-1)),s[18]||(s[18]=i("li",{class:"!text-danger"},"建议您在服务器负载闲时进行软件更新",-1))],64)):(l(),t("li",K,"安装过程可能需要几分钟时间，请耐心等候!"))])])}}}),[["__scopeId","data-v-aa38cfd5"]]);export{N as default};
