!function(){function e(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var t,r,o="function"==typeof Symbol?Symbol:{},l=o.iterator||"@@iterator",a=o.toStringTag||"@@toStringTag";function u(e,o,l,a){var u=o&&o.prototype instanceof c?o:c,s=Object.create(u.prototype);return n(s,"_invoke",function(e,n,o){var l,a,u,c=0,s=o||[],m=!1,d={p:0,n:0,v:t,a:f,f:f.bind(t,4),d:function(e,n){return l=e,a=0,u=t,d.n=n,i}};function f(e,n){for(a=e,u=n,r=0;!m&&c&&!o&&r<s.length;r++){var o,l=s[r],f=d.p,p=l[2];e>3?(o=p===n)&&(u=l[(a=l[4])?5:(a=3,3)],l[4]=l[5]=t):l[0]<=f&&((o=e<2&&f<l[1])?(a=0,d.v=n,d.n=l[1]):f<p&&(o=e<3||l[0]>n||n>p)&&(l[4]=e,l[5]=n,d.n=p,a=0))}if(o||e>1)return i;throw m=!0,n}return function(o,s,p){if(c>1)throw TypeError("Generator is already running");for(m&&1===s&&f(s,p),a=s,u=p;(r=a<2?t:u)||!m;){l||(a?a<3?(a>1&&(d.n=-1),f(a,u)):d.n=u:d.v=u);try{if(c=2,l){if(a||(o="next"),r=l[o]){if(!(r=r.call(l,u)))throw TypeError("iterator result is not an object");if(!r.done)return r;u=r.value,a<2&&(a=0)}else 1===a&&(r=l.return)&&r.call(l),a<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),a=1);l=t}else if((r=(m=d.n<0)?u:e.call(n,d))!==i)break}catch(r){l=t,a=1,u=r}finally{c=1}}return{value:r,done:m}}}(e,l,a),!0),s}var i={};function c(){}function s(){}function m(){}r=Object.getPrototypeOf;var d=[][l]?r(r([][l]())):(n(r={},l,function(){return this}),r),f=m.prototype=c.prototype=Object.create(d);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,n(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e}return s.prototype=m,n(f,"constructor",m),n(m,"constructor",s),s.displayName="GeneratorFunction",n(m,a,"GeneratorFunction"),n(f),n(f,a,"Generator"),n(f,l,function(){return this}),n(f,"toString",function(){return"[object Generator]"}),(e=function(){return{w:u,m:p}})()}function n(e,t,r,o){var l=Object.defineProperty;try{l({},"",{})}catch(e){l=0}n=function(e,t,r,o){function a(t,r){n(e,t,function(e){return this._invoke(t,r,e)})}t?l?l(e,t,{value:r,enumerable:!o,configurable:!o,writable:!o}):e[t]=r:(a("next",0),a("throw",1),a("return",2))},n(e,t,r,o)}function t(e,n,t,r,o,l,a){try{var u=e[l](a),i=u.value}catch(e){return void t(e)}u.done?n(i):Promise.resolve(i).then(r,o)}function r(e){return function(){var n=this,r=arguments;return new Promise(function(o,l){var a=e.apply(n,r);function u(e){t(a,o,l,u,i,"next",e)}function i(e){t(a,o,l,u,i,"throw",e)}u(void 0)})}}function o(e){return function(e){if(Array.isArray(e))return u(e)}(e)||i(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e){return function(e){if(Array.isArray(e))return e}(e)||i(e)||a(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,n){if(e){if("string"==typeof e)return u(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?u(e,n):void 0}}function u(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function i(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}System.register(["./base-lib-legacy.js?v=1756369731","./index-legacy101.js?v=1756369731","./utils-lib-legacy.js?v=1756369731","./useMethods-legacy.js?v=1756369731","./validator-legacy.js?v=1756369731","./__commonjsHelpers__-legacy.js?v=1756369731","./column-legacy.js?v=1756369731","./index-legacy104.js?v=1756369731"],function(n,t){"use strict";var a,u,i,c,s,m,d,f,p,v,y,_,b,g,h,w,V,k,x,j,U,C,M,S,N,O,P,E,q,A,I,T,H,L,D,G,R,B,F,z,J,Q,K,$,W,X,Y,Z,ee,ne,te,re,oe,le,ae,ue,ie,ce,se,me,de,fe;return{setters:[function(e){a=e.c,u=e.ay,i=e.r,c=e.k,s=e.U,m=e.g,d=e.w,f=e.p,p=e.q,v=e.v,y=e.e,_=e.A,b=e.y,g=e.x,h=e.J,w=e.z,V=e.H,k=e.I,x=e.B,j=e.F,U=e.a_,C=e.M,M=e.C,S=e.Q,N=e.K,O=e.n,P=e.a9,E=e.c2,q=e.D,A=e.ag,I=e.aQ,T=e.af,H=e.ai,L=e.aj,D=e.T,G=e.ac,R=e.b2,B=e.S,F=e.a7},function(e){z=e._},function(e){J=e.ay,Q=e.u,K=e.v,$=e.bv,W=e.w,X=e.M,Y=e.bx,Z=e.o,ee=e.K,ne=e.gE,te=e.fi,re=e.gF,oe=e.c1,le=e.b_,ae=e.c4,ue=e.j,ie=e.$,ce=e.k,se=e.e},function(e){me=e.i,de=e.j},function(e){fe=e.f},null,null,null],execute:function(){var t={class:"pb-[0]"},pe=["title"],ve={class:"max-w-[25rem]"},ye={class:"text-[1.4rem] leading-[1.4] max-w-[25rem] truncate"},_e={class:"text-[1.2rem] leading-[1.2] text-[#ccc] mt-[1rem]"},be={class:"name"},ge={class:"my-[1rem] ml-[10rem]"},he={class:"ml-[1rem] text-[#20a53a] w-[16rem] select-none"},we={class:"pt-[0]"},Ve={class:"w-full"},ke={class:"flex items-center justify-between mb-[1.5rem]"},xe={class:"flex items-center text-[1.2rem]"},je={class:"ml-[1rem]"},Ue={class:"ml-[1rem]"},Ce={class:"flex items-center"},Me={class:"inline-flex ml-[1.2rem] flex items-center flex-nowrap"},Se={class:"unit"},Ne={class:"flex items-center"},Oe={class:"inline-flex ml-[1.2rem] flex items-center flex-nowrap"},Pe={class:"unit"},Ee={class:"flex items-center"},qe={class:"ml-[1.2rem] flex items-center"},Ae={class:"unit"},Ie={class:"ml-[1.2rem] flex items-center"},Te={class:"unit"},He=a({__name:"container-edit",props:{compData:{default:function(){return{}}},type:{default:"edit"}},emits:["close"],setup:function(n,a){var se=a.expose,He=a.emit,Le=u("popupClose"),De=J().refs,Ge=De.currentConDetail,Re=De.maxCPU,Be=De.maxMem,Fe=De.maxGpus,ze=De.isRefreshTableList,Je=n,Qe=He,Ke=Q().mainHeight,$e=!1,We=i(!1),Xe=i("edit"==Je.type||"edit"==Je.compData.type),Ye=[{label:"暴露端口",value:"port"},{label:"暴露所有",value:"all"}],Ze=i(!1),en=[{label:"本机目录",value:"dir"},{label:"挂载卷",value:"volume"}],nn=c({name:"",image:"",port:"port",portList:[],net:[],mountList:[],command:"",entrypoint:"",auto_remove:!1,console:[],privileged:!1,reSet:"always",mem_reservation:0,cpu_quota:0,labels:"",environment:"",mem_limit:0,remark:"",gpus:0}),tn=s([]),rn=m(function(){return Ke.value-240<620?Ke.value-240:620}),on=function(){var e,n,t,r,o,a,u,i,c,s,m,d,f=Je.compData.row;nn.name=f.name,nn.image=f.image,nn.remark=f.remark;var p=$(f.ports,"object",{});tn.value=[],null===(e=Object.entries(p))||void 0===e||e.forEach(function(e,n){if(e[1]){var t=l(e[0].split("/")),r=t[0],o=t.slice(1);tn.value.push({id:W(),server:e[1][0].HostPort,con:r,output:"0.0.0.0"===e[1][0].HostIp,protocol:o})}});var v=Object.entries((null===(n=Ge.value.NetworkSettings)||void 0===n?void 0:n.Networks)||{});v.length>0&&(nn.net=v.map(function(e,n){return{id:W(),network:e[0],ip4:e[1].IPAddress,ip6:e[1].GlobalIPv6Address}})),null===(t=Ge.value.Mounts)||void 0===t||t.forEach(function(e,n){nn.mountList.push({id:W(),Mtype:"dir",volume:"",local:e.Source,dir:e.Destination,auth:e.RW?"rw":"ro"})}),nn.auto_remove=null===(r=Ge.value)||void 0===r||null===(r=r.HostConfig)||void 0===r?void 0:r.AutoRemove,null!==(o=Ge.value)&&void 0!==o&&null!==(o=o.Config)&&void 0!==o&&o.Tty&&nn.console.push("-t"),null!==(a=Ge.value)&&void 0!==a&&null!==(a=a.Config)&&void 0!==a&&a.OpenStdin&&nn.console.push("-i"),nn.privileged=Ge.value.HostConfig.Privileged,nn.reSet=null===(u=Ge.value.HostConfig)||void 0===u?void 0:u.RestartPolicy.Name,nn.mem_reservation=(null===(i=Ge.value.HostConfig)||void 0===i?void 0:i.MemoryReservation)/1024/1024,nn.cpu_quota=(null===(c=Ge.value.HostConfig)||void 0===c?void 0:c.CpuQuota)/1e5,nn.mem_limit=(null===(s=Ge.value.HostConfig)||void 0===s?void 0:s.Memory)/1024/1024,nn.gpus=Ge.value.gpu_count,null===(m=Object.entries(Ge.value.Config.Labels))||void 0===m||m.forEach(function(e,n){nn.labels+="".concat(e[0],"=").concat(e[1],"\n")}),null===(d=Ge.value.Config.Env)||void 0===d||d.forEach(function(e,n){nn.environment+="".concat(e,"\n")}),nn.command=Ge.value.Config.Cmd.join("\n"),nn.entrypoint=Ge.value.Config.Entrypoint.join(" ")},ln=i(),an={name:[{required:!0,message:"请输入容器名",trigger:"blur"}],image:[{required:!0,message:"请选择镜像",trigger:["blur","change"]}]},un=function(){nn.net.push({id:W(),network:"",ip4:"",ip6:""})},cn=function(){tn.value=[].concat(o(tn.value),[{id:W(),server:"",con:"",protocol:["tcp"],output:!1}])},sn=s([]),mn=function(){nn.mountList.push({id:W(),Mtype:"volume",volume:"",local:"",dir:"",auth:"ro"})},dn=s([]),fn=null,pn="",vn=function(e){pn=e.value},yn=function(e,n){var t=function(){var t=dn.value,r=e===pn?t.sort(function(e,n){return e.value===pn&&n.value!==pn?-1:e.value!==pn&&n.value===pn?1:0}):t.filter(function(n){return n.value.includes(e)});n(r)};$e?fn=setInterval(function(){$e||(clearInterval(fn),t())},1e3):t()},_n=s([]),bn=[{key:"ro",title:"只读"},{key:"rw",title:"读写"}],gn=me({setPort:function(e,n,t){switch(t){case"server":n.server=e;break;case"con":n.con=e;break;case"protocol":n.protocol=e;break;case"output":n.output=e}},delPort:function(e){var n=tn.value.findIndex(function(n){return n.id===e.id});tn.value.splice(n,1),tn.value=o(tn.value)}}),hn=de({changeNet:function(e,n,t){switch(t){case"network":e.network=n,"bridge"!==n&&"none"!==n&&"host"!==n||(e.ip4="",e.ip6="");break;case"ip4":e.ip4=n;break;case"ip6":e.ip6=n}},delNet:function(e){var n=nn.net.findIndex(function(n){return n.id===e.id});nn.net.splice(n,1)},netOptions:sn}),wn=function(){var n=r(e().m(function n(){var t,r,o,l,a;return e().w(function(e){for(;;)switch(e.p=e.n){case 0:if(!We.value){e.n=1;break}return X.error("正在获取容器数据中，请稍后"),e.a(2);case 1:return e.n=2,ln.value.validate();case 2:if(e.p=2,t=kn(),r=xn(),o=Vn(),!Y(t)&&r&&o){e.n=3;break}return e.a(2,!1);case 3:return l={id:Je.compData.row.id,new_name:nn.name,new_image:nn.image,new_publish_all_ports:"all"==nn.port?"1":"0",new_ports:!0===t?"":t,network_info:!0===o?[]:o,new_command:nn.command,new_entrypoint:nn.entrypoint,new_auto_remove:nn.auto_remove?"1":"0",new_privileged:nn.privileged?"1":"0",new_restart_policy:{Name:nn.reSet},new_mem_reservation:"".concat(0==nn.mem_reservation?0:"".concat(nn.mem_reservation,"MB")),gpus:nn.gpus,new_cpu_quota:nn.cpu_quota,new_mem_limit:"".concat(0==nn.mem_limit?0:"".concat(nn.mem_limit,"MB")),new_labels:jn(nn.labels),new_environment:jn(nn.environment)},nn.auto_remove&&(l.new_restart_policy.Name=""),r&&Object.keys(r).length>0&&(l.new_volumes=r),"on-failure"==nn.reSet&&(l.new_restart_policy.MaximumRetryCount=5),nn.console.length>0&&(null===(a=nn.console)||void 0===a||a.forEach(function(e,n){switch(e){case"-t":l.new_tty=!0;break;case"-i":l.new_stdin_open=!0}})),e.n=4,Z({title:"编辑容器【".concat(Je.compData.row.name,"】"),width:"45rem",content:'【command、entrypoint，标签和环境变量】<span class="text-danger">配置错误可能导致编辑后的容器无法运行或者丢失</span>，请谨慎操作',isHtml:!0,type:"input",input:{content:"确认无误"}});case 4:return e.n=5,ee({request:ne({data:JSON.stringify(l)}),message:!0,loading:"正在编辑容器，请稍后...",success:function(e){e.status&&(setTimeout(function(){window.location.reload()},1e3),Le(),Qe("close"))}});case 5:e.n=7;break;case 6:e.p=6,e.v;case 7:return e.a(2)}},n,null,[[2,6]])}));return function(){return n.apply(this,arguments)}}(),Vn=function(){try{var e;if(0==nn.net.length)return!0;var n=[];return null===(e=nn.net)||void 0===e||e.forEach(function(e){if(""===e.network&&""!==e.ip4)return X.error("请选择网络"),!1;if(""!==e.ip4&&!te(e.ip4))throw X.error("请输入正确的IPV4地址,为空则自动生成"),Error("请输入正确的IPV4地址,为空则自动生成");n.push({network:e.network,ip_address:e.ip4,ip_addressv6:e.ip6})}),n.filter(function(e){return""!==e.network})}catch(t){return!1}},kn=function(){var e;if("all"==nn.port||0==tn.value.length)return!0;var n={};return null===(e=tn.value)||void 0===e||e.forEach(function(e){return""==e.server?(X.error("本地端口不能为空"),!1):isNaN(Number(e.server))||Number(e.server)<1||Number(e.server)>65535?(X.error("请输入正确的本地端口范围"),!1):""==e.con?(X.error("容器不能为空"),!1):isNaN(Number(e.con))||Number(e.con)<1||Number(e.con)>65535?(X.error("请输入正确的容器端口范围"),!1):0==e.protocol.length?(X.error("协议不能为空"),!1):void(n["".concat(e.con,"/").concat(e.protocol.join("/"))]=e.output?e.server:["127.0.0.1",e.server])}),n},xn=function(){var e;if(0==nn.mountList.length)return!0;var n={};return null===(e=nn.mountList)||void 0===e||e.forEach(function(e){"volume"==e.Mtype?""==e.volume&&(X.error("挂载卷不能为空"),n=!1):""==e.local&&(X.error("挂载目录不能为空"),n=!1),""==e.auth&&(X.error("权限不能为空"),n=!1),""==e.dir&&(X.error("容器目录不能为空"),n=!1),!1!==n&&(n["".concat("volume"==e.Mtype?e.volume:e.local)]={bind:e.dir,mode:e.auth})}),n},jn=function(e){var n=e.split("\n");return 1==n.length?e:n.join("\n")},Un=function(){var n=r(e().m(function n(){var t,r,o,l,a;return e().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.n=1,ln.value.validate();case 1:if(e.p=1,t=kn(),r=xn(),o=Vn(),!Y(t)&&r&&o){e.n=2;break}return e.a(2,!1);case 2:l={name:nn.name,image:nn.image,publish_all_ports:"all"==nn.port?"1":"0",ports:!0===t?"":t,network_info:!0===o?[]:o,command:nn.command,entrypoint:nn.entrypoint,auto_remove:nn.auto_remove?"1":"0",privileged:nn.privileged?"1":"0",restart_policy:{Name:nn.reSet},gpus:nn.gpus,mem_reservation:"".concat(0==nn.mem_reservation?0:"".concat(nn.mem_reservation,"MB")),cpu_quota:nn.cpu_quota,mem_limit:"".concat(0==nn.mem_limit?0:"".concat(nn.mem_limit,"MB")),labels:jn(nn.labels),environment:jn(nn.environment),remark:nn.remark},nn.auto_remove&&(l.restart_policy.Name=""),r&&Object.keys(r).length>0&&(l.volumes=r),"on-failure"==nn.reSet&&(l.restart_policy.MaximumRetryCount=5),nn.console.length>0&&(null===(a=nn.console)||void 0===a||a.forEach(function(e,n){switch(e){case"-t":l.tty="1";break;case"-i":l.stdin_open="1"}})),ee({request:re({data:JSON.stringify(l)}),message:!0,loading:"添加中...",success:function(e){e.status&&(ze.value=!0,Qe("close"))}}),e.n=4;break;case 3:e.p=3,e.v;case 4:return e.a(2)}},n,null,[[1,3]])}));return function(){return n.apply(this,arguments)}}(),Cn=function(){var n=r(e().m(function n(){return e().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,ee({request:oe(),data:Array,success:function(e){sn.value=e.map(function(e){return{label:e.name,value:e.name}})}});case 1:return e.n=2,ee({request:le(),data:Array,success:function(e){dn.value=e.map(function(e){return{value:e.name,id:e.id.replace("sha256:",""),size:e.size}})}});case 2:$e=!1,O(function(){var e;nn.image=Je.compData.image||(null===(e=Je.compData.row)||void 0===e?void 0:e.image)||"",ee({request:ae(),data:Array,success:function(e){_n.value=e.map(function(e){return{key:e.Name,title:e.Name}})}})});case 3:return e.a(2)}},n)}));return function(){return n.apply(this,arguments)}}();return d(function(){return nn.auto_remove},function(e){e&&(nn.reSet="no")}),f(r(e().m(function n(){return e().w(function(e){for(;;)switch(e.n){case 0:try{$e=!0,Xe.value&&(We.value=!0),Cn(),Fe.value>0&&(nn.gpus=Fe.value),Xe.value&&on()}catch(n){}finally{We.value=!1}case 1:return e.a(2)}},n)}))),se({onConfirm:Un}),function(e,n){var r=ue,l=P,a=E,u=ie,i=ce,c=q,s=A,m=I,d=T,f=H,O=L,J=z,Q=D,W=G,X=R,Y=B,Z=F;return p(),v("div",{class:"container-dialog",style:N("max-height:".concat(g(rn),"px"))},[y(Z,{ref_key:"cmdFormRef",ref:ln,model:g(nn),rules:an,"label-position":"right",onSubmit:n[21]||(n[21]=S(function(){},["prevent"]))},{default:_(function(){return[b("div",t,[y(l,{disabled:g(We),prop:"name",label:"容器名称"},{default:_(function(){return[y(r,{modelValue:g(nn).name,"onUpdate:modelValue":n[0]||(n[0]=function(e){return g(nn).name=e}),disabled:g(We),width:"40rem",placeholder:g(We)?"正在获取中...":"请输入容器名称"},null,8,["modelValue","disabled","placeholder"])]}),_:1},8,["disabled"]),y(l,{prop:"image",label:"镜像"},{default:_(function(){return[y(a,{"popper-class":"my-autocomplete",modelValue:g(nn).image,"onUpdate:modelValue":n[1]||(n[1]=function(e){return g(nn).image=e}),disabled:g(We),class:"!w-[40rem]","popper-append-to-body":!1,"fetch-suggestions":yn,onSelect:vn,placeholder:g(We)?"正在获取中...":"请输入或选择镜像"},{default:_(function(e){var n,t=e.item;return[b("div",{class:h(["flex items-center justify-between py-[1rem]",t.value===g(nn).image?" text-[#20a53a] hover:text-[#1d9534]":""]),title:"".concat(t.value)},[b("div",ve,[b("div",ye,w("".concat(t.value)),1),b("div",_e,w("".concat((null===(n=t.id)||void 0===n?void 0:n.slice(0,12))||"")),1)]),b("span",be,w(g(K)(t.size)),1)],10,pe)]}),_:1},8,["modelValue","disabled","placeholder"])]}),_:1}),n[23]||(n[23]=b("span",{class:"inline-block ml-[10rem]"},"*可直接输入docker.io中的本地未下载的镜像直接创建容器",-1)),y(l,{prop:"port",label:"端口",class:"!mt-[1.6rem]"},{default:_(function(){return[y(u,{type:"button",modelValue:g(nn).port,"onUpdate:modelValue":n[2]||(n[2]=function(e){return g(nn).port=e}),options:Ye},null,8,["modelValue"])]}),_:1}),V(b("div",ge,[V(y(i,{class:"mb-[10px]",ref:"Table","row-key":"id",column:g(gn),data:g(tn),description:"端口列表为空"},null,8,["column","data"]),[[k,g(tn).length>0]]),y(c,{title:"添加端口",onClick:cn},{default:_(function(){return o(n[22]||(n[22]=[x("添加",-1)]))}),_:1})],512),[[k,"port"==g(nn).port]])]),V(y(l,{prop:"path",class:"!mt-[.8rem]",label:"重启规则"},{default:_(function(){return[y(d,{modelValue:g(nn).reSet,"onUpdate:modelValue":n[3]||(n[3]=function(e){return g(nn).reSet=e})},{default:_(function(){return[y(s,{class:"!leading-[2.5rem]",value:"no"},{default:_(function(){return o(n[24]||(n[24]=[x("不重启",-1)]))}),_:1}),y(s,{class:"!leading-[2.5rem]",value:"on-failure"},{default:_(function(){return o(n[25]||(n[25]=[x("失败后重启（默认重启5次）",-1)]))}),_:1}),y(s,{class:"!leading-[2.5rem]",value:"unless-stopped"},{default:_(function(){return o(n[26]||(n[26]=[x("仅非正常退出的时候重启",-1)]))}),_:1}),y(s,{class:"!leading-[2.5rem]",value:"always"},{default:_(function(){return[n[28]||(n[28]=x("停止后马上重启 ",-1)),y(m,{class:"item",effect:"dark",content:"服务器重启时也会马上重启",placement:"top"},{default:_(function(){return o(n[27]||(n[27]=[b("i",{class:"svgtofont-el-info-filled text-warning"},null,-1)]))}),_:1})]}),_:1})]}),_:1},8,["modelValue"])]}),_:1},512),[[k,!g(nn).auto_remove]]),b("div",{class:"flex items-center cursor-pointer pl-[10rem] my-[2rem] px-[2rem]",onClick:n[4]||(n[4]=function(e){return Ze.value=!g(Ze)})},[b("i",{class:h(g(Ze)?"svgtofont-el-arrow-down":"svgtofont-el-arrow-right")},null,2),b("div",he,w("更多设置，".concat(g(Ze)?"点击收回":"点击查看")),1)]),V(b("div",we,[y(l,{label:"网络"},{default:_(function(){return[b("div",Ve,[V(y(i,{ref:"Table",column:g(hn),data:g(nn).net,description:"网络列表为空"},null,8,["column","data"]),[[k,g(nn).net.length>0]]),y(c,{class:h(g(nn).net.length>0?"!mt-[1rem]":""),onClick:un},{default:_(function(){return o(n[29]||(n[29]=[x("添加网络",-1)]))}),_:1},8,["class"])])]}),_:1}),y(l,{label:"挂载/映射"},{default:_(function(){return[(p(!0),v(j,null,U(g(nn).mountList,function(e){return V((p(),v("div",{class:"border-[#ececec] border rounded-[.2rem] mb-[1rem] p-[1.5rem] w-full",key:e.id},[b("div",ke,[y(u,{type:"button",modelValue:e.Mtype,"onUpdate:modelValue":function(n){return e.Mtype=n},options:en},null,8,["modelValue","onUpdate:modelValue"]),y(c,{class:"!ml-[4rem]",onClick:function(n){return t=e,r=nn.mountList.findIndex(function(e){return e.id===t.id}),void nn.mountList.splice(r,1);var t,r}},{default:_(function(){return o(n[30]||(n[30]=[b("i",{class:"svgtofont-el-delete"},null,-1)]))}),_:2},1032,["onClick"])]),b("div",xe,[V(b("div",null,[n[31]||(n[31]=b("div",{class:"px-[.2rem] py-[.4rem]"},"挂载卷",-1)),y(O,{modelValue:e.volume,"onUpdate:modelValue":function(n){return e.volume=n},class:"!w-[17rem]"},{default:_(function(){return[(p(!0),v(j,null,U(g(_n),function(e){return p(),C(f,{key:e.key,label:e.title,value:e.key},null,8,["label","value"])}),128))]}),_:2},1032,["modelValue","onUpdate:modelValue"])],512),[[k,"volume"==e.Mtype]]),V(b("div",null,[n[32]||(n[32]=b("div",{class:"px-[.2rem] py-[.4rem]"},"挂载目录",-1)),y(J,{modelValue:e.local,"onUpdate:modelValue":function(n){return e.local=n},class:"!w-[17rem]",icon:"icon-file_mode",onIconClick:function(n){return function(e){fe({type:"dir",change:function(n){e.local=n}})}(e)},onChangePassive:function(n){return function(e){var n=$(e.local,"string","");e.local=n.replace(/\s+/g,"")}(e)},placeholder:"请输入镜像路径"},null,8,["modelValue","onUpdate:modelValue","onIconClick","onChangePassive"])],512),[[k,"dir"==e.Mtype]]),b("div",je,[n[33]||(n[33]=b("div",{class:"px-[.2rem] py-[.4rem]"},"权限",-1)),y(O,{modelValue:e.auth,"onUpdate:modelValue":function(n){return e.auth=n},class:"!w-[17rem]"},{default:_(function(){return[(p(),v(j,null,U(bn,function(e){return y(f,{key:e.key,label:e.title,value:e.key},null,8,["label","value"])}),64))]}),_:2},1032,["modelValue","onUpdate:modelValue"])]),b("div",Ue,[n[34]||(n[34]=b("div",{class:"px-[.2rem] py-[.4rem]"},"容器目录",-1)),y(r,{width:"17rem",modelValue:e.dir,"onUpdate:modelValue":function(n){return e.dir=n}},null,8,["modelValue","onUpdate:modelValue"])])])])),[[k,g(nn).mountList.length>0]])}),128)),y(c,{onClick:mn},{default:_(function(){return o(n[35]||(n[35]=[x("添加",-1)]))}),_:1})]}),_:1}),y(l,{label:"command"},{default:_(function(){return[y(r,{type:"textarea",modelValue:g(nn).command,"onUpdate:modelValue":n[5]||(n[5]=function(e){return g(nn).command=e}),placeholder:"一行一个",width:"24rem"},null,8,["modelValue"])]}),_:1}),y(l,{label:"entrypoint"},{default:_(function(){return[y(r,{modelValue:g(nn).entrypoint,"onUpdate:modelValue":n[6]||(n[6]=function(e){return g(nn).entrypoint=e}),width:"24rem"},null,8,["modelValue"])]}),_:1}),y(l,{prop:"auto_remove",class:"!mt-[.8rem]",label:" "},{default:_(function(){return[y(Q,{modelValue:g(nn).auto_remove,"onUpdate:modelValue":n[7]||(n[7]=function(e){return g(nn).auto_remove=e})},{default:_(function(){return o(n[36]||(n[36]=[x("容器退出后自动删除容器",-1)]))}),_:1},8,["modelValue"])]}),_:1}),y(l,{prop:"console",class:"!mt-[.8rem]",label:"控制台交互"},{default:_(function(){return[y(W,{modelValue:g(nn).console,"onUpdate:modelValue":n[8]||(n[8]=function(e){return g(nn).console=e})},{default:_(function(){return[y(Q,{value:"-t"},{default:_(function(){return o(n[37]||(n[37]=[x("伪终端（-t）",-1)]))}),_:1}),y(Q,{value:"-i"},{default:_(function(){return o(n[38]||(n[38]=[x("标准输入（-i）",-1)]))}),_:1})]}),_:1},8,["modelValue"])]}),_:1}),y(l,{prop:"privileged",class:"!mt-[0rem]",label:" "},{default:_(function(){return[y(Q,{modelValue:g(nn).privileged,"onUpdate:modelValue":n[9]||(n[9]=function(e){return g(nn).privileged=e})},{default:_(function(){return o(n[39]||(n[39]=[x("特权模式",-1)]))}),_:1},8,["modelValue"])]}),_:1}),g(Fe)>0?(p(),C(l,{key:0,prop:"gpus",label:"GPU"},{default:_(function(){return[b("div",Ce,[y(X,{class:"!w-[20rem] pl-[.6rem]",modelValue:g(nn).gpus,"onUpdate:modelValue":n[10]||(n[10]=function(e){return g(nn).gpus=e}),min:0,max:g(Fe)},null,8,["modelValue","max"]),b("div",Me,[y(r,{modelValue:g(nn).gpus,"onUpdate:modelValue":n[11]||(n[11]=function(e){return g(nn).gpus=e}),modelModifiers:{number:!0},class:"mr-[0.8rem] !w-[8rem]"},null,8,["modelValue"]),b("span",Se,"GPU (最大值："+w(g(Fe))+")",1)])])]}),_:1})):M("",!0),y(l,{prop:"mem_reservation",label:"最小分配内存"},{default:_(function(){return[b("div",Ne,[y(X,{class:"!w-[20rem] pl-[.6rem]",modelValue:g(nn).mem_reservation,"onUpdate:modelValue":n[12]||(n[12]=function(e){return g(nn).mem_reservation=e}),min:0,max:g(Be)},null,8,["modelValue","max"]),b("div",Oe,[y(r,{modelValue:g(nn).mem_reservation,"onUpdate:modelValue":n[13]||(n[13]=function(e){return g(nn).mem_reservation=e}),modelModifiers:{number:!0},class:"mr-[0.8rem] !w-[8rem]"},null,8,["modelValue"]),b("span",Pe,"MB (最大值："+w(g(Be))+")",1)])])]}),_:1}),y(l,{prop:"cpu_quota",class:"!mt-[1.4rem]",label:"CPU限制"},{default:_(function(){return[b("div",Ee,[y(X,{class:"!w-[20rem] pl-[.6rem]",modelValue:g(nn).cpu_quota,"onUpdate:modelValue":n[14]||(n[14]=function(e){return g(nn).cpu_quota=e}),min:0,max:g(Re)},null,8,["modelValue","max"]),b("span",qe,[y(r,{modelValue:g(nn).cpu_quota,"onUpdate:modelValue":n[15]||(n[15]=function(e){return g(nn).cpu_quota=e}),modelModifiers:{number:!0},class:"mr-[0.8rem] !w-[8rem]"},null,8,["modelValue"]),b("span",Ae,"核 (最大值："+w(g(Re))+")",1)])])]}),_:1}),y(l,{prop:"path",class:"!mt-[1.4rem]",label:"内存限制"},{default:_(function(){return[y(X,{class:"!w-[20rem] pl-[.6rem]",modelValue:g(nn).mem_limit,"onUpdate:modelValue":n[16]||(n[16]=function(e){return g(nn).mem_limit=e}),min:0,max:g(Be)},null,8,["modelValue","max"]),b("span",Ie,[y(r,{modelValue:g(nn).mem_limit,"onUpdate:modelValue":n[17]||(n[17]=function(e){return g(nn).mem_limit=e}),modelModifiers:{number:!0},class:"mr-[0.8rem] !w-[8rem]"},null,8,["modelValue"]),b("span",Te,"MB(最大值："+w(g(Be))+")",1)])]}),_:1}),y(l,{prop:"labels",label:"标签"},{default:_(function(){return[y(Y,{type:"textarea",rows:5,class:"!w-[50rem]",placeholder:"容器标签，一行一个，例：key=value",modelValue:g(nn).labels,"onUpdate:modelValue":n[18]||(n[18]=function(e){return g(nn).labels=e})},null,8,["modelValue"])]}),_:1}),y(l,{prop:"environment",label:"环境变量"},{default:_(function(){return[y(Y,{type:"textarea",rows:5,class:"!w-[50rem]",placeholder:"添加环境变量格式如下，有多个请换行添加：\nJAVA_HOME=/usr/local/java8\nHOSTNAME=master",modelValue:g(nn).environment,"onUpdate:modelValue":n[19]||(n[19]=function(e){return g(nn).environment=e})},null,8,["modelValue"])]}),_:1}),"edit"!==Je.type?(p(),C(l,{key:1,prop:"remark",label:"备注"},{default:_(function(){return[y(Y,{type:"textarea",rows:5,class:"!w-[50rem]",placeholder:"容器备注",modelValue:g(nn).remark,"onUpdate:modelValue":n[20]||(n[20]=function(e){return g(nn).remark=e})},null,8,["modelValue"])]}),_:1})):M("",!0)],512),[[k,g(Ze)]]),g(Xe)?(p(),C(c,{key:0,class:"ml-[10rem] mb-[54px]",type:"primary",onClick:wn},{default:_(function(){return o(n[40]||(n[40]=[x(" 保存容器配置 ",-1)]))}),_:1})):M("",!0)]}),_:1},8,["model"])],4)}}});n("default",se(He,[["__scopeId","data-v-7fc15871"]]))}}})}();
