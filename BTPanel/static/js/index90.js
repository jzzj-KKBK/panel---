import{_ as e}from"./index103.js?v=1756369731";import{R as s,fK as t,o as a,fL as r,u as l,cY as o,fk as i,H as n}from"./utils-lib.js?v=1756369731";import{_ as m}from"./version-compare.vue_vue_type_script_setup_true_lang.js?v=1756369731";import{s as p,j as c,r as u,e as d,c as g,aM as _,q as h,v as f,A as x,x as v,B as b,y}from"./base-lib.js?v=1756369731";import{e as j}from"./validator.js?v=1756369731";import"./__commonjsHelpers__.js?v=1756369731";import"./index104.js?v=1756369731";import"./column.js?v=1756369731";const B=c("VHOST-LOGS-STORE",()=>({columns:u([{label:"类型",prop:"log_type",minWidth:40},{label:"类别",prop:"log_level",minWidth:40},{label:"状态",prop:"status",minWidth:50,render:e=>d("span",{class:1===e.log_status?"text-primary":"text-error"},[1===e.log_status?"成功":"失败"])},{label:"内容",prop:"log_body",render:e=>d("div",{class:"flex"},[e.username?d("div",{class:"text-[#909399]"},["用户名: ["+e.username+"]--\x3e"]):"",d("div",null,[e.log_body])])},{label:"执行时间",prop:"log_time",align:"right",minWidth:60,render:e=>s(e.log_time)}]),getLogsList:async e=>{var s;const{data:a}=await t({p:e.p,search:e.search,rows:e.limit});return{data:a.list||[],total:(null==(s=a.page)?void 0:s.count)||0}}})),L=async e=>{a({title:"清空日志",content:"是否清空日志，是否继续？",onConfirm:async()=>{await r(),e()}})},w=g({__name:"index",setup(s){const{mainHeight:t}=l(),{columns:a,getLogsList:r}=(()=>{const e=B(),s=p(e);return{...e,...s}})(),{BtTable:c,BtSearch:u,BtRefresh:g,BtPage:w,refresh:k}=o({request:r,columns:a.value,extension:[i()]});return(s,a)=>{const r=n,l=_("BtTableCategory"),o=_("BtBatch"),i=e;return h(),f("div",null,[d(m),d(i,null,{"header-left":x(()=>[d(r,{onClick:a[0]||(a[0]=e=>v(L)(v(k)))},{default:x(()=>[...a[2]||(a[2]=[b("清除日志",-1)])]),_:1}),y("div",{class:"flex items-center ml-1rem",onClick:a[1]||(a[1]=e=>v(j)({name:"用户管理",type:35,id:62}))},[...a[3]||(a[3]=[y("i",{class:"svgtofont-desired text-[1.6rem] mr-[4px]"},null,-1),y("span",{class:"bt-link"},"需求反馈",-1)])])]),"header-right":x(()=>[d(l,{class:"!w-[140px] mr-[10px]"}),d(v(u),{placeholder:"请输入用户名称",class:"!w-[270px] mr-[10px]"}),d(v(g))]),content:x(()=>[d(v(c),{"min-height":v(t)},null,8,["min-height"])]),"footer-left":x(()=>[d(o)]),"footer-right":x(()=>[d(v(w))]),_:1})])}}});export{w as default};
