import{K as e,W as a}from"./utils-lib.js?v=1756369731";import{c as s,r as l,k as r,q as d,v as o,e as t,A as i,y as m,x as u,a5 as n,S as p,a9 as c,a7 as g}from"./base-lib.js?v=1756369731";import{modifyDirAuthPass as _,setDirAuth as b}from"./site.js?v=1756369731";import"./__commonjsHelpers__.js?v=1756369731";const f={class:"p-20px"},w={class:"w-280px"},V={class:"w-280px"},v={class:"w-280px"},x={class:"w-280px"},q=s({__name:"limit-form",props:{compData:{}},setup(s,{expose:q}){const h=s,{isEdit:j,siteId:U,row:y,getList:k}=h.compData,D=l(null),A=r({name:"",site_dir:"",username:"",password:""}),C={name:[{required:!0,message:"名称不能为空",trigger:"blur"},{min:3,message:"名称至少需要3个字符",trigger:"blur"}],site_dir:[{required:!0,message:"路径不能为空",trigger:"blur"}],username:[{required:!0,message:"用户名不能为空",trigger:"blur"},{min:3,message:"用户名至少需要3个字符",trigger:"blur"}],password:[{required:!0,message:"密码不能为空",trigger:"blur"},{min:3,message:"密码至少需要3个字符",trigger:"blur"}]};return j&&y&&(A.name=y.name,A.site_dir=y.site_dir),q({onConfirm:async a=>{var s;await(null==(s=D.value)?void 0:s.validate()),e({request:j?_({id:U,name:A.name,username:A.username,password:A.password}):b({...n(A),id:U}),loading:j?"修改中...":"添加中...",message:!0,success:()=>{null==k||k(),a&&a()}})}}),(e,s)=>{const l=p,r=c,n=g,_=a;return d(),o("div",f,[t(n,{ref_key:"formRef",ref:D,model:u(A),rules:C},{default:i(()=>[t(r,{label:"名称",prop:"name"},{default:i(()=>[m("div",w,[t(l,{modelValue:u(A).name,"onUpdate:modelValue":s[0]||(s[0]=e=>u(A).name=e),disabled:u(j),placeholder:"请输入名称"},null,8,["modelValue","disabled"])])]),_:1}),t(r,{label:"路径",prop:"site_dir"},{default:i(()=>[m("div",V,[t(l,{modelValue:u(A).site_dir,"onUpdate:modelValue":s[1]||(s[1]=e=>u(A).site_dir=e),disabled:u(j),placeholder:"请输入路径：/text/"},null,8,["modelValue","disabled"])])]),_:1}),t(r,{label:"用户名",prop:"username"},{default:i(()=>[m("div",v,[t(l,{modelValue:u(A).username,"onUpdate:modelValue":s[2]||(s[2]=e=>u(A).username=e),placeholder:"请输入用户名"},null,8,["modelValue"])])]),_:1}),t(r,{label:"密码",prop:"password"},{default:i(()=>[m("div",x,[t(l,{modelValue:u(A).password,"onUpdate:modelValue":s[3]||(s[3]=e=>u(A).password=e),placeholder:"请输入密码"},null,8,["modelValue"])])]),_:1})]),_:1},8,["model"]),t(_,{options:[{content:"目录设置加密访问后，会导致目录及子目录下的“反向代理”失效"},{content:"目录设置加密访问后，访问时需要输入账号密码才能访问"},{content:"例如我设置了加密访问 /test/ ,那我访问 http://aaa.com/test/ 时就要输入账号密码才能访问"}],class:"mt-4px"})])}}});export{q as default};
