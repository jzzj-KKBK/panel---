import{c as e,s as l,q as t,v as a,y as n,H as i,I as s,x as o,J as c,z as d,F as u,a_ as r,e as p,A as v,B as y,C as m,M as f,G as x,D as M,r as g,w as h,Q as b,T as k,aj as I,ax as T,ai as w,p as C,a4 as D}from"./base-lib.js?v=1756369731";import{c as j,e as L,u as N,d as _,H as A,g9 as z,R as E,K as O,br as S,r as B}from"./utils-lib.js?v=1756369731";import{P as U}from"./store6.js?v=1756369731";import{H as Q}from"./store5.js?v=1756369731";import{_ as P}from"./index104.js?v=1756369731";import V from"./index163.js?v=1756369731";import{b as H,j as R}from"./validator.js?v=1756369731";import{_ as W}from"./index413.js?v=1756369731";import"./__commonjsHelpers__.js?v=1756369731";import"./column.js?v=1756369731";const Z={class:"sidebar-title"},q={class:"flex flex-col"},F={class:"sidebar-privilege"},G=["innerHTML"],J={key:1,class:"pt-16px"},Y={class:"whitespace-nowrap"},K={key:0,class:"sidebar-tips-item pro-introduce safe-report"},X={key:1,class:"pro-left-footer-recom"},$=L(e({__name:"index",setup(e){const x=U(),{isRemarksLoading:M,productInfo:g,isPlugin:h,compData:b}=l(x),{changeTypeTabEvent:k,openPrivilegeContrast:I}=x;return(e,l)=>{var x,M,k,T,w,C,D,L,N,_,A,z,E,O,S,B,U,Q,P,V,H,R,W,$;const ee=j;return t(),a("div",{class:c(["sidebar-info","sidebar-".concat(null==(M=null==(x=o(g))?void 0:x.activeTypeInfo)?void 0:M.type)])},[n("div",Z,[i(n("span",{class:c("icon-currency !mr-10px !w-[2.4rem] icon-"+(null==(T=null==(k=o(g))?void 0:k.activeTypeInfo)?void 0:T.type))},null,2),[[s,!o(h)]]),n("span",null,d(null==(C=null==(w=o(g))?void 0:w.activeTypeInfo)?void 0:C.title),1)]),i(n("div",{class:"sidebar-describe"},d(null==(L=null==(D=o(g))?void 0:D.activeTypeInfo)?void 0:L.describe),513),[[s,!o(h)]]),n("div",q,[n("div",F,d(null==(_=null==(N=o(g))?void 0:N.activeTypeInfo)?void 0:_.tipsTitle)+":",1),"plugin"===(null==(z=null==(A=o(g))?void 0:A.activeTypeInfo)?void 0:z.type)?(t(),a("div",{key:0,class:"w-[16.5rem] text-[1.4rem] leading-loose mt-[2rem]",innerHTML:null==(O=null==(E=o(b))?void 0:E.pluginInfo)?void 0:O.ps},null,8,G)):(t(),a("div",J,[(t(!0),a(u,null,r(null==(B=null==(S=o(g))?void 0:S.activeTypeInfo)?void 0:B.tipsList,(e,i)=>(t(),a("div",{key:i,class:"sidebar-tips-item"},[l[1]||(l[1]=n("span",{class:"mr-8px"},[n("i",{class:"svgtofont-el-check font-black text-[#FEAA04] text-[1.6rem]"})],-1)),n("span",Y,d(e),1)]))),128))]))]),"dev"===(null==(Q=null==(U=o(g))?void 0:U.activeTypeInfo)?void 0:Q.type)?(t(),a("div",K,[l[3]||(l[3]=n("span",{"data-v-0c1f7542":"",class:"mr-4px"},[n("i",{class:"svgtofont-el-star-filled font-black text-[#FEAA04]"})],-1)),n("span",null,[p(ee,{target:"_blank",href:"https://www.bt.cn/new/product/safety_report.html",style:{"text-decoration":"underline"}},{default:v(()=>[...l[2]||(l[2]=[y("获取安全检查报告",-1)])]),_:1})])])):m("",!0),"plugin"===(null==(V=null==(P=o(g))?void 0:P.activeTypeInfo)?void 0:V.type)?(t(),a("div",X,[n("span",null,[y("Linux企业版可免费使用【"+d(null==(R=null==(H=o(g))?void 0:H.activeTypeInfo)?void 0:R.title)+"】等30+款插件，价格仅售￥",1),l[4]||(l[4]=n("span",{class:"plugin_pro_price"},"1399",-1)),l[5]||(l[5]=y("/年",-1))])])):"coupon"!==(null==($=null==(W=o(g))?void 0:W.activeTypeInfo)?void 0:$.type)?(t(),a("div",{key:2,class:"sidebar-details",onClick:l[0]||(l[0]=(...e)=>o(I)&&o(I)(...e))},"特权对比")):(t(),f(ee,{key:3,class:"sidebar-details",href:"https://www.bt.cn/new/activity.html",target:"_blank"},{default:v(()=>[...l[6]||(l[6]=[y(" 查看更多活动 ",-1)])]),_:1}))],2)}}}),[["__scopeId","data-v-443cd607"]]),ee={class:"flex flex-col w-[16rem]"},le=["onClick"],te={class:"flex items-center pl-20px"},ae={class:"relative p-12px h-[14rem] border-[1px] rounded-4px border-lightest"},ne={class:"relative"},ie={class:"w-[11rem] flex items-center justify-center text-[1.4rem] mt-[2rem]"},se={class:"w-[11rem] flex items-center justify-center text-[1.2rem] mt-[4rem] text-[#999]"},oe={class:"pay-price-model"},ce={class:"repeat-buy-tips"},de={class:"mt-4px mb-1.2rem"},ue={key:0,class:"repeat-buy-tips text-danger py-[8px] mb-1.2rem"},re={class:"userinfo"},pe={class:"line-through text-lighter"},ve={key:0,class:"font-bold mt-8px coupon-discounts-titile"},ye={class:"box"},me={class:"userinfo"},fe={class:"my-16px price"},xe={class:"text-[3rem] font-bold"},Me={class:"line-through text-lighter"},ge={key:0,class:"font-bold mt-8px coupon-discounts-titile"},he={key:0,class:"payment-cont h-13rem"},be={class:"mt-1.2rem"},ke={class:"availableBalance text-[2.2rem]"},Ie={key:0,class:"flex items-center"},Te={key:1,class:"flex flex-col w-[25rem] pl-2rem accounts-box"},we={key:0,class:"unbind-mask"},Ce={class:"unbind-auth px-2rem py-1rem"},De={class:"text-[1.4rem] unbind-author-content"},je={key:1,class:"flex flex-col items-center justify-center h-full w-full"},Le=L(e({__name:"index",setup(e){const{payment:f,authExpirationTime:g,forceLtd:h}=N(),b=U(),{paymentLoading:k,payList:I,productInfo:T,product:w,activePayIcon:C,scanned:D}=l(b),{changeUnbindAuthor:L,changePayTypeEvent:z,changeBalanceBuyEvent:E,changeRefreshAuthor:O}=b;return(e,l)=>{var b,N,S,B,U,Q,P,V,Z,q,F,G,J,Y,K,X,$,Le,Ne,_e,Ae,ze,Ee,Oe,Se,Be,Ue,Qe,Pe,Ve,He,Re,We,Ze,qe,Fe,Ge,Je,Ye,Ke,Xe,$e,el,ll,tl,al,nl,il,sl,ol,cl;const dl=W,ul=_,rl=j,pl=M,vl=A,yl=x("bt-loading");return i((t(),a("div",{class:c(["pay-mode-view","pay-"+(null==(N=null==(b=o(T))?void 0:b.activeTypeInfo)?void 0:N.type)])},[o(f).bindUser?(t(),a(u,{key:0},[n("div",ee,[(t(!0),a(u,null,r(o(I),e=>{var l,i;return t(),a("div",{key:e.type,class:c(["pay-mode-item",{active:e.type===(null==(i=null==(l=o(w))?void 0:l.payMode)?void 0:i.activePayType)}]),onClick:l=>o(z)(e)},[n("span",{class:c("icon icon-"+e.type)},null,2),n("span",null,d(e.title),1)],10,le)}),128))]),n("div",te,[["wechat","alipay"].includes((null==(B=null==(S=o(w))?void 0:S.payMode)?void 0:B.activePayType)||"")?(t(),a(u,{key:0},[n("div",ae,[n("div",ne,[i(p(dl,{value:null==(P=null==(Q=null==(U=o(w))?void 0:U.payMode)?void 0:Q.qrcode)?void 0:P.value,size:null==(V=o(w))?void 0:V.payMode.qrcode.size},null,8,["value","size"]),[[s,null==(F=null==(q=null==(Z=o(w))?void 0:Z.payMode)?void 0:q.qrcode)?void 0:F.value]]),o(D)?(t(),a("div",{key:0,class:"absolute z-10 inset-0 flex items-center flex-col justify-center bg-black/70 text-white p-2 text-center rounded",onClick:l[0]||(l[0]=e=>o(z)({type:"alipay",isRegain:!0}))},[...l[8]||(l[8]=[y(" 已扫码,",-1),n("br",null,null,-1),y("请完成支付",-1),n("br",null,null,-1),n("div",{class:"svgtofont-el-refresh-right text-[1.6rem] cursor-pointer"},null,-1)])])):m("",!0)]),i(n("div",ie,"获取中",512),[[s,!(null==(Y=null==(J=null==(G=o(w))?void 0:G.payMode)?void 0:J.qrcode)?void 0:Y.value)]]),p(ul,{type:"icons",src:o(C),class:"!absolute bg-white border-[0.2rem] border-lightest rounded-2px mr-4px w-2.4rem h-2.4rem top-24 left-22"},null,8,["src"]),i(n("div",se,"请尝试切换支付方式",512),[[s,!(null==($=null==(X=null==(K=o(w))?void 0:K.payMode)?void 0:X.qrcode)?void 0:$.value)]])]),n("div",oe,[i(n("div",ce,[l[11]||(l[11]=n("div",{class:"text-danger p-8px"},"检测到您30分钟内有重复支付订单！",-1)),n("div",de,[l[10]||(l[10]=y(" 如遇到支付后授权未生效，请尝试 ",-1)),p(rl,{class:"underline",onClick:l[1]||(l[1]=e=>o(O)())},{default:v(()=>[...l[9]||(l[9]=[y("刷新授权",-1)])]),_:1})])],512),[[s,null==(Ne=null==(Le=o(w))?void 0:Le.payMode)?void 0:Ne.isLastBuyRepeat]]),(null==(_e=o(w))?void 0:_e.payMode.payTips.status)&&!(null==(ze=null==(Ae=o(w))?void 0:Ae.payMode)?void 0:ze.isLastBuyRepeat)?(t(),a("div",ue,[y(" 【"+d(null==(Ee=o(w))?void 0:Ee.payMode.payTips.name)+"】 ",1),(null==(Oe=o(w))?void 0:Oe.payMode.payTips.day)>=0?(t(),a(u,{key:0},[y(" 还剩 "+d(null==(Se=o(w))?void 0:Se.payMode.payTips.day)+" 天到期",1)],64)):(t(),a(u,{key:1},[y(d(o(g)),1)],64)),y(" ， 支付后【"+d(null==(Be=o(w))?void 0:Be.payMode.payTips.name)+"】自动转为抵扣券 ",1)])):m("",!0),n("div",{class:c(["flex flex-col",(null==(Qe=null==(Ue=o(w))?void 0:Ue.payMode)?void 0:Qe.isLastBuyRepeat)&&(null==(Pe=o(w))?void 0:Pe.couponMode.status)?"":"mb-16px"])},[n("div",re,[y(" 当前账号:"+d(o(f).bindUser)+" ",1),o(h)?m("",!0):(t(),a("a",{key:0,class:"underline cursor-pointer",onClick:l[2]||(l[2]=(...e)=>o(H)&&o(H)(...e))},"切换账号"))]),n("div",{class:c(["buy-price",(null==(He=null==(Ve=o(w))?void 0:Ve.payMode)?void 0:He.isLastBuyRepeat)&&(null==(Re=o(w))?void 0:Re.couponMode.status)?"":"mt-16px"])},[l[13]||(l[13]=n("span",null,"支付金额:",-1)),n("span",null,[l[12]||(l[12]=n("span",{class:"text-[1.8rem] font-bold"},"￥",-1)),n("span",null,d(null==(We=o(w))?void 0:We.payMode.activeBuyInfo.price),1)]),n("span",null,d(null==(Ze=o(w))?void 0:Ze.payMode.activeBuyInfo.cycle)+"/"+d(null==(qe=o(w))?void 0:qe.payMode.activeBuyInfo.count)+"台",1),n("span",pe," 原价: "+d(null==(Fe=o(w))?void 0:Fe.payMode.activeBuyInfo.originalPrice)+"元 ",1),(null==(Ge=o(w))?void 0:Ge.couponMode.status)?(t(),a("div",ve,d(null==(Je=o(w))?void 0:Je.couponMode.discountsTitle),1)):m("",!0)],2)],2)])],64)):(t(),a(u,{key:1},[n("div",ye,[n("div",me,[y(" 当前账号:"+d(o(f).bindUser)+" ",1),o(h)?m("",!0):(t(),a("a",{key:0,class:"underline cursor-pointer",onClick:l[3]||(l[3]=(...e)=>o(H)&&o(H)(...e))},"切换账号"))]),n("div",fe,[l[15]||(l[15]=y(" 支付金额: ",-1)),n("span",xe,[l[14]||(l[14]=n("b",{class:"text-[1.8rem]"},"¥",-1)),y(d(null==(Ye=o(w))?void 0:Ye.payMode.activeBuyInfo.price),1)]),n("span",null,d(null==(Ke=o(w))?void 0:Ke.payMode.activeBuyInfo.cycle)+"/"+d(null==(Xe=o(w))?void 0:Xe.payMode.activeBuyInfo.count)+"台",1)]),n("div",Me," 原价: "+d(null==($e=o(w))?void 0:$e.payMode.activeBuyInfo.originalPrice)+"元 ",1),(null==(el=o(w))?void 0:el.couponMode.status)?(t(),a("div",ge,d(null==(ll=o(w))?void 0:ll.couponMode.discountsTitle),1)):m("",!0)]),"balance"==(null==(tl=o(w))?void 0:tl.payMode.activePayType)?(t(),a("div",he,[l[20]||(l[20]=y(" 可用余额 ",-1)),n("div",be,[n("span",ke,d(null==(al=o(w))?void 0:al.payMode.balance),1),l[16]||(l[16]=y("元 ",-1))]),p(pl,{class:"!my-1rem",type:"primary",disabled:(null==(nl=o(w))?void 0:nl.payMode.balance)<o(w).payMode.activeBuyInfo.price,onClick:l[4]||(l[4]=e=>o(E)())},{default:v(()=>[...l[17]||(l[17]=[y("立即购买",-1)])]),_:1},8,["disabled"]),(null==(il=o(w))?void 0:il.payMode.balance)<o(w).payMode.activeBuyInfo.price?(t(),a("div",Ie,[l[19]||(l[19]=y("当前余额不足，请先",-1)),p(rl,{target:"_blank",href:"https://www.bt.cn/admin/recharge"},{default:v(()=>[...l[18]||(l[18]=[y("充值余额",-1)])]),_:1})])):m("",!0)])):(t(),a("div",Te,[l[22]||(l[22]=n("div",null,[n("span",null,"开户名称: "),y("广东堡塔安全技术有限公司")],-1)),l[23]||(l[23]=n("div",null,[n("span",null,"开户银行: "),y("招商银行股份有限公司东莞天安数码城支行")],-1)),n("div",null,[l[21]||(l[21]=n("span",null,"银行账号: ",-1)),n("span",{class:"cursor-pointer",onClick:l[5]||(l[5]=(...e)=>o(R)&&o(R)(...e))},"联系客服")])]))],64))]),(null==(ol=null==(sl=o(T))?void 0:sl.unbindAuthor)?void 0:ol.status)?(t(),a("div",we,[n("div",Ce,[l[28]||(l[28]=n("div",{class:"text-[2.2rem] mb-[1.2rem] mt-[.4rem]"},"检测到授权冲突",-1)),n("div",De,[l[24]||(l[24]=y(" 当前面板已绑定【",-1)),n("span",{class:c(o(f).authType+"-author-name")},d(null==(cl=o(w))?void 0:cl.payMode.payTips.name),3),l[25]||(l[25]=y("】 ",-1)),l[26]||(l[26]=n("span",{class:"text-danger"},"永久授权",-1)),l[27]||(l[27]=y("，若要购买/更换其他授权，请先解绑当前授权。 ",-1))]),l[29]||(l[29]=n("div",null,"专业版/企业版每月允许免费更改服务器IP(解绑授权)一次，超过限制次数后请手动购买解绑次数。",-1)),p(pl,{type:"primary",class:"text-[1.5rem] !mt-[1.4rem]",onClick:l[6]||(l[6]=e=>o(L)(!0))},{default:v(()=>{var e,l,t,a;return[y(d((null==(l=null==(e=o(T))?void 0:e.unbindAuthor)?void 0:l.count)>0?"解绑授权，剩余次数".concat(null==(a=null==(t=o(T))?void 0:t.unbindAuthor)?void 0:a.count,"次"):"点击前往购买解绑次数"),1)]}),_:1})])])):m("",!0)],64)):(t(),a("div",je,[p(vl,{type:"primary",onClick:l[7]||(l[7]=e=>o(H)())},{default:v(()=>[...l[30]||(l[30]=[y("当前未绑定宝塔账号，无法购买产品，点击绑定",-1)])]),_:1})]))],2)),[[yl,!(!o(k).status||!o(f).bindUser)],[yl,o(k).title,"title"],[yl,"large","size"]])}}}),[["__scopeId","data-v-6981e838"]]),Ne={class:"h-[98%]"},_e={class:"pay-view-title !mt-28px"},Ae={key:0},ze={class:"relative mb-8px"},Ee={class:"flex flex-wrap overflow-y-auto max-h-[12rem]"},Oe=["onClick"],Se=["onClick"],Be={key:1,class:"pay-voucher-type btn-box active"},Ue={class:"relative"},Qe={class:"flex flex-wrap overflow-y-auto max-h-[26rem]"},Pe=["onClick"],Ve={class:"!text-[1rem]"},He={key:0},Re={class:"mt-24px"},We={key:1,class:"flex flex-col items-center justify-center w-full h-full mt-20rem"},Ze=L(e({__name:"index",setup(e){const s=U(),{forceLtd:f}=N(),{product:g,voucherLoading:h}=l(s),{changeTypeTabEvent:b,changeVoucherTypeEvent:k,changeVoucherEvent:I,getVoucherCycleDescribe:T,useChangeVoucher:w}=s;return(e,l)=>{var s;const C=M,D=x("scroll-shadow"),j=x("bt-loading");return t(),a("section",Ne,[(null==(s=o(g))?void 0:s.voucherMode.isExist)?(t(),a(u,{key:0},[n("span",_e,[l[1]||(l[1]=y("产品类型",-1)),o(f)?(t(),a("span",Ae,"（当前为企业版，无法使用其他产品抵扣券）")):m("",!0)]),i((t(),a("div",ze,[i((t(),a("div",Ee,[o(f)?(t(),a("div",Be,[...l[2]||(l[2]=[n("span",{class:"icon-ltd"},null,-1),n("span",null,"企业版",-1)])])):(t(),a(u,{key:0},[(t(!0),a(u,null,r(o(g).voucherMode.proTypeList,e=>(t(),a("div",{key:e.pid,class:c(["pay-voucher-type btn-box",{active:o(g).voucherMode.typeActive===e.pid,hidden:e.hidden}]),onClick:l=>o(k)(e)},[n("span",{class:c({"icon-pro":e.pid===o(z).pro,"icon-ltd":e.pid===o(z).ltd})},null,2),n("span",null,d(e.name),1)],10,Oe))),128)),(t(!0),a(u,null,r(o(g).voucherMode.typeList,e=>(t(),a("div",{key:e.pid,class:c(["pay-voucher-type btn-box",{active:o(g).voucherMode.typeActive===e.pid,hidden:e.hidden}]),onClick:l=>o(k)(e)},[n("span",null,d(e.name),1)],10,Se))),128))],64))])),[[D]])])),[[j,o(g).voucherMode.loading]]),l[3]||(l[3]=n("div",{class:"flex"},[n("span",{class:"pay-view-title"},"抵扣券列表"),n("div",{class:"mt-20px"})],-1)),n("div",Ue,[i((t(),a("div",Qe,[(t(!0),a(u,null,r(o(g).voucherMode.list,e=>(t(),a("div",{key:e.id,class:c(["pay-voucher-item",{active:o(g).voucherMode.active===e.id}]),onClick:l=>o(I)(e)},[n("span",null,[999===e.cycle&&"month"===e.unit?(t(),a(u,{key:0},[y("永久授权")],64)):(t(),a(u,{key:1},[y(d(o(T)(e.cycle,e.unit)),1)],64))]),n("span",Ve,"到期时间: "+d(e.timeout>0?o(E)(e.endtime,"yyyy-MM-dd"):"长期有效"),1)],10,Pe))),128)),o(g).voucherMode.list.length?m("",!0):(t(),a("div",He,"抵扣券列表为空"))])),[[D]])]),n("div",Re,[p(C,{type:"primary",disabled:o(h)||!o(g).voucherMode.list.length,onClick:o(w)},{default:v(()=>[y(d(o(h)?"正在提交中，请稍候...":"立即使用"),1)]),_:1},8,["disabled","onClick"])]),l[4]||(l[4]=n("div",{class:"mt-24px text-[1.4rem] text-light"},"堡塔官网后台、参与活动购买的产品抵扣券，可用于开通授权或续费",-1)),l[5]||(l[5]=n("div",{class:"relative hidden"},null,-1))],64)):(t(),a("div",We,[l[7]||(l[7]=n("div",{class:"pay-voucher-empty"},null,-1)),p(C,{plain:"",onClick:l[0]||(l[0]=e=>o(b)("ltd"))},{default:v(()=>[...l[6]||(l[6]=[y("抵扣券列表为空，点击购买",-1)])]),_:1})]))])}}}),[["__scopeId","data-v-ebd3beb6"]]),qe={key:0,class:"h-[90px] w-full flex"},Fe={class:"tab-menu !flex-1 py-[1.6rem]"},Ge={key:1,class:"advantage-list"},Je={key:0,class:"text-[1.4rem] text-[##ff9900]"},Ye={key:1,class:"text-[1.4rem] text-[##ff9900]"},Ke={key:2,class:"h-full p-2rem"},Xe={class:"w-full flex items-center flex-col justify-center mt-[1.6rem]"},$e={key:3,class:"h-full"},el={key:0,class:"h-30 w-full flex"},ll=["onClick"],tl={class:"text-dark"},al={class:"text-medium"},nl={id:"lib-pay-theme-tips",class:"lib-pay-line-item proS lib-pay-theme-tips"},il=["innerHTML"],sl={id:"list-box",class:"list-box",style:{"max-width":"72rem"}},ol={id:"list",class:"flex",style:{transition:"all 500ms",left:"0",position:"relative"}},cl=["onClick"],dl={class:"pay-product-price"},ul={class:"line-through border-b pb-4px pt-4px border-dashed border-lighter text-lighter"},rl={class:"text-center pt-4px"},pl={key:0,class:"pay-product-recommend transform scale-80"},vl={class:"dev-advantage"},yl={key:0},ml={class:"mb-[1.6rem]"},fl={class:"flex"},xl=["onClick"],Ml={key:0,class:"pay-auth-discount transform scale-80"},gl={key:0,class:"text-danger mt-[4px]"},hl={class:"flex !ml-0"},bl={class:"artificial_price"},kl={key:0,class:"text-[#999] voucherEndtime"},Il={key:1,class:"mt-[1.6rem] flex justify-center"},Tl={key:4,class:"tooTool-links absolute right-[3rem] bottom-6 cursor-pointer"},wl={class:"flex items-center inline-block"},Cl=L(e({__name:"index",setup(e){const C=U(),{productInfo:D,product:L,enterprise:A,tabLoading:z,iSwitch:E,countDown:B,productPriceLoading:Q}=l(C),{switchLeft:H,switchRight:W,changeTypeTabEvent:Z,changeCycleTabEvent:q,changeNumsTabEvent:F,enterpriseEvent:G,changeCouponBoxEvent:J,changeCouponEvent:Y}=C,K=g(null),{aliyunEcsLtd:X,payment:$,aliyunEcsFailed:ee}=N();h(()=>L.value.couponMode.endTimeNum>0,e=>{e&&L.value.couponMode.activeCouponId&&(clearInterval(K.value),K.value=setInterval(()=>{L.value.couponMode.endTimeNum>0?(L.value.couponMode.endTimeNum--,(()=>{const e=L.value.couponMode.endTimeNum,l=Math.floor(e/86400),t=Math.floor(e/3600%24),a=Math.floor(e/60%60),n=Math.floor(e%60);B.value.d=l<10?"0".concat(l.toString()):l.toString(),B.value.h=t<10?"0".concat(t.toString()):t.toString(),B.value.m=a<10?"0".concat(a.toString()):a.toString(),B.value.s=n<10?"0".concat(n.toString()):n.toString()})()):clearInterval(K.value)},1e3))});const le=async()=>{const e=await O({loading:"正在获取阿里云授权，请稍后...",request:S({client:2})});ee.value=!e.status,window.location.reload()};setTimeout(()=>{},1e3);const te=()=>{window.open("https://marketnext.console.aliyun.com/bizlist","_blank","noopener,noreferrer")};return(e,l)=>{var g,h,C,N,O,S,U,K,ae,ne,ie,se,oe;const ce=_,de=M,ue=k,re=w,pe=I,ve=V,ye=T,me=P,fe=j,xe=x("bt-loading");return t(),a("div",{class:c(["flex flex-[8] flex-col","theme-".concat(null==(h=null==(g=o(D))?void 0:g.activeTypeInfo)?void 0:h.type," ").concat(o(X)?"h-full":"")])},[o(X)?(t(),a("div",qe,[n("div",Fe,[n("span",{class:c(["text-[1.8rem] font-bold text-black flex items-center my-2","product-ltd"])},[...l[10]||(l[10]=[n("i",{class:c("svgtofont-icon-ltd !text-[2.4rem] text-[#9e6700] font-normal mr-[0.8rem]")},null,-1),n("span",{class:"text-[#20a53a]"},"阿里云 & Linux面板企业版",-1)])])])])):m("",!0),o(X)?(t(),a("div",Ge,[l[13]||(l[13]=n("i",{class:"svgtofont-el-warning-filled !text-[20px] text-[##ff9900] font-normal mr-[0.8rem]"},null,-1)),"ltd"===o($).authType?(t(),a("span",Je,[l[11]||(l[11]=y(" 此版本为阿里云联合宝塔面板定制的Linux企业版，续费企业版请从",-1)),n("span",{class:"btlink cursor-pointer",onClick:te},"阿里云控制台"),l[12]||(l[12]=y("操作",-1))])):(t(),a("span",Ye,d(o(ee)?"检测到无法正常绑定宝塔账号":"检测到无法正常使用企业版")+" ，请扫码联系客服处理",1))])):m("",!0),"ltd"!==o($).authType&&o(X)?(t(),a("div",Ke,[n("div",Xe,[p(ce,{class:"w-[24rem] h-[24rem]",src:"customer/customer-qrcode.png"}),p(de,{type:"primary",size:"large",class:"mt-[2.4rem] w-[10rem]",onClick:le},{default:v(()=>[...l[14]||(l[14]=[y("重新认证",-1)])]),_:1})])])):(t(),a("div",$e,[o(X)?m("",!0):(t(),a("div",el,[(t(!0),a(u,null,r(null==(C=o(D))?void 0:C.typeList,e=>{var l,i;return t(),a("div",{key:e.type,class:c(["tab-menu",{"tab-acitve":e.type===(null==(i=null==(l=o(D))?void 0:l.activeTypeInfo)?void 0:i.type),"tab-rec":e.recommend,"!flex-1":"coupon"===e.type,"!hidden":e.isHidden||("coupon"===e.type||"plugin"===e.type)&&!o($).bindUser}]),onClick:l=>o(Z)(e)},[n("span",{class:c(["text-[1.6rem] font-bold text-black flex items-center my-2","product-"+e.type])},[n("span",{class:c("icon-currency icon-"+e.type)},null,2),n("span",tl,d(e.title),1)],2),n("span",al,d(e.describe),1)],10,ll)}),128))])),i((t(),a("div",{class:c(["flex-[1] pb-16px px-28px",{"pt-16px":o(X)}])},[i(n("div",nl,[l[15]||(l[15]=n("img",{style:{"margin-right":"10px"},src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAuMDAwMDAwIiBoZWlnaHQ9IjIyLjAwMDAwMCIgdmlld0JveD0iMCAwIDIwIDIyIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4KCTxkZXNjPgoJCQlDcmVhdGVkIHdpdGggUGl4c28uCgk8L2Rlc2M+Cgk8cGF0aCBpZD0icGF0aCIgZD0iTTEzLjM0MDggNS4zNDIxOUMxMy43NDk1IDYuMjkxMzUgMTMuODEwOSA3Ljg1OTg5IDEyLjk2NDkgOC42MTQwMUMxMS41OTE0\t\t\t\t\t\t\t\t\t\t\t\tIDMuMDc5ODYgOC4xNTc3MSAyIDguMTU3NzEgMkM4LjU2NjM1IDQuODEzMzIgNi43MjI5IDcuODky\t\t\t\t\t\t\t\t\t\t\t\tMDkgNC45MTIwNSAxMC4yMTI3QzQuODUwNjUgOS4xMDA2NSA0Ljc4NTQ2IDguMzQ4NTcgNC4xOTQ1\t\t\t\t\t\t\t\t\t\t\t\tOCA3LjIwMjMzQzQuMDY3OTkgOS4yNjM1NSAyLjU3MTc4IDEwLjkwMDUgMi4xMzQ0IDEyLjk2MTdD\t\t\t\t\t\t\t\t\t\t\t\tMS42MDQ5OCAxNS44MDkyIDIuNTcxNzggMTcuODA2MSA2LjI1MjkzIDIwQzUuMDk4MDggMTcuNDgy\t\t\t\t\t\t\t\t\t\t\t\tMyA1LjcyMzQ1IDE2LjA0MDQgNi42Mjg5MSAxNC43MzMzQzcuNTk1NyAxMy4yMjkxIDcuODQ4ODgg\t\t\t\t\t\t\t\t\t\t\t\tMTEuNzg3MyA3Ljg0ODg4IDExLjc4NzNDNy44NDg4OCAxMS43ODczIDguNjI3NjkgMTIuODAwOCA4\t\t\t\t\t\t\t\t\t\t\t\tLjMxODg1IDE0LjQwMzVDOS42MjcxNCAxMi44MzUgOS44ODAzMSAxMC4zMTEyIDkuNjk0MjcgOS4z\t\t\t\t\t\t\t\t\t\t\t\tOTYyN0MxMi42ODg3IDExLjU5MDIgMTQuMDI5NSAxNi40MzQ2IDEyLjI4MzkgMTkuOTM1NkMyMS41\t\t\t\t\t\t\t\t\t\t\t\tMTg0IDE0LjQwNTUgMTQuNTU3IDYuMTkwODMgMTMuMzQwOCA1LjM0MjE5WiIgZmlsbC1ydWxlPSJu\t\t\t\t\t\t\t\t\t\t\t\tb256ZXJvIiBmaWxsPSIjRUMwMjAyIi8+Cgk8ZGVmcy8+Cjwvc3ZnPgo="},null,-1)),n("span",{class:"tips-span",style:{color:"#d98704","padding-right":"10px"},innerHTML:null==(N=o(D))?void 0:N.activityList},null,8,il)],512),[[s,"coupon"!=(null==(S=null==(O=o(D))?void 0:O.activeTypeInfo)?void 0:S.type)&&(null==(U=o(D))?void 0:U.activityList)&&!o(X)]]),"coupon"!==(null==(ae=null==(K=o(D))?void 0:K.activeTypeInfo)?void 0:ae.type)?(t(),a(u,{key:0},[n("span",{class:c(["pay-view-title !mt-12px h-[1.8rem]","".concat(o(X)?"text-center":"")])},"产品周期",2),i((t(),a("div",{class:c(["box","".concat(o(X)?"flex justify-center":"")])},[i(n("div",{class:"switch-cycle-left",onClick:l[0]||(l[0]=(...e)=>o(H)&&o(H)(...e))},[...l[16]||(l[16]=[n("i",{id:"switch-left",class:"svgtofont-el-arrow-left",style:{"font-size":"18px","font-weight":"900"}},null,-1)])],512),[[s,o(E).left]]),n("div",sl,[n("div",ol,[(t(!0),a(u,null,r(o(L).cycleMode.list,(e,i)=>(t(),a("div",{key:i,class:c(["pay-product-cycle btn-box btn-box-2 relative",{active:e.cycle===o(L).cycleMode.activeCycleInfo.cycle}]),onClick:l=>o(q)(e)},[n("div",dl,[l[17]||(l[17]=n("span",null,"￥",-1)),n("span",null,d(e.price),1),n("span",null,"/"+d(e.title),1)]),n("div",ul,"原价:"+d(e.originalPrice)+"元",1),n("div",rl,"低至"+d(e.everyDay)+"元/天",1),e.recommend?(t(),a("div",pl,d(e.recommend),1)):m("",!0)],10,cl))),128)),i(n("div",vl,null,512),[[s,"dev"==(null==(ie=null==(ne=o(D))?void 0:ne.activeTypeInfo)?void 0:ie.type)]])])]),i(n("div",{class:"switch-cycle-right",onClick:l[1]||(l[1]=(...e)=>o(W)&&o(W)(...e))},[...l[18]||(l[18]=[n("i",{id:"switch-right",class:"svgtofont-el-arrow-right",style:{"font-size":"18px","font-weight":"900"}},null,-1)])],512),[[s,o(E).right&&o(L).cycleMode.list.length>4]])],2)),[[xe,o(Q)]]),o(X)?(t(),a("div",Il,[p(ye,{placement:"bottom-start",effect:"light",trigger:"hover",width:"180","popper-class":"el-tooltip-white !p-[8px]"},{reference:v(()=>[...l[28]||(l[28]=[n("span",{class:"btlink"},"了解更多",-1)])]),default:v(()=>[p(ve,{class:"bg-white"})]),_:1})])):(t(),a("div",yl,[l[27]||(l[27]=n("span",{class:"pay-view-title h-[1.8rem]"},"授权数量",-1)),n("div",ml,[n("div",fl,[(t(!0),a(u,null,r(o(L).numsMode.list,(e,l)=>(t(),a("div",{key:l,class:c([{active:e.count===o(L).numsMode.activeNumsInfo.count},"pay-auth-item btn-box"]),onClick:l=>o(F)(e)},[n("span",null,d(e.count)+"台",1),1!=e.discount&&o($).bindUser?(t(),a("span",Ml,d(10*e.discount)+"折 ",1)):m("",!0)],10,xl))),128))]),o(L).numsMode.activeNumsInfo.count>1?(t(),a("p",gl,"购买多台授权会默认减1台用于本机授权，剩余的授权台数以抵扣券的方式发放到当前账号，购买后请切换至抵扣券查看")):m("",!0)]),o(L).enterpriseMode.isHidden?m("",!0):(t(),a("div",{key:0,class:c(["artificial",{active:o(L).enterpriseMode.status}]),onClick:l[4]||(l[4]=b(e=>o(G)(!o(L).enterpriseMode.status),["self"]))},[p(ue,{modelValue:o(L).enterpriseMode.status,"onUpdate:modelValue":l[2]||(l[2]=e=>o(L).enterpriseMode.status=e),onChange:l[3]||(l[3]=e=>o(G)(e))},{default:v(()=>[n("div",hl,[l[22]||(l[22]=n("span",null,"人工运维托管",-1)),n("span",bl,"￥"+d(o(A)),1),n("div",null,[p(ce,{type:"icons",src:"icon-artificial1.svg"}),l[19]||(l[19]=n("span",{class:"ml-[5px]"},"专家技术支持",-1))]),n("div",null,[p(ce,{type:"icons",src:"icon-artificial2.svg"}),l[20]||(l[20]=n("span",{class:"ml-[5px]"},"5分钟内急速响应",-1))]),n("div",null,[p(ce,{type:"icons",src:"icon-artificial3.svg"}),l[21]||(l[21]=n("span",{class:"ml-[5px]"},"问题解决率达99%",-1))])])]),_:1},8,["modelValue"])],2)),i(n("div",{class:c("product-coupon-box cursor-pointer  "+(o(L).couponMode.status?"active":"")),onClick:l[7]||(l[7]=b(e=>o(J)(),["self"]))},[p(ue,{modelValue:o(L).couponMode.status,"onUpdate:modelValue":l[5]||(l[5]=e=>o(L).couponMode.status=e),disabled:o(L).couponMode.disabled,onChange:o(J)},{default:v(()=>[y("优惠券("+d(o(L).couponMode.count)+")",1)]),_:1},8,["modelValue","disabled","onChange"]),p(pe,{modelValue:o(L).couponMode.activeCouponId,"onUpdate:modelValue":l[6]||(l[6]=e=>o(L).couponMode.activeCouponId=e),disabled:o(L).couponMode.disabled,placeholder:o(L).couponMode.count>0?"请选择优惠券":"无可用优惠券",class:"!w-[18rem] coupon-select",onChange:o(Y)},{default:v(()=>[(t(!0),a(u,null,r(o(L).couponMode.list,e=>(t(),f(re,{key:e.id,disabled:o(L).numsMode.activeNumsInfo.price<parseInt(e.val1),label:e.newName,value:"".concat(e.id)},null,8,["disabled","label","value"]))),128))]),_:1},8,["modelValue","disabled","placeholder","onChange"]),o(L).couponMode.endTimeNum>0?(t(),a("div",kl,[n("span",null,d(o(B).d),1),l[23]||(l[23]=y("天",-1)),n("span",null,d(o(B).h),1),l[24]||(l[24]=y("时",-1)),n("span",null,d(o(B).m),1),l[25]||(l[25]=y("分",-1)),n("span",null,d(o(B).s),1),l[26]||(l[26]=y("秒  后失效 ",-1))])):m("",!0)],2),[[s,"dev"!==(null==(oe=null==(se=o(D))?void 0:se.activeTypeInfo)?void 0:oe.type)]]),p(Le)]))],64)):(t(),f(Ze,{key:1}))],2)),[[xe,o(z).status],[xe,o(z).title,"title"],[xe,"large","size"]])])),o(X)?m("",!0):(t(),a("div",Tl,[n("span",{onClick:l[8]||(l[8]=(...e)=>o(R)&&o(R)(...e))},[...l[29]||(l[29]=[n("i",null,null,-1),y("购买未生效",-1)])]),p(me),n("div",wl,[n("span",null,[l[31]||(l[31]=n("i",null,null,-1)),p(fe,{class:"!text-[#AAAFB8]",href:"https://www.bt.cn/admin/product_orders"},{default:v(()=>[...l[30]||(l[30]=[y("申请发票",-1)])]),_:1})]),p(me)]),n("span",{onClick:l[9]||(l[9]=(...e)=>o(R)&&o(R)(...e))},[...l[32]||(l[32]=[n("i",null,null,-1),y("联系客服",-1)])])]))],2)}}}),[["__scopeId","data-v-af29584e"]]),Dl=e({__name:"index",props:{compData:{default:()=>({disablePro:!0,sourceId:"0",plugin:!0,pluginInfo:{title:"",describe:"",pid:0},isHomeBubble:{}})}},emits:["close"],setup(e,{expose:n,emit:i}){const{aliyunEcsLtd:s}=N(),d=Q(),u=e,r=U(),{productInfo:v,emits:y}=l(r),{onCancel:x,init:M,$reset:g}=r,h=i;return y.value=h,C(()=>{M(u.compData)}),D(()=>{g(),sessionStorage.removeItem("PAY-VIEW-INFO-TIME"),"home"===B.currentRoute.value.name&&d.getRecommendInfo()}),n({onCancel:x}),(e,l)=>{var n,i;return t(),a("div",{class:c(["flex w-full h-full","theme-"+(null==(i=null==(n=o(v))?void 0:n.activeTypeInfo)?void 0:i.type)])},[o(s)?m("",!0):(t(),f($,{key:0})),p(Cl,{ref:"productSelectRef"},null,512)],2)}}});export{Dl as default};
