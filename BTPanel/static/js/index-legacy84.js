!function(){function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function n(t){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?e(Object(o),!0).forEach(function(e){r(t,e,o[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):e(Object(o)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))})}return t}function r(e,n,r){return(n=function(e){var n=function(e,n){if("object"!=t(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,n||"default");if("object"!=t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==t(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function o(t){return function(t){if(Array.isArray(t))return i(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return i(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function a(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var a=r&&r.prototype instanceof u?r:u,l=Object.create(a.prototype);return c(l,"_invoke",function(n,r,o){var i,a,c,u=0,l=o||[],f=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,n){return i=e,a=0,c=t,p.n=n,s}};function d(n,r){for(a=n,c=r,e=0;!f&&u&&!o&&e<l.length;e++){var o,i=l[e],d=p.p,m=i[2];n>3?(o=m===r)&&(c=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=t):i[0]<=d&&((o=n<2&&d<i[1])?(a=0,p.v=r,p.n=i[1]):d<m&&(o=n<3||i[0]>r||r>m)&&(i[4]=n,i[5]=r,p.n=m,a=0))}if(o||n>1)return s;throw f=!0,r}return function(o,l,m){if(u>1)throw TypeError("Generator is already running");for(f&&1===l&&d(l,m),a=l,c=m;(e=a<2?t:c)||!f;){i||(a?a<3?(a>1&&(p.n=-1),d(a,c)):p.n=c:p.v=c);try{if(u=2,i){if(a||(o="next"),e=i[o]){if(!(e=e.call(i,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,a<2&&(a=0)}else 1===a&&(e=i.return)&&e.call(i),a<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=t}else if((e=(f=p.n<0)?c:n.call(r,p))!==s)break}catch(e){i=t,a=1,c=e}finally{u=1}}return{value:e,done:f}}}(n,o,i),!0),l}var s={};function u(){}function l(){}function f(){}e=Object.getPrototypeOf;var p=[][r]?e(e([][r]())):(c(e={},r,function(){return this}),e),d=f.prototype=u.prototype=Object.create(p);function m(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,c(t,o,"GeneratorFunction")),t.prototype=Object.create(d),t}return l.prototype=f,c(d,"constructor",f),c(f,"constructor",l),l.displayName="GeneratorFunction",c(f,o,"GeneratorFunction"),c(d),c(d,o,"Generator"),c(d,r,function(){return this}),c(d,"toString",function(){return"[object Generator]"}),(a=function(){return{w:i,m:m}})()}function c(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}c=function(t,e,n,r){function i(e,n){c(t,e,function(t){return this._invoke(e,n,t)})}e?o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(i("next",0),i("throw",1),i("return",2))},c(t,e,n,r)}function s(t,e,n,r,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(r,o)}function u(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){s(i,r,o,a,c,"next",t)}function c(t){s(i,r,o,a,c,"throw",t)}a(void 0)})}}System.register(["./index-legacy103.js?v=1756369731","./utils-lib-legacy.js?v=1756369731","./index-legacy145.js?v=1756369731","./base-lib-legacy.js?v=1756369731","./we-com-legacy.js?v=1756369731","./validator-legacy.js?v=1756369731","./useController-legacy13.js?v=1756369731","./useMethod-legacy11.js?v=1756369731","./ssl-legacy.js?v=1756369731","./column-legacy.js?v=1756369731","./useMethod-legacy10.js?v=1756369731"],function(t,e){"use strict";var r,i,c,s,l,f,p,d,m,y,v,b,h,w,g,x,_,j,S,k,O,C,T,P,L,D,E,A,B,M,R,F,G,q,I,N,z,H,$,K,U,W,Y,J,Q,V,X,Z,tt,et,nt;return{setters:[function(t){r=t._},function(t){i=t.c,c=t.H,s=t.e,l=t.R,f=t.l,p=t.L,d=t.K,m=t.o,y=t.aj,v=t.u,b=t.a6,h=t.d,w=t.a7,g=t.cu,x=t.a8},function(t){_=t._},function(t){j=t.c,S=t.r,k=t.p,O=t.q,C=t.v,T=t.y,P=t.e,L=t.A,D=t.x,E=t.B,A=t.F,B=t.a_,M=t.aC,R=t.M,F=t.f,G=t.aA,q=t.j,I=t.s,N=t.a$,z=t.aM,H=t.t,$=t.aW},function(t){K=t._},function(t){U=t.e,W=t.p},function(t){Y=t.C},function(t){J=t.o},function(t){Q=t.t,V=t.v,X=t.w,Z=t.x},function(t){tt=t.a,et=t.c},function(t){nt=t.r}],execute:function(){var rt={class:"p-16px"},ot={class:"py-52px flex justify-center flex-col items-center"},it={class:"flex mb-16px justify-center"},at={class:"mb-16px"},ct={class:"w-76% rounded-lg overflow-hidden"},st={class:"rounded-lg overflow-hidden text-0"},ut=j({__name:"index",setup:function(t){var e=S([["自动部署概览","deploy-overview.png"]]),n=function(t){return"https://www.bt.cn/Public/new/plugin/ssl-deploy/".concat(t)};return k(u(a().m(function t(){return a().w(function(t){for(;;)if(0===t.n)return t.a(2)},t)}))),function(t,r){var a=i,s=c,u=F,l=G,f=M;return O(),C("div",rt,[T("div",ot,[r[7]||(r[7]=T("div",{class:"mb-12px text-center text-24px font-bold"},"宝塔SSL自动部署",-1)),T("div",it,[r[5]||(r[5]=T("div",{class:"text-center text-14px mr-[10px] color-desc text-[#999]"},"自动部署SSL证书到服务器",-1)),P(a,{href:"https://www.bt.cn/new/wechat_customer",class:"!text-[1.4rem] mr-[10px]"},{default:L(function(){return o(r[2]||(r[2]=[T("img",{src:K,class:"w-[16px] h-[16px]"},null,-1),T("span",null,"联系客服",-1)]))}),_:1}),T("div",{class:"flex items-center mr-[10px]",onClick:r[0]||(r[0]=function(t){return D(U)({name:"SSL证书需求反馈收集",type:28,id:993,isNoRate:!0,softName:"1",isCard:!1})})},o(r[3]||(r[3]=[T("i",{class:"svgtofont-desired !text-[1.6rem] mr-[4px]"},null,-1),T("span",{class:"bt-link !text-[1.4rem]"},"需求反馈",-1)]))),P(a,{href:"https://www.bt.cn/bbs/thread-141273-1-1.html",class:"!text-[1.4rem] mr-[4px]"},{default:L(function(){return o(r[4]||(r[4]=[E(">> 使用文档",-1)]))}),_:1})]),r[8]||(r[8]=T("div",{class:"mb-16px"},[T("ul",{class:"ul-style"},[T("li",null,"自动部署SSL证书到服务器"),T("li",null,"支持宝塔、Let's Encrypt、商用证书"),T("li",null,"支持单域名、多域名、通配符域名")])],-1)),T("div",at,[P(s,{type:"primary",size:"large",class:"!text-[16px] w-[140px]",onClick:r[1]||(r[1]=function(t){return D(W)({sourceId:351,disablePro:!1})})},{default:L(function(){return o(r[6]||(r[6]=[E("立即购买",-1)]))}),_:1})]),T("div",ct,[P(f,{"tab-position":"left",class:"carousel"},{default:L(function(){return[(O(!0),C(A,null,B(D(e),function(t,e){return O(),R(l,{label:t[0],lazy:"",key:e},{default:L(function(){return[T("div",st,[P(u,{src:n(t[1]),class:"max-h-[100%] object-scale-down","preview-src-list":[n(t[1])]},null,8,["src","preview-src-list"])])]}),_:2},1032,["label"])}),128))]}),_:1})])])])}}}),lt=s(ut,[["__scopeId","data-v-6c0be9fc"]]),ft=t("u",q("SSL-DEPLOY-STORE",function(){var t=S(!1);return{deployFormData:S({}),siteList:S([]),certificateDeployTaskList:S([]),isRefreshDeployTaskList:t}})),pt=I(ft()).isRefreshDeployTaskList,dt=function(t,n){f({title:"".concat(t?n.task_name+" - 编辑":"创建","部署任务"),area:48,component:function(){return p(function(){return e.import("./index-legacy396.js?v=1756369731")},void 0,e.meta.url)},showFooter:!0,confirmText:"".concat(t?"保存":"创建"),compData:{isEdit:t,row:n||{}}})},mt=function(){var t=u(a().m(function t(r){return a().w(function(t){for(;;)switch(t.n){case 0:d({loading:"正在获取部署任务详情",request:Q({task_id:r.id}),success:function(t){var o=t.data.msg;f({title:"".concat(r.task_name," 部署状态详情"),area:48,component:function(){return p(function(){return e.import("./index-legacy397.js?v=1756369731")},void 0,e.meta.url)},compData:n({},o)})}});case 1:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}(),yt=[{content:"创建",dropdownClass:"bg-white",splitButton:!0,active:!0,event:function(){dt(!1,{})}}],vt=function(){var t=u(a().m(function t(e){var n,r;return a().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,X(e);case 1:return n=t.v,r=n.data,t.a(2,{data:r.data,total:y(r.page),other:{search_history:[]}});case 2:return t.p=2,t.v,t.a(2,{data:[],total:0,other:{search_history:[]}})}},t,null,[[0,2]])}));return function(e){return t.apply(this,arguments)}}(),bt=[tt(),{label:"名称",prop:"task_name"},{label:"云端任务名",isCustom:!1,render:function(t){return 2===t.access_state?t.synchron_info.synchron_name:"--"}},{label:"证书域名",isCustom:!0,render:function(t){return 2===t.access_state?t.synchron_info.host:"--"}},{label:"证书品牌",isCustom:!1,render:function(t){return 2===t.access_state?t.synchron_info.host_brand:"--"}},{label:"到期时间",isCustom:!0,width:180,prop:"cert_expire_time",render:function(t){return 2===t.access_state?l(t.synchron_info.endtime):"--"}},{label:"网站",isCustom:!0,prop:"sites",width:280,showOverflowTooltip:!0},{label:"最近部署时间",isCustom:!0,width:180,prop:"deploy_time",render:function(t){return t.deploy_time?l(t.deploy_time):"--"}},{label:"最近部署状态",isCustom:!0,prop:"deploy_status",render:function(t){var e={1:P("span",{class:"text-[#20a53a]"},[E("成功")]),0:P("span",null,[E("--")]),"-1":P("span",{class:"text-danger cursor-pointer",onClick:function(){return mt(t)}},[E("失败")])};return e[t.deploy_status]||e[0]}},{label:"接入状态",isCustom:!0,prop:"access_state",render:function(t){var e=new Map([[1,"等待接入"],[2,"成功"],[-1,"失败"]]),n=new Map([[1,"text-warning"],[2,"text-[#20a53a]"],[-1,"text-danger"]]);return P("span",{class:n.get(t.access_state)},[e.get(t.access_state)])}},{label:"操作",fixed:"right",width:120,render:function(t){var e=function(t,e){return P("span",{class:"bt-link",onClick:e},[t])},n=e("编辑",function(){dt(!0,t)}),r=e("删除",function(){return function(t){m({title:"删除部署任务",content:"确定要删除 ".concat(t.task_name," 部署任务吗？"),confirmText:"删除",cancelText:"取消",onConfirm:function(){d({loading:"正在删除部署任务",message:!0,request:V({task_id:t.id}),success:function(t){t.status&&(pt.value=!0)}})}})}(t)}),o=[];return o.push(n),o.push(P(N,{direction:"vertical"},null)),o.push(r),o}}],ht=function(){var t=u(a().m(function t(n,r,i,c){var s,l,m,y;return a().w(function(t){for(;;)switch(t.n){case 0:return s=c.label,l=c.value,m=i.value.map(function(t){return t.id}).join(","),y=function(){var t=u(a().m(function t(e){var n;return a().w(function(t){for(;;)switch(t.n){case 0:n=e,t.n="delete"===n?1:2;break;case 1:return t.a(2,d({loading:"正在删除部署任务",request:Z({task_ids:m}),success:function(t){var e=t.data,n={resultData:[].concat(o(e.faildList),o(e.successList)),resultTitle:"".concat(s,"部署任务"),resultColumn:[{label:"名称",prop:"task_name"},{label:"操作结果",render:function(t){return P("div",{class:t.status?"text-primary":"text-danger"},[P(z("spam"),null,{default:function(){return[t.error_msg]}})])}}]};nt(n)}}));case 2:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}(),t.n=1,f({title:"批量".concat(s,"部署任务"),area:46,component:function(){return p(function(){return e.import("./index-legacy118.js?v=1756369731")},void 0,e.meta.url)},compData:{resultTitle:"批量".concat(s,"部署任务"),resultData:i.value,resultColumn:[{label:"名称",prop:"task_name"},et()],autoTitle:"批量".concat(s,"部署任务")},showFooter:!0,onConfirm:function(){var t=u(a().m(function t(){return a().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,y(l);case 1:pt.value=!0;case 2:return t.a(2)}},t)}));return function(){return t.apply(this,arguments)}}()});case 1:return t.a(2)}},t)}));return function(e,n,r,o){return t.apply(this,arguments)}}(),wt=[{label:"删除",value:"delete",event:ht}],gt=t("o",function(){window.open("https://www.bt.cn/bbs/thread-141973-1-1.html","_blank","noopener,noreferrer")}),xt={key:0},_t={class:"flex items-center"},jt={class:"flex ml-[12px] items-center"},St={class:"flex items-center"},kt={key:1},Ot=j({__name:"index",setup:function(t){var e=v(),n=e.mainHeight,a=e.payment,c=H(a.value).authType,s=I(ft()).isRefreshDeployTaskList,u=x(wt),l=b({request:vt,columns:bt,extension:[w(s),u,g("search",{name:"ssl",key:"get_deploy_list",list:[],showRecommend:!1})]}),f=l.BtTable,p=l.BtPage,d=(l.BtRecommendSearch,l.BtColumn),m=l.BtBatch,y=l.BtSearch;return function(t,e){var a=$,s=_,u=h,l=i,v=r;return"free"!==D(c)?(O(),C("div",xt,[P(a,{type:"warning",class:"!mb-[1.2rem] !p-[1.2rem]",closable:!1,"show-icon":""},{title:L(function(){return o(e[0]||(e[0]=[T("span",{class:"text-[1.3rem]"},[T("span",null,"提示：请先在宝塔官网->SSL模块->自动同步中创建同步任务，请不要泄露同步任务的密钥")],-1)]))}),_:1}),P(v,null,{"header-left":L(function(){return[T("div",_t,[P(s,{options:D(yt)},null,8,["options"]),P(Y,{placement:"right"},{default:L(function(){return[T("div",jt,[P(u,{src:"/static/icons/we-com.svg",class:"mx-[4px] w-[1.5rem] h-[1.5rem]",all:!0}),e[1]||(e[1]=T("span",{class:"bt-link"},"售前客服",-1))])]}),_:1}),P(l,{class:"ml-[12px]",onClick:D(J)},{default:L(function(){return o(e[2]||(e[2]=[T("div",{class:"flex items-center"},[T("span",{class:"svgtofont-desired text-[1.6rem]"}),T("span",null,"需求反馈")],-1)]))}),_:1},8,["onClick"]),P(l,{class:"ml-[12px]",onClick:D(gt)},{default:L(function(){return o(e[3]||(e[3]=[T("div",{class:"flex items-center"},[T("span",{class:"text-[1.2rem]"},">>"),T("span",null,"使用说明")],-1)]))}),_:1},8,["onClick"])])]}),"header-right":L(function(){return[T("div",St,[P(D(y),{type:"ssl-deploy",placeholder:"请输入名称/域名",class:"!w-[270px] mr-[10px]"}),P(D(d))])]}),content:L(function(){return[P(D(f),{"min-height":D(n)},null,8,["min-height"])]}),"footer-left":L(function(){return[P(D(m))]}),"footer-right":L(function(){return[P(D(p))]}),_:1})])):(O(),C("div",kt,[P(lt)]))}}}),Ct=Object.freeze(Object.defineProperty({__proto__:null,default:Ot},Symbol.toStringTag,{value:"Module"}));t("i",Ct)}}})}();
