import{_ as e}from"./index109.js?v=1756369731";import{_ as a}from"./index324.js?v=1756369731";import{p as t,k as l}from"./validator.js?v=1756369731";import{u as n,aq as i,b as s,e as u}from"./utils-lib.js?v=1756369731";import{c as o,g as r,b as c,r as p,as as w,w as m,p as d,aM as f,G as v,H as g,x as b,q as _,v as x,K as y,M as h,C as k,A as j,e as I,P as S}from"./base-lib.js?v=1756369731";import"./index110.js?v=1756369731";import"./index104.js?v=1756369731";import"./column.js?v=1756369731";import"./__commonjsHelpers__.js?v=1756369731";const P=["src"],W=u(o({__name:"index",setup(u){const o=r(()=>c().path),{iframezIndex:W,menuControl:A,routerActive:C,iframeActive:N,mainHeight:H,payment:M}=n(),V=p("/software"),q=p(null),z=p(null),B=p(!1),E=p(null),R=w("pluginWafInfo",{setup:!1,endtime:-1}),T=r(()=>A.value.collapse?"60px":"184px"),D=[["/waf","/btwaf/index"]],G=p(),K=p(!1),L=p("waf"),O=p([{name:"waf",show:!0,meta:{title:"防火墙"}}]),{warn:U}=s(),F=r(()=>{var e,a;return{title:"Nginx防火墙-功能介绍",imgSrc:"/soft_ico/ico-btwaf.png",productSrc:"https://www.bt.cn/new/product_nginx_firewall.html",ps:"Nginx防火墙是保护Web应用程序免受各种网络攻击，检测过滤恶意请求限制访问频率，增强应用程序的安全，易于配置和使用，是保护Web应用程序安全的重要工具之一",source:25,desc:["仅支持Nginx","抵御CC攻击","关键词拦截","拦截恶意扫描","阻止黑客入侵"],tabImgs:[{title:"概览",imgSrc:"https://www.bt.cn/Public/new/plugin/introduce/waf/nginx_firewall_1.png"},{title:"攻击地图",imgSrc:"https://www.bt.cn/Public/new/plugin/introduce/waf/nginx_firewall_2.png"},{title:"攻击报表",imgSrc:"https://www.bt.cn/Public/new/plugin/introduce/waf/nginx_firewall_3.png"},{title:"全局设置",imgSrc:"https://www.bt.cn/Public/new/plugin/introduce/waf/nginx_firewall_4.png"},{title:"站点设置",imgSrc:"https://www.bt.cn/Public/new/plugin/introduce/waf/nginx_firewall_5.png"},{title:"封锁记录",imgSrc:"https://www.bt.cn/Public/new/plugin/introduce/waf/nginx_firewall_6.png"},{title:"操作日志",imgSrc:"https://www.bt.cn/Public/new/plugin/introduce/waf/nginx_firewall_7.png"}],pluginInfo:R.value,isInstall:!(null==(e=R.value)?void 0:e.setup)&&(null==(a=R.value)?void 0:a.endtime)>-1}});m(()=>C.value,async e=>{var a;if(G.value=D.filter(e=>-1!==e.indexOf(C.value))[0]||[],G.value.length){W.value=996;const e=null==(a=E.value)?void 0:a.contentWindow;C.value===G.value[0]&&e&&(null==e?void 0:e.location.pathname)===G.value[1]?e.location.reload():(B.value=!0,z.value=(new Date).getTime(),V.value=G.value[1],N.value=G.value[1])}},{immediate:!0});const J=()=>{var e;const a=null==(e=E.value)?void 0:e.contentWindow,t=null==a?void 0:a.document.getElementById("#app");a&&!t&&(N.value=G.value[1],W.value=998)},Q=()=>{var e;const a=null==(e=E.value)?void 0:e.contentWindow;a&&(a.document.getElementById("#app")||(W.value=998))},X=async e=>{try{if(e.setup){const a=null==e?void 0:e.version;if(!a)return;a.replace(/\./g,"")<955&&(await l({type:"u",name:"btwaf",pluginInfo:e}),setTimeout(()=>{U("当前插件版本过低，请升级防火墙插件版本至9.5.5及以上版本")},1e3))}}catch(a){}};return d(()=>{window.pay=t,(async()=>{if("/waf"===o.value)try{K.value=!0;const e=await i({sName:"btwaf"});R.value=e.data,X(e.data),K.value=!1}catch(e){K.value=!1}})()}),(t,l)=>{var n;const i=f("compatible-load-file"),s=f("compatible-load"),u=a,r=e,c=v("bt-loading");return g((_(),x("div",{class:"w-full",style:y({"min-height":b(H)+"px"}),key:b(z)},[b(B)?(_(),x("div",{key:0,ref_key:"maskRef",ref:q,class:"mask",style:y({left:b(T)})},["/files"===b(C)?(_(),h(i,{key:0})):(_(),h(s,{key:1}))],4)):k("",!0),-1!==b(R).endtime&&(null==(n=b(R))?void 0:n.setup)||"/waf"!==b(o)?(_(),x("iframe",{key:2,ref_key:"frameRef",ref:E,id:"ifrramApp",class:"ifrramApp",style:y({zIndex:b(W)}),src:b(V),onLoad:J,onMouseenter:Q},null,44,P)):(_(),h(r,{key:1,modelValue:b(L),"onUpdate:modelValue":l[0]||(l[0]=e=>S(L)?L.value=e:null),options:b(O)},{default:j(()=>[I(u,{data:b(F),class:"p-[4rem]"},null,8,["data"])]),_:1},8,["modelValue","options"]))],4)),[[c,b(K)],[c,"正在加载页面，请稍后...","title"]])}}}),[["__scopeId","data-v-1184a1c3"]]);export{W as default};
