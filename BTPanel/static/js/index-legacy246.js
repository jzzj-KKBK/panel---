!function(){function e(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?l(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,l){(null==l||l>e.length)&&(l=e.length);for(var t=0,a=Array(l);t<l;t++)a[t]=e[t];return a}System.register(["./utils-lib-legacy.js?v=1756369731","./base-lib-legacy.js?v=1756369731","./store-legacy.js?v=1756369731","./__commonjsHelpers__-legacy.js?v=1756369731","./files-legacy.js?v=1756369731","./validator-legacy.js?v=1756369731","./index-legacy104.js?v=1756369731","./column-legacy.js?v=1756369731","./store-legacy2.js?v=1756369731","./index-legacy101.js?v=1756369731"],function(l,t){"use strict";var a,n,r,i,s,u,c,o,d,m,f,v,p,_,y,g,h,b,x,w,V,j,I,C,A,k,U,z,S,D,F,H,L,M;return{setters:[function(e){a=e.A,n=e.R,r=e.j,i=e.e,s=e.v,u=e.c,c=e.ag,o=e.al},function(e){d=e.c,m=e.s,f=e.g,v=e.q,p=e.v,_=e.y,y=e.x,g=e.e,h=e.z,b=e.B,x=e.F,w=e.a_,V=e.b7,j=e.A,I=e.H,C=e.I,A=e.av,k=e.p,U=e.T,z=e.ac,S=e.D,D=e.a4,F=e.G,H=e.P,L=e.aA},function(e){M=e.a2},null,null,null,null,null,null,null],execute:function(){var t={class:"flex flex-col h-[40rem]"},N={class:"item-card"},O={class:"item"},P={class:"title"},T=["src"],$={class:"con"},q={class:"item-card"},B={class:"item"},E={class:"con"},G={class:"item"},R={class:"con overflow-ellipsis flex-1 break-all"},J={class:"item"},K={class:"con"},Q={class:"item-card"},W={class:"item"},X={class:"con"},Y={class:"item"},Z={class:"con"},ee={class:"item"},le={class:"con"},te={class:"item-card !border-b-0"},ae={class:"item"},ne={class:"con"},re={class:"item"},ie={class:"con"},se=i(d({__name:"base",setup:function(e){var l=M(),i=m(l).fileItem,s=f(function(){return"".concat(i.value.path,"/").concat(i.value.name).replace(/\/\//g,"/")});return function(e,l){var u=r;return v(),p("div",t,[_("div",N,[_("div",O,[_("div",P,[_("img",{class:"w-[5rem] h-[5rem]",src:"/static/images/file_icon/".concat(y(i).is_dir?"folder_win10":"file",".png"),alt:""},null,8,T)]),_("div",$,[g(u,{width:"38rem",modelValue:y(i).name,"onUpdate:modelValue":l[0]||(l[0]=function(e){return y(i).name=e}),disabled:""},null,8,["modelValue"])])])]),_("div",q,[_("div",B,[l[2]||(l[2]=_("div",{class:"title"},"类型：",-1)),_("div",E,h(y(i).st_type||"未知文件"),1)]),_("div",G,[l[3]||(l[3]=_("div",{class:"title"},"文件路径:",-1)),_("div",R,[b(h(y(s))+" ",1),_("i",{class:"svgtofont-icon-copy cursor-pointer hover:text-primary text-[1.4rem] ml-[4px] align-middle",onClick:l[1]||(l[1]=function(e){return y(a)({value:"".concat(y(i).path,"/").concat(y(i).name)})})})])]),_("div",J,[l[4]||(l[4]=_("div",{class:"title"},"大小:",-1)),_("div",K,h(y(i).st_size),1)])]),_("div",Q,[_("div",W,[l[5]||(l[5]=_("div",{class:"title"},"权限:",-1)),_("div",X,h(y(i).mode),1)]),_("div",Y,[l[6]||(l[6]=_("div",{class:"title"},"所属组:",-1)),_("div",Z,h(y(i).group),1)]),_("div",ee,[l[7]||(l[7]=_("div",{class:"title"},"所属用户:",-1)),_("div",le,h(y(i).user),1)])]),_("div",te,[_("div",ae,[l[8]||(l[8]=_("div",{class:"title"},"访问时间:",-1)),_("div",ne,h(y(n)(y(i).st_atime)),1)]),_("div",re,[l[9]||(l[9]=_("div",{class:"title"},"修改时间:",-1)),_("div",ie,h(y(n)(y(i).st_mtime)),1)])])])}}}),[["__scopeId","data-v-a6a1e032"]]),ue={class:"h-[40rem] pt-[.5rem] overflow-hidden"},ce={class:"h-[36.5rem] overflow-y-auto"},oe={class:"title"},de={class:"con"},me=i(d({__name:"detail",setup:function(e){var l=M(),t=m(l),a=(t.fileItem,t.attrList);return function(e,l){return v(),p("div",ue,[l[0]||(l[0]=_("div",{class:"item th"},[_("div",{class:"title"},"属性"),_("div",{class:"con"},"值")],-1)),_("div",ce,[(v(!0),p(x,null,w(y(a),function(e){return v(),p("div",{key:e.title,class:"item"},[_("div",oe,h(e.title),1),_("div",de,h(e.value),1)])}),128))])])}}}),[["__scopeId","data-v-3fe95b32"]]),fe={class:"h-[40rem] pt-[.5rem] overflow-hidden"},ve={class:"h-[36.5rem] overflow-y-auto"},pe={class:"w-[14rem]"},_e={class:"w-[8.5rem]"},ye={class:"con"},ge={class:"w-[9rem] text-right"},he=i(d({__name:"history",setup:function(l){var t=M(),a=m(t).fileItem,r=(t.showHistory,t.recoverHistory);return function(l,t){var i=u,c=A;return v(),p("div",fe,[t[1]||(t[1]=V('<div class="item th" data-v-d6a939e5><div class="w-[14rem]" data-v-d6a939e5>修改时间</div><div class="w-[8.5rem]" data-v-d6a939e5>文件大小</div><div class="con" data-v-d6a939e5>MD5</div><div class="w-[9rem] text-right" data-v-d6a939e5>操作</div></div>',1)),_("div",ve,[(v(!0),p(x,null,w(y(a).history,function(l){return v(),p("div",{key:l.md5,class:"item"},[_("div",pe,h(y(n)(l.st_mtime)),1),_("div",_e,h("".concat(y(s)(l.st_size))),1),_("div",ye,h(l.md5),1),_("div",ge,[g(i,{onClick:function(e){return y(r)(l)}},{default:j(function(){return e(t[0]||(t[0]=[b("恢复",-1)]))}),_:2},1032,["onClick"])])])}),128)),I(g(c,{description:"暂无历史版本"},null,512),[[C,0===y(a).history.length]])])])}}}),[["__scopeId","data-v-d6a939e5"]]),be={class:"h-[40rem] overflow-hidden"},xe={class:"flex justify-around"},we={class:"p-4px"},Ve={class:"p-4px"},je={class:"p-4px"},Ie={class:"flex items-center pl-[3rem]"},Ce=i(d({__name:"auth",setup:function(l){var t=M(),a=m(t).checkList,n=t.ownerOptions,i=t.checkNumber,s=t.changeUser,u=t.setFileAuths,o=t.reversePermission,d=t.getFileAuths;return k(function(){d()}),function(l,t){var d=U,m=z,f=r,h=c,x=S;return v(),p("div",be,[_("div",xe,[_("fieldset",we,[t[9]||(t[9]=_("legend",null,"所有者",-1)),g(m,{class:"flex flex-col",style:{gap:"4px"},modelValue:y(a).owner,"onUpdate:modelValue":t[0]||(t[0]=function(e){return y(a).owner=e}),onChange:y(o)},{default:j(function(){return[g(d,{class:"ml-[1rem]",label:"r"},{default:j(function(){return e(t[6]||(t[6]=[b("读取",-1)]))}),_:1}),g(d,{class:"ml-[1rem]",label:"w"},{default:j(function(){return e(t[7]||(t[7]=[b("写入",-1)]))}),_:1}),g(d,{class:"ml-[1rem]",label:"x"},{default:j(function(){return e(t[8]||(t[8]=[b("执行",-1)]))}),_:1})]}),_:1},8,["modelValue","onChange"])]),_("fieldset",Ve,[t[13]||(t[13]=_("legend",null,"用户组",-1)),g(m,{class:"flex flex-col",style:{gap:"4px"},modelValue:y(a).group,"onUpdate:modelValue":t[1]||(t[1]=function(e){return y(a).group=e}),onChange:y(o)},{default:j(function(){return[g(d,{class:"ml-[1rem]",label:"r"},{default:j(function(){return e(t[10]||(t[10]=[b("读取",-1)]))}),_:1}),g(d,{class:"ml-[1rem]",label:"w"},{default:j(function(){return e(t[11]||(t[11]=[b("写入",-1)]))}),_:1}),g(d,{class:"ml-[1rem]",label:"x"},{default:j(function(){return e(t[12]||(t[12]=[b("执行",-1)]))}),_:1})]}),_:1},8,["modelValue","onChange"])]),_("fieldset",je,[t[17]||(t[17]=_("legend",null,"公共",-1)),g(m,{class:"flex flex-col",modelValue:y(a).public,"onUpdate:modelValue":t[2]||(t[2]=function(e){return y(a).public=e}),style:{gap:"4px"},onChange:y(o)},{default:j(function(){return[g(d,{class:"ml-[1rem]",label:"r"},{default:j(function(){return e(t[14]||(t[14]=[b("读取",-1)]))}),_:1}),g(d,{class:"ml-[1rem]",label:"w"},{default:j(function(){return e(t[15]||(t[15]=[b("写入",-1)]))}),_:1}),g(d,{class:"ml-[1rem]",label:"x"},{default:j(function(){return e(t[16]||(t[16]=[b("执行",-1)]))}),_:1})]}),_:1},8,["modelValue","onChange"])])]),_("div",Ie,[g(f,{width:"6rem",modelValue:y(a).auth,"onUpdate:modelValue":t[3]||(t[3]=function(e){return y(a).auth=e}),onInput:y(i),class:"!w-6rem",type:"number",min:"0",max:"777",oninput:"if(value){value=value.replace(/[^\\d]/g,'')} if(value<=0){value=0} if(value>777){value=777}"},null,8,["modelValue","onInput"]),t[20]||(t[20]=_("div",{class:"mx-[1rem]"},"权限，所有者",-1)),g(h,{modelValue:y(a).user,"onUpdate:modelValue":t[4]||(t[4]=function(e){return y(a).user=e}),options:y(n),class:"!w-[10rem]",onChange:y(s)},null,8,["modelValue","options","onChange"]),g(d,{class:"ml-[1rem]",modelValue:y(a).isDir,"onUpdate:modelValue":t[5]||(t[5]=function(e){return y(a).isDir=e})},{default:j(function(){return e(t[18]||(t[18]=[b("应用到子目录",-1)]))}),_:1},8,["modelValue"]),g(x,{type:"primary",class:"!ml-[2rem]",onClick:y(u)},{default:j(function(){return e(t[19]||(t[19]=[b("应用",-1)]))}),_:1},8,["onClick"])])])}}}),[["__scopeId","data-v-a6fb501f"]]),Ae={class:"p-2rem"};l("default",d({__name:"index",props:{compData:{default:function(){return{fileItem:{},tab:"routine"}}}},setup:function(e){var l=M(),t=m(l),a=t.activeName,n=t.load,r=l.getFileItem,i=l.$reset;return k(function(){r()}),D(function(){i()}),function(e,l){var t=L,r=o,i=F("bt-loading");return I((v(),p("div",Ae,[g(r,{modelValue:y(a),"onUpdate:modelValue":l[0]||(l[0]=function(e){return H(a)?a.value=e:null}),type:"card"},{default:j(function(){return[g(t,{label:"常规",name:"routine",lazy:""},{default:j(function(){return[g(se)]}),_:1}),g(t,{label:"详细信息",name:"detail",lazy:""},{default:j(function(){return[g(me)]}),_:1}),g(t,{label:"历史版本",name:"history",lazy:""},{default:j(function(){return[g(he)]}),_:1}),g(t,{label:"权限",name:"auth",lazy:""},{default:j(function(){return[g(Ce)]}),_:1})]}),_:1},8,["modelValue"])])),[[i,y(n)],[i,"正在获取文件信息，请稍候...","title"]])}}}))}}})}();
