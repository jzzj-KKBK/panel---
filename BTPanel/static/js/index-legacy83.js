!function(){function n(n){return function(n){if(Array.isArray(n))return t(n)}(n)||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function(n,e){if(n){if("string"==typeof n)return t(n,e);var r={}.toString.call(n).slice(8,-1);return"Object"===r&&n.constructor&&(r=n.constructor.name),"Map"===r||"Set"===r?Array.from(n):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(n,e):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=Array(t);e<t;e++)r[e]=n[e];return r}function e(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var n,t,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.toStringTag||"@@toStringTag";function u(e,o,a,i){var u=o&&o.prototype instanceof l?o:l,s=Object.create(u.prototype);return r(s,"_invoke",function(e,r,o){var a,i,u,l=0,s=o||[],f=!1,d={p:0,n:0,v:n,a:p,f:p.bind(n,4),d:function(t,e){return a=t,i=0,u=n,d.n=e,c}};function p(e,r){for(i=e,u=r,t=0;!f&&l&&!o&&t<s.length;t++){var o,a=s[t],p=d.p,v=a[2];e>3?(o=v===r)&&(u=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=n):a[0]<=p&&((o=e<2&&p<a[1])?(i=0,d.v=r,d.n=a[1]):p<v&&(o=e<3||a[0]>r||r>v)&&(a[4]=e,a[5]=r,d.n=v,i=0))}if(o||e>1)return c;throw f=!0,r}return function(o,s,v){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&p(s,v),i=s,u=v;(t=i<2?n:u)||!f;){a||(i?i<3?(i>1&&(d.n=-1),p(i,u)):d.n=u:d.v=u);try{if(l=2,a){if(i||(o="next"),t=a[o]){if(!(t=t.call(a,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,i<2&&(i=0)}else 1===i&&(t=a.return)&&t.call(a),i<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),i=1);a=n}else if((t=(f=d.n<0)?u:e.call(r,d))!==c)break}catch(t){a=n,i=1,u=t}finally{l=1}}return{value:t,done:f}}}(e,a,i),!0),s}var c={};function l(){}function s(){}function f(){}t=Object.getPrototypeOf;var d=[][a]?t(t([][a]())):(r(t={},a,function(){return this}),t),p=f.prototype=l.prototype=Object.create(d);function v(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,f):(n.__proto__=f,r(n,i,"GeneratorFunction")),n.prototype=Object.create(p),n}return s.prototype=f,r(p,"constructor",f),r(f,"constructor",s),s.displayName="GeneratorFunction",r(f,i,"GeneratorFunction"),r(p),r(p,i,"Generator"),r(p,a,function(){return this}),r(p,"toString",function(){return"[object Generator]"}),(e=function(){return{w:u,m:v}})()}function r(n,t,e,o){var a=Object.defineProperty;try{a({},"",{})}catch(n){a=0}r=function(n,t,e,o){function i(t,e){r(n,t,function(n){return this._invoke(t,e,n)})}t?a?a(n,t,{value:e,enumerable:!o,configurable:!o,writable:!o}):n[t]=e:(i("next",0),i("throw",1),i("return",2))},r(n,t,e,o)}function o(n,t,e,r,o,a,i){try{var u=n[a](i),c=u.value}catch(n){return void e(n)}u.done?t(c):Promise.resolve(c).then(r,o)}function a(n){return function(){var t=this,e=arguments;return new Promise(function(r,a){var i=n.apply(t,e);function u(n){o(i,r,a,u,c,"next",n)}function c(n){o(i,r,a,u,c,"throw",n)}u(void 0)})}}System.register(["./index-legacy103.js?v=1756369731","./utils-lib-legacy.js?v=1756369731","./index-legacy145.js?v=1756369731","./useStore-legacy10.js?v=1756369731","./validator-legacy.js?v=1756369731","./base-lib-legacy.js?v=1756369731","./useMethod-legacy12.js?v=1756369731","./useMethod-legacy10.js?v=1756369731","./ssl-legacy.js?v=1756369731","./column-legacy.js?v=1756369731","./index-legacy141.js?v=1756369731","./index.vue_vue_type_style_index_0_scoped_b3c4124c_lang-legacy.js?v=1756369731","./__commonjsHelpers__-legacy.js?v=1756369731","./index-legacy104.js?v=1756369731","./index-legacy124.js?v=1756369731"],function(t,r){"use strict";var o,i,u,c,l,s,f,d,p,v,m,y,h,b,g,w,_,j,x,S,k,C,B,D,O,A,T,N,P,q,E,G,M,R,H,L,F,I,U,Z,$,z,J,K,Q,V,W;return{setters:[function(n){o=n._},function(n){i=n.u,u=n.a6,c=n.a7,l=n.cu,s=n.p,f=n.aj,d=n.bv,p=n.a8,v=n.o,m=n.c,y=n.b},function(n){h=n._},function(n){b=n.g},function(n){g=n.e},function(n){w=n.c,_=n.U,j=n.r,x=n.e,S=n.B,k=n.p,C=n.b,B=n.Z,D=n.q,O=n.M,A=n.A,T=n.y,N=n.x,P=n.n},function(n){q=n.s,E=n.u,G=n.d,M=n.a,R=n.b},function(n){H=n.d,L=n.s},function(n){F=n.l,I=n.m,U=n.n,Z=n.o,$=n.p,z=n.q,J=n.s},function(n){K=n.a,Q=n.u,V=n.c},function(n){W=n.u},null,null,null,null],execute:function(){var r={class:"flex items-center"};t("default",w({__name:"index",setup:function(t){var w=y(),X=i().mainHeight,Y=b().refs,nn=Y.tabActive,tn=Y.isRefreshDomainList,en=Y.typeList;_([]),j([]);var rn=_([]);j(null);var on,an=[{content:"从网站同步",active:!0,event:function(){jn()}},{content:"DNS接口设置",dropdownClass:"bg-white",splitButton:!0,event:function(){G()}}],un=function(){var n=a(e().m(function n(t){var r,o,a;return e().w(function(n){for(;;)switch(n.p=n.n){case 0:return n.p=0,"-1"===(r={p:t.p,type_id:s(t.type)||"all"===t.type?"-1":t.type,search:t.search,limit:t.limit}).type_id&&delete r.type_id,n.n=1,F(r);case 1:return o=n.v,a=o.data,n.a(2,{data:a.data,total:f(a.page),other:{search_history:a.search_history}});case 2:return n.p=2,n.v,n.a(2,{data:[],total:0})}},n,null,[[0,2]])}));return function(t){return n.apply(this,arguments)}}(),cn=function(){var n=a(e().m(function n(t,r,o,i){var u,c,l,s;return e().w(function(n){for(;;)switch(n.n){case 0:return u=i.label,c=i.value,l=new Map([["delete","即将批量删除选中的域名"]]),s=function(){var n=a(e().m(function n(t,r){var o,a;return e().w(function(n){for(;;)switch(n.n){case 0:o=t.domain,a=c,n.n="delete"===a?1:3;break;case 1:return n.n=2,$({domains:o});case 2:return n.a(2,n.v);case 3:return n.a(2)}},n)}));return function(t,e){return n.apply(this,arguments)}}(),n.n=1,t({title:"批量".concat(u),content:"".concat(l.get(c),"，是否继续操作！"),column:[{label:"域名",prop:"domain"},V()],onConfirm:function(){var n=a(e().m(function n(){return e().w(function(n){for(;;)switch(n.n){case 0:return n.n=1,r(s);case 1:return tn.value=!0,n.a(2,!1)}},n)}));return function(){return n.apply(this,arguments)}}()});case 1:return n.a(2)}},n)}));return function(t,e,r,o){return n.apply(this,arguments)}}(),ln=[{label:"设置分类",value:"type",event:function(n,t,e,r){return L(e.value,"domain")}},{label:"配置DNS接口",value:"dnsSet",event:function(n,t,e,r){return H(e.value[0],e.value)}},{label:"设置到期时间",value:"dateSet",event:function(n,t,e,r){return q({},e.value)}},{label:"删除",value:"delete",event:cn}],sn=W({key:"type",name:"域名分类",options:function(){return[{label:"全部分类",value:"-1"}]},event:{get:(on=a(e().m(function n(){var t,r;return e().w(function(n){for(;;)switch(n.n){case 0:return n.n=1,I();case 1:return t=n.v,r=t.data,en.value=r,en.value=d(r,"array",[]).map(function(n){return{label:n.name,value:n.type_id}}),en.value.unshift({label:"全部分类",value:"all"}),n.a(2,en.value)}},n)})),function(){return on.apply(this,arguments)}),add:function(n){return U(n)},delete:function(n){return Z({type_id:n.id})}},ignore:["0"],field:"name",showEdit:!1}),fn=p(ln),dn=u({request:un,columns:[K(),{label:"域名",prop:"domain",width:250},{label:"分组",width:180,isCustom:!0,render:function(n){var t=en.value.find(function(t){return t.value==n.type_id});return t?t.label:"未分组"}},{label:"解析数量",prop:"sbd_count",isCustom:!0},{label:"DNS接口",width:200,isCustom:!0,render:function(n){var t;return x("div",{class:"flex items-center"},[null!==(t=n.dns)&&void 0!==t&&t.dns_name?x("span",null,[n.dns.dns_name]):x("span",{class:"bt-link cursor-pointer",onClick:function(){return H(n)}},[S("未配置")]),x("div",{class:"el-divider el-divider--vertical"},null),x("span",{class:"bt-link cursor-pointer",onClick:function(){return H(n)}},[S("点击配置")])])}},{label:"到期时间",isCustom:!0,render:function(n){var t=(new Date).setHours(0,0,0,0),e=n.endtime?new Date(n.endtime.replace(/-/g,"/")).getTime():0,r=0!==n.endtime&&e<t,o=0!==n.endtime&&e-Date.now()<6048e5;return x("span",{class:"cursor-pointer "+(r?"bt-danger":o?"bt-warn":"bt-link"),onClick:function(){q(n)}},[r?"已过期":0===n.endtime?"未设置":n.endtime])}},Q([{onClick:function(n){n.dns_id?M(n):(w.error("请先配置DNS"),H(n))},title:"快速解析"},{onClick:function(n){var t;null!==(t=n.dns)&&void 0!==t&&t.dns_name?R(n):(w.error("请先配置DNS"),H(n))},title:"解析记录管理",width:120},{onClick:function(n){wn(n)},title:"删除"}])],extension:[sn,fn,c(tn),l("search",{name:"ssl",key:"get_domain_list",list:[],showRecommend:!1})]}),pn=dn.BtTable,vn=dn.BtPage,mn=(dn.BtRefresh,dn.BtTableCategory),yn=dn.BtRecommendSearch,hn=dn.BtColumn,bn=dn.BtBatch;dn.BtErrorMask,dn.refresh;E({closeAlarm:function(n){return _n(n)},delDomain:function(n){return wn(n)}});var gn=function(){g({title:"SSL证书需求反馈收集",type:28,isNoRate:!0,softName:"1",isCard:!1,id:993})},wn=function(){var n=a(e().m(function n(t){var r,o,a,i=arguments;return e().w(function(n){for(;;)switch(n.p=n.n){case 0:if(r=i.length>1&&void 0!==i[1]&&i[1],n.p=1,r){n.n=2;break}return n.n=2,v({title:"删除【".concat(t.domain,"】域名"),content:"删除该域名，是否继续操作？",icon:"warning",width:45});case 2:return r||(o=w.load("正在删除域名，请稍候...")),n.n=3,$({domains:t.domain});case 3:return a=n.v,r||w.request(a),a.status&&!r&&(tn.value=!0),n.a(2,a);case 4:n.p=4,n.v;case 5:return n.p=5,o&&o.close(),n.f(5);case 6:return n.a(2)}},n,null,[[1,4,5,6]])}));return function(t){return n.apply(this,arguments)}}(),_n=function(){var n=a(e().m(function n(t){var r,o,a;return e().w(function(n){for(;;)switch(n.p=n.n){case 0:return r=t.report_id,n.p=1,t.report_id="",n.n=2,v({title:"删除【".concat(t.domain,"】到期告警"),content:"删除该域名到期告警，是否继续操作？",icon:"warning",width:45});case 2:return o=w.load("正在删除域名到期告警，请稍候..."),n.n=3,z({task_id:r});case 3:a=n.v,w.request(a),a.status&&(tn.value=!0),o&&o.close(),n.n=5;break;case 4:n.p=4,n.v&&P(function(){t.report_id=r});case 5:return n.a(2)}},n,null,[[1,4]])}));return function(t){return n.apply(this,arguments)}}(),jn=function(){var n=a(e().m(function n(){var t,r;return e().w(function(n){for(;;)switch(n.p=n.n){case 0:return n.p=0,t=w.load("正在同步域名列表，请稍后..."),n.n=1,J();case 1:r=n.v,w.request(r),r.status&&(tn.value=!0),n.n=3;break;case 2:n.p=2,n.v;case 3:return n.p=3,t&&t.close(),n.f(3);case 4:return n.a(2)}},n,null,[[0,2,3,4]])}));return function(){return n.apply(this,arguments)}}();return k(function(){nn.value=C().name}),B("sslHistoryList",rn),function(t,e){var a=h,i=m,u=o;return D(),O(u,null,{"header-left":A(function(){return[T("div",r,[x(a,{options:an}),e[1]||(e[1]=T("span",{class:"ml-[8px] text-[1.1rem]"},"当前域名列表仅显示顶级域名，配置DNS，可以快速解析域名和申请证书。",-1)),x(i,{class:"ml-[12px] flex items-center",onClick:gn},{default:A(function(){return n(e[0]||(e[0]=[T("div",{class:"flex items-center"},[T("span",{class:"svgtofont-desired text-[1.6rem]"}),T("span",null,"需求反馈")],-1)]))}),_:1})])]}),"header-right":A(function(){return[x(N(mn),{class:"!w-[140px] mr-[10px]"}),x(N(yn),{type:"ssl-domain",placeholder:"请输入域名",class:"!w-[270px] mr-[10px]"}),x(N(hn))]}),content:A(function(){return[x(N(pn),{"min-height":N(X)},null,8,["min-height"])]}),"footer-left":A(function(){return[x(N(bn))]}),"footer-right":A(function(){return[x(N(vn))]}),_:1})}}}))}}})}();
