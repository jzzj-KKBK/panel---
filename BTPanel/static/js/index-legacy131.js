!function(){function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var t,r,o="function"==typeof Symbol?Symbol:{},u=o.iterator||"@@iterator",a=o.toStringTag||"@@toStringTag";function i(e,o,u,a){var i=o&&o.prototype instanceof c?o:c,l=Object.create(i.prototype);return n(l,"_invoke",function(e,n,o){var u,a,i,c=0,l=o||[],f=!1,p={p:0,n:0,v:t,a:v,f:v.bind(t,4),d:function(e,n){return u=e,a=0,i=t,p.n=n,s}};function v(e,n){for(a=e,i=n,r=0;!f&&c&&!o&&r<l.length;r++){var o,u=l[r],v=p.p,d=u[2];e>3?(o=d===n)&&(i=u[(a=u[4])?5:(a=3,3)],u[4]=u[5]=t):u[0]<=v&&((o=e<2&&v<u[1])?(a=0,p.v=n,p.n=u[1]):v<d&&(o=e<3||u[0]>n||n>d)&&(u[4]=e,u[5]=n,p.n=d,a=0))}if(o||e>1)return s;throw f=!0,n}return function(o,l,d){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&v(l,d),a=l,i=d;(r=a<2?t:i)||!f;){u||(a?a<3?(a>1&&(p.n=-1),v(a,i)):p.n=i:p.v=i);try{if(c=2,u){if(a||(o="next"),r=u[o]){if(!(r=r.call(u,i)))throw TypeError("iterator result is not an object");if(!r.done)return r;i=r.value,a<2&&(a=0)}else 1===a&&(r=u.return)&&r.call(u),a<2&&(i=TypeError("The iterator does not provide a '"+o+"' method"),a=1);u=t}else if((r=(f=p.n<0)?i:e.call(n,p))!==s)break}catch(r){u=t,a=1,i=r}finally{c=1}}return{value:r,done:f}}}(e,u,a),!0),l}var s={};function c(){}function l(){}function f(){}r=Object.getPrototypeOf;var p=[][u]?r(r([][u]())):(n(r={},u,function(){return this}),r),v=f.prototype=c.prototype=Object.create(p);function d(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,n(t,a,"GeneratorFunction")),t.prototype=Object.create(v),t}return l.prototype=f,n(v,"constructor",f),n(f,"constructor",l),l.displayName="GeneratorFunction",n(f,a,"GeneratorFunction"),n(v),n(v,a,"Generator"),n(v,u,function(){return this}),n(v,"toString",function(){return"[object Generator]"}),(e=function(){return{w:i,m:d}})()}function n(t,e,r,o){var u=Object.defineProperty;try{u({},"",{})}catch(t){u=0}n=function(t,e,r,o){function a(e,r){n(t,e,function(t){return this._invoke(e,r,t)})}e?u?u(t,e,{value:r,enumerable:!o,configurable:!o,writable:!o}):t[e]=r:(a("next",0),a("throw",1),a("return",2))},n(t,e,r,o)}function r(t,e,n,r,o,u,a){try{var i=t[u](a),s=i.value}catch(t){return void n(t)}i.done?e(s):Promise.resolve(s).then(r,o)}function o(t){return function(){var e=this,n=arguments;return new Promise(function(o,u){var a=t.apply(e,n);function i(t){r(a,o,u,i,s,"next",t)}function s(t){r(a,o,u,i,s,"throw",t)}i(void 0)})}}function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function a(e,n,r){return(n=function(e){var n=function(e,n){if("object"!=t(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,n||"default");if("object"!=t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==t(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}System.register(["./base-lib-legacy.js?v=1756369731","./utils-lib-legacy.js?v=1756369731","./index-legacy104.js?v=1756369731","./validator-legacy.js?v=1756369731"],function(t,n){"use strict";var r,i,s,c,l,f,p,v,d,m,y,b,g,h,w,_,j,O,k,x,P,S,I,T,G,N,q,C,E,D,z,F,R,B;return{setters:[function(t){r=t.c,i=t.W,s=t.r,c=t.X,l=t.g,f=t.w,p=t.p,v=t.G,d=t.q,m=t.M,y=t.A,b=t.H,g=t.x,h=t.v,w=t.y,_=t.e,j=t.z,O=t.J,k=t.C,x=t.be,P=t.bf,S=t.D,I=t.ax},function(t){T=t.aq,G=t.o,N=t.K,q=t.bz,C=t.d,E=t._,D=t.aL,z=t.V,F=t.e},function(t){R=t._},function(t){B=t.l}],execute:function(){var n={class:"flex items-center justify-center"},M={class:"h-[2.2rem] w-[2.2rem] flex overflow-hidden justify-center items-center status-icon <2xl:hidden"},W={class:"<2xl:hidden"},A=function(t){return t.stop="停止",t.start="启动",t.restart="重启",t.reload="重载",t}(A||{}),H=r({__name:"index",props:i({pluginInfo:{default:function(){return{title:"",name:"defalut",status:!1,version:"",admin:!1,setup:!1,s_version:"",s_status:!1}}},pluginName:{default:"defalut"},isRequest:{type:Boolean,default:!0}},{pluginInfo:{default:{title:"",name:"",status:!0,version:"",admin:!1,s_version:""}},pluginInfoModifiers:{}}),emits:["update:pluginInfo"],setup:function(t){var r=t,i=s(!1),F=s(!1),H=s(0),J=s(!1),K=c(t,"pluginInfo"),L=l(function(){return A[K.value.s_status?"stop":"start"]});f(function(){return r.pluginInfo},function(t){if(i.value=!1,!r.isRequest){if(z(t,"s_status"))K.value=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach(function(e){a(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},t);else{var e=t.title_en,n=t.name,o=t.version,s=t.admin,c=t.s_version,l=t.status;K.value={title:e,name:n,status:l,version:o,admin:s,s_version:c,s_status:l}}i.value=!0}},{immediate:!0,deep:!0});var V=function(){var t=o(e().m(function t(){var n,o;return e().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,F.value=!0,t.n=1,T({sName:r.pluginInfo.name||r.pluginName});case 1:n=t.v,o=n.data,K.value=o,J.value=!0,t.n=3;break;case 2:t.p=2,t.v,K.value.s_status=!1,J.value=!0;case 3:return t.p=3,F.value=!1,i.value=!1,t.f(3);case 4:return t.a(2)}},t,null,[[0,2,3,4]])}));return function(){return t.apply(this,arguments)}}(),X=function(){var t=o(e().m(function t(){var n,r,o;return e().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,n=["nginx","apache","openlitespeed"].includes(K.value.name)?"web":"pureftpd"===K.value.name?"pure-ftpd":K.value.name,t.n=1,D({name:n});case 1:r=t.v,o=r.data,setTimeout(function(){K.value=o,J.value=!0},100),t.n=3;break;case 2:t.p=2,t.v,K.value.status=!1;case 3:return t.a(2)}},t,null,[[0,2]])}));return function(){return t.apply(this,arguments)}}(),$=function(){B({name:K.value.name})},Q=function(){var t=o(e().m(function t(n){var u,a;return e().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,u=A[n],a=r.pluginInfo.s_version,t.n=1,G({title:u+a,icon:"warning-filled",content:"你确定要".concat(u).concat(a,"服务，是否继续？")});case 1:return t.n=2,N({loading:F,request:q({name:a,type:n}),message:!0,success:function(){var t=o(e().m(function t(){return e().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,X();case 1:J.value=!0;case 2:return t.a(2)}},t)}));return function(){return t.apply(this,arguments)}}()});case 2:t.n=4;break;case 3:t.p=3,t.v;case 4:return t.a(2)}},t,null,[[0,3]])}));return function(e){return t.apply(this,arguments)}}(),U=function(){H.value=document.body.clientWidth};return p(function(){(r.pluginInfo.title||r.pluginName)&&r.isRequest&&V(),U(),window.onresize=U}),function(t,e){var r=R,o=C,u=E,a=S,s=I,c=v("bt-loading");return d(),m(s,{placement:"top-start",width:"redis"===K.value.name?140:200,class:"","popper-class":"white-tips-popover",trigger:"hover"},{reference:y(function(){return[b((d(),h("div",x(P(t.$attrs)),[g(i)?(d(),m(a,{key:0,type:K.value.s_status?"default":"danger",class:"plugin-status-btn",plain:"",onClick:$},{default:y(function(){return[w("div",{class:O(["h-full inline-block flex items-center",K.value.s_status?"hover:text-primary":"hover:text-danger"])},[w("span",M,[_(o,{src:"/static/icons/soft/ico-".concat(K.value.name||t.pluginName||"defalut",".svg"),class:"inline-block",all:!0},null,8,["src"])]),w("span",null,j(K.value.title),1),w("span",W," "+j(K.value.version),1),_(u,{icon:"icon-"+(K.value.s_status?"start":"stop"),class:O(["ml-[4px]",K.value.s_status?"!text-primary":"!text-danger"])},null,8,["icon","class"])],2)]}),_:1},8,["type"])):k("",!0)],16)),[[c,g(F)],[c,"small","size"]])]}),default:y(function(){return[w("div",n,[w("span",{class:"bt-link",onClick:e[0]||(e[0]=function(t){return Q(K.value.s_status?"stop":"start")})},j(g(L)),1),_(r),w("span",{class:"bt-link",onClick:e[1]||(e[1]=function(t){return Q("restart")})},"重启"),_(r),w("span",{class:"bt-link",onClick:e[2]||(e[2]=function(t){return Q("reload")})},"重载"),"redis"!==K.value.name?(d(),m(r,{key:0})):k("",!0),"redis"!==K.value.name?(d(),h("span",{key:1,class:"bt-link",onClick:e[3]||(e[3]=function(t){return g(B)({name:K.value.name})})},"告警设置")):k("",!0)])]}),_:1},8,["width"])}}});t("B",F(H,[["__scopeId","data-v-bdc02221"]]))}}})}();
