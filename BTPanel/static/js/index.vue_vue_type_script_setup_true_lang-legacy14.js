!function(){function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t){return function(t){if(Array.isArray(t))return n(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return n(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach(function(e){o(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function o(e,n,r){return(n=function(e){var n=function(e,n){if("object"!=t(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,n||"default");if("object"!=t(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==t(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function u(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var u=r&&r.prototype instanceof s?r:s,c=Object.create(u.prototype);return i(c,"_invoke",function(n,r,a){var o,u,i,s=0,c=a||[],p=!1,f={p:0,n:0,v:t,a:v,f:v.bind(t,4),d:function(e,n){return o=e,u=0,i=t,f.n=n,l}};function v(n,r){for(u=n,i=r,e=0;!p&&s&&!a&&e<c.length;e++){var a,o=c[e],v=f.p,d=o[2];n>3?(a=d===r)&&(i=o[(u=o[4])?5:(u=3,3)],o[4]=o[5]=t):o[0]<=v&&((a=n<2&&v<o[1])?(u=0,f.v=r,f.n=o[1]):v<d&&(a=n<3||o[0]>r||r>d)&&(o[4]=n,o[5]=r,f.n=d,u=0))}if(a||n>1)return l;throw p=!0,r}return function(a,c,d){if(s>1)throw TypeError("Generator is already running");for(p&&1===c&&v(c,d),u=c,i=d;(e=u<2?t:i)||!p;){o||(u?u<3?(u>1&&(f.n=-1),v(u,i)):f.n=i:f.v=i);try{if(s=2,o){if(u||(a="next"),e=o[a]){if(!(e=e.call(o,i)))throw TypeError("iterator result is not an object");if(!e.done)return e;i=e.value,u<2&&(u=0)}else 1===u&&(e=o.return)&&e.call(o),u<2&&(i=TypeError("The iterator does not provide a '"+a+"' method"),u=1);o=t}else if((e=(p=f.n<0)?i:n.call(r,f))!==l)break}catch(e){o=t,u=1,i=e}finally{s=1}}return{value:e,done:p}}}(n,a,o),!0),c}var l={};function s(){}function c(){}function p(){}e=Object.getPrototypeOf;var f=[][r]?e(e([][r]())):(i(e={},r,function(){return this}),e),v=p.prototype=s.prototype=Object.create(f);function d(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,i(t,a,"GeneratorFunction")),t.prototype=Object.create(v),t}return c.prototype=p,i(v,"constructor",p),i(p,"constructor",c),c.displayName="GeneratorFunction",i(p,a,"GeneratorFunction"),i(v),i(v,a,"Generator"),i(v,r,function(){return this}),i(v,"toString",function(){return"[object Generator]"}),(u=function(){return{w:o,m:d}})()}function i(t,e,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(t){a=0}i=function(t,e,n,r){function o(e,n){i(t,e,function(t){return this._invoke(e,n,t)})}e?a?a(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(o("next",0),o("throw",1),o("return",2))},i(t,e,n,r)}function l(t,e,n,r,a,o,u){try{var i=t[o](u),l=i.value}catch(t){return void n(t)}i.done?e(l):Promise.resolve(l).then(r,a)}function s(t){return function(){var e=this,n=arguments;return new Promise(function(r,a){var o=t.apply(e,n);function u(t){l(o,r,a,u,i,"next",t)}function i(t){l(o,r,a,u,i,"throw",t)}u(void 0)})}}System.register(["./utils-lib-legacy.js?v=1756369731","./base-lib-legacy.js?v=1756369731","./index-legacy418.js?v=1756369731","./form-item-legacy.js?v=1756369731","./useController-legacy6.js?v=1756369731","./useStore-legacy4.js?v=1756369731","./site-legacy.js?v=1756369731","./validator-legacy.js?v=1756369731"],function(t,n){"use strict";var r,o,i,l,c,p,f,v,d,y,m,g,h,_,x,w,b,j,S,P,E,O,k,T,C,F,V,A,N,q,D,I,J,L,U,G,M,B,R,H,$,X,z,K,Q,W,Y,Z;return{setters:[function(t){r=t.K,o=t.M,i=t.at,l=t.o,c=t.fj,p=t.G,f=t.l,v=t.L,d=t.a7,y=t.r,m=t.bg,g=t.j},function(t){h=t.j,_=t.s,x=t.r,w=t.k,b=t.c,j=t.ay,S=t.p,P=t.q,E=t.v,O=t.y,k=t.B,T=t.e,C=t.x,F=t.P,V=t.A,A=t.C,N=t.g,q=t.al,D=t.D,I=t.T},function(t){J=t.B},function(t){L=t.l,U=t.n},function(t){G=t.n},function(t){M=t.u,B=t.S},function(t){R=t.setJavaStaticFile,H=t.getPythonPortStatus,$=t.getPortStatus,X=t.removeServerProxy,z=t.bindExtranet,K=t.unbindExtranet,Q=t.addServerProxy,W=t.modifyServerProxy,Y=t.addPythonServerProxy},function(t){Z=t.f}],execute:function(){var tt,et,nt,rt=h("SITE-EXTERNAL-MAP-STORE",function(){var t=M(),e=t.siteInfo,n=t.siteType,a=x(!1),l=function(){var t=s(u().m(function t(n){var a,o,i,l;return u().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,a=n.status,o=n.index,i=n.path,t.n=1,r({loading:"正在设置静态文件...",request:R({status:a?1:0,index:o,path:i,project_name:e.value.name}),message:!0});case 1:return l=t.v,t.a(2,{status:l.status,msg:l.msg});case 2:return t.p=2,t.v,t.a(2,{status:!1,msg:"设置静态文件失败"})}},t,null,[[0,2]])}));return function(e){return t.apply(this,arguments)}}(),c=function(){var t=s(u().m(function t(){var r,a;return u().w(function(t){for(;;)switch(t.p=t.n){case 0:if(t.p=0,"python"!==n.value){t.n=2;break}return t.n=1,H({project_name:e.value.name});case 1:a=t.v,t.n=4;break;case 2:return t.n=3,$({project_name:e.value.name});case 3:a=t.v;case 4:if(r=a,Array.isArray(r.data.data)){t.n=5;break}return t.a(2,{data:[],total:0,other:{}});case 5:return t.a(2,{data:r.data.data,total:r.data.data.length,other:{}});case 6:return t.p=6,t.v,t.a(2,{data:[],total:0,other:{}})}},t,null,[[0,6]])}));return function(){return t.apply(this,arguments)}}(),p=function(){var t=s(u().m(function t(e){var n;return u().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,r({loading:"正在删除反向代理映射...",request:X(e),message:!0});case 1:return n=t.v,t.a(2,{status:n.status,msg:n.msg});case 2:return t.p=2,t.v,t.a(2,{status:!1,msg:"删除代理失败"})}},t,null,[[0,2]])}));return function(e){return t.apply(this,arguments)}}(),f=function(){var t=s(u().m(function t(e,r){var a,i,l,s,c,p,f;return u().w(function(t){for(;;)switch(t.p=t.n){case 0:return a=r.status,i=o.load("正在修改状态，请稍后..."),t.p=1,l=n.value,s=a?z:K,t.n=2,s(e,l);case 2:return c=t.v,p=c.data,f=p.msg||p.data||p.error_msg,t.a(2,{status:p.status,msg:f});case 3:return t.p=3,t.v,t.a(2,{status:!1,msg:"修改状态失败"});case 4:return t.p=4,i.close(),t.f(4);case 5:return t.a(2)}},t,null,[[1,3,4,5]])}));return function(e,n){return t.apply(this,arguments)}}(),v=function(){var t=s(u().m(function t(e,a){var o,l,s,c;return u().w(function(t){for(;;)switch(t.p=t.n){case 0:t.p=0,o=function(){},s=!0,t.n=s===("python"===n.value)?1:s===a?2:s===!a?3:4;break;case 1:return o=Y,t.a(3,4);case 2:return o=W,t.a(3,4);case 3:return o=Q,t.a(3,4);case 4:return t.n=5,r({loading:"正在操作中，请稍后...",request:o(e)});case 5:return l=t.v,t.a(2,{msg:l.msg,status:l.status});case 6:t.p=6,c=t.v,i(c);case 7:return t.a(2)}},t,null,[[0,6]])}));return function(e,n){return t.apply(this,arguments)}}();return{isRefreshPortList:a,setStaticFileEvent:l,getJavaPortData:c,deleteProxyEvent:p,changeStatusEvent:f,saveProxyMapEvent:v}}),at=M(),ot=(at.activeType,at.siteInfo),ut=at.siteType,it=(at.rowData,B()),lt=(it.getFileEvent,it.saveFileEvent,it.setSiteInfo),st=it.getProjectConfig,ct=it.jumpTabEvent,pt=_(rt()).isRefreshPortList,ft=rt(),vt=ft.setStaticFileEvent,dt=ft.deleteProxyEvent,yt=(ft.getJavaPortData,ft.saveProxyMapEvent),mt=ft.changeStatusEvent,gt=w({status:null===(tt=ot.value)||void 0===tt||null===(tt=tt.project_config)||void 0===tt||null===(tt=tt.static_info)||void 0===tt?void 0:tt.status,index:(null===(et=ot.value)||void 0===et||null===(et=et.project_config)||void 0===et||null===(et=et.static_info)||void 0===et?void 0:et.index)||"index.html",path:(null===(nt=ot.value)||void 0===nt||null===(nt=nt.project_config)||void 0===nt||null===(nt=nt.static_info)||void 0===nt?void 0:nt.path)||"",popup:!1}),ht=x(!1),_t=x(!1),xt=x(!1),wt=function(){var t=s(u().m(function t(e){var n;return u().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,vt(e);case 1:return(n=t.v).status&&(gt.popup=!1,bt()),t.a(2,n.status)}},t)}));return function(e){return t.apply(this,arguments)}}(),bt=function(){var t=s(u().m(function t(){var e,n,r,a,o,i;return u().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,e=ot.value,n=e.project_type,r=e.name,a="python"===n?{name:r}:{project_name:r},t.n=1,st(a);case 1:(o=t.v).status&&o.data.name&&(i=o.data.project_config,ht.value=!!i.bind_extranet,_t.value="springboot"!==i.java_type&&"java"===n,i&&lt(o.data)),t.n=3;break;case 2:return t.p=2,t.v,t.a(2,{status:!1,msg:"获取域名信息失败"});case 3:return t.a(2)}},t,null,[[0,2]])}));return function(){return t.apply(this,arguments)}}(),jt=function(){var t=s(u().m(function t(e){var n,r;return u().w(function(t){for(;;)switch(t.n){case 0:return n={proxy_id:e.proxy_id,site_name:ot.value.name},t.n=1,dt(n);case 1:return(r=t.v).status&&(pt.value=!0),t.a(2,r.status)}},t)}));return function(e){return t.apply(this,arguments)}}(),St=function(t){return"".concat(t,"/").replace(/\s+/g,"").replace(/\/\//g,"/")},Pt=function(t){var e,n,r,o={python:{site_name:ot.value.name,proxy_port:t.proxy_port,status:t.status?1:0},java:a(a({},t),{},{status:t.status?1:0,site_name:ot.value.name,rewrite:JSON.stringify(t.rewrite),add_headers:JSON.stringify((e=t.add_headers,n=e.split("\n").filter(function(t){return""!==t}),r=[],n.forEach(function(t){var e=t.split("=");r.push({k:e[0],v:e[1]})}),r))})}[ut.value];return o.isEdit||delete o.proxy_id,delete o.isEdit,o},Et=function(){var t=s(u().m(function t(e){var n,r,a,s,c,p,f,v;return u().w(function(t){for(;;)switch(t.p=t.n){case 0:if(t.p=0,"java"===(n=ut.value)){t.n=1;break}return ht.value=!e,t.n=1,l({width:40,title:"外网映射",content:"".concat(e?"开启":"关闭","外网映射后，").concat(e?"可以通过绑定域名进行访问":"已绑定域名将取消关联访问","，是否继续操作？"),icon:"warning-filled"});case 1:return r=ot.value,a=r.name,s=r.project_config,c={python:{data:JSON.stringify({name:a})},java:{data:JSON.stringify({project_name:a})},default:{data:JSON.stringify({project_name:a,domains:s.domains})}},p=c[n]||c.default,t.n=2,mt(p,{status:e});case 2:f=t.v,o.request(f),f.status&&(bt(),pt.value=!0),Ot(f),t.n=4;break;case 3:t.p=3,v=t.v,i(v);case 4:return t.a(2)}},t,null,[[0,3]])}));return function(e){return t.apply(this,arguments)}}(),Ot=function(t){var e=ut.value;if("java"===e&&t.msg.includes("域名")){ht.value=!1;var n=function(){ct("domain")};o.msg({message:"".concat(t.msg,'，<span class="text-primary cursor-pointer go-domains">前往添加域名</span>'),duration:3e3,dangerouslyUseHTMLString:!0,type:"error",onClose:function(){n&&window.removeEventListener("click",n)}}),n&&window.addEventListener("click",n,{once:!0})}else if("java"!==e){var r,a,u,i,l;t.status||t.data.status?o.success((null===(r=t.data)||void 0===r?void 0:r.msg)||(null===(a=t.data)||void 0===a?void 0:a.data)||t.msg):o.error((null===(u=t.data)||void 0===u?void 0:u.error_msg)||(null===(i=t.data)||void 0===i?void 0:i.msg)||(null===(l=t.data)||void 0===l?void 0:l.data))}else o.request(t)},kt=function(){var t=s(u().m(function t(e,n){var r,a,i;return u().w(function(t){for(;;)switch(t.p=t.n){case 0:if(null===(r=ot.value.project_config)||void 0===r||null===(r=r.static_info)||void 0===r||!r.status||"/"!==e.value.proxy_dir){t.n=1;break}return o.error("项目已存在根路由【/】配置，无法设置该代理目录"),t.a(2,!1);case 1:return t.n=2,n();case 2:if(e.value.rewrite.src_path=e.value.proxy_dir,t.p=3,e.value.status||!e.value.proxy_id){t.n=4;break}return xt.value=!1,t.a(2,jt(e.value));case 4:return e.value.rewrite.src_path=St(e.value.rewrite.src_path),e.value.rewrite.target_path=St(e.value.rewrite.target_path),a=Pt(e.value),t.n=5,yt(a,e.value.isEdit);case 5:return i=t.v,o.request(i),i.status&&(xt.value=!1,pt.value=!0),t.a(2,i.status);case 6:t.n=8;break;case 7:t.p=7,t.v;case 8:return t.a(2)}},t,null,[[3,7]])}));return function(e,n){return t.apply(this,arguments)}}(),Tt={class:"flex flex-col"},Ct={class:"flex items-center"},Ft={key:0},Vt={key:0,class:"flex items-center"},At={class:"mt-[8px] leading-8 text-[1.2rem] list-disc ml-[20px]"},Nt={key:0,class:"text-danger"};t("_",b({__name:"index",setup:function(t,r){var i,h=r.expose,w=_(B()),b=w.siteType,M=w.siteInfo,R=_(rt()).isRefreshPortList,H=rt().getJavaPortData,$=j("popupClose"),X=x(!1),z=c({request:(i=s(u().m(function t(){return u().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,H();case 1:return t.a(2,t.v)}},t)})),function(){return i.apply(this,arguments)}),columns:[G(),{label:"防火墙状态",prop:"fire_wall",width:200,render:function(t){var e,r;return T("span",{onClick:function(){null===t.fire_wall?f({title:"端口规则",area:44,component:function(){return v(function(){return n.import("./add-port-rule-legacy.js?v=1756369731")},void 0,n.meta.url)},compData:a(a({},null===t.fire_wall?{port:t.port,isEdit:!1,noNps:!0}:a(a({},t.fire_wall),{},{isEdit:!0,noNps:!0})),{},{refreshFn:function(){bt(),Q()}}),showFooter:!0}):o.msg({message:T("span",null,[k("请前往系统防火墙模块修改，"),T("span",{class:"text-primary cursor-pointer go-firewall",onClick:tt},[k("立即前往")])]),duration:2e3,dangerouslyUseHTMLString:!0,type:"error"})},class:(null===t.fire_wall||"drop"===(null===(e=t.fire_wall)||void 0===e?void 0:e.Strategy)?"text-danger":"text-primary")+" cursor-pointer"},[null===t.fire_wall?"未配置":"accept"===(null===(r=t.fire_wall)||void 0===r?void 0:r.Strategy)?"放行":"禁止"])}},{label:"外网映射",prop:"nginx_proxy",showOverflowTooltip:!1,render:function(t){var e,n,r,a,o;return ht.value?T("div",{class:"flex"},[T("span",{onClick:function(){var e={isEdit:!1,proxy_dir:"",proxy_id:"",proxy_port:"",site_name:"",rewrite:{status:!1,src_path:"",target_path:""},add_headers:"",status:!0};null!==t.nginx_proxy?(e.isEdit=!0,e.proxy_id=t.nginx_proxy.proxy_id,e.proxy_dir=t.nginx_proxy.proxy_dir,e.proxy_port=t.nginx_proxy.proxy_port,e.site_name=t.nginx_proxy.site_name,e.status=!!t.nginx_proxy.status,"python"!==b.value&&(e.rewrite=t.nginx_proxy.rewrite,e.add_headers=t.nginx_proxy.add_headers.map(function(t){return"".concat(t.k,"=").concat(t.v)}).join("\n"))):(e.isEdit=!1,e.proxy_port=t.port),"python"===b.value&&(e.proxy_dir="/"),at(e)},class:(null===t.nginx_proxy||0===(null===(e=t.nginx_proxy)||void 0===e?void 0:e.status)?"text-danger":"text-primary")+" cursor-pointer max-w-[26rem] truncate",title:null!==t.nginx_proxy&&null!==(n=t.nginx_proxy)&&void 0!==n&&n.status?"已开启，代理路由："+(null===(r=t.nginx_proxy)||void 0===r?void 0:r.proxy_dir):""},[null===t.nginx_proxy?"未配置":null!==(a=t.nginx_proxy)&&void 0!==a&&a.status?"已开启，代理路由："+(null===(o=t.nginx_proxy)||void 0===o?void 0:o.proxy_dir):"已停止"])," "]):"请先点击上方启用外网映射后再使用"}}],extension:[d(R)]}),K=z.BtTable,Q=z.refresh,W=z.config,Y=function(t,e){return{type:"custom",render:function(e){return e.value.hasOwnProperty("status")||(e.value.status=!1),T(m,{label:"开启代理"},{default:function(){return[T(I,{modelValue:t.value.status,"onUpdate:modelValue":function(e){return t.value.status=e}},null)]}})}}},tt=function(){$(),y.push({path:"/firewall/system"})},et=function(){var t=s(u().m(function t(e){var n,r;return u().w(function(t){for(;;)switch(t.n){case 0:if(!e){t.n=1;break}nt(),t.n=3;break;case 1:return t.n=2,l({title:"确定要关闭静态文件吗？",content:"关闭静态文件后，项目将无法访问静态文件"});case 2:wt({status:!1,index:(null===(n=M.value)||void 0===n||null===(n=n.project_config)||void 0===n||null===(n=n.static_info)||void 0===n?void 0:n.index)||"index.html",path:(null===(r=M.value)||void 0===r||null===(r=r.project_config)||void 0===r||null===(r=r.static_info)||void 0===r?void 0:r.path)||""});case 3:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}(),nt=function(t){var e,n;if(!ht.value)return o.error("请先点击上方启用外网映射后再使用");if(W.data.some(function(t){var e;return"/"===(null===(e=t.nginx_proxy)||void 0===e?void 0:e.proxy_dir)}))return M.value.project_config.static_info.status=!1,void o.error("项目已存在根路由【/】配置,无法设置静态文件");var r,a=p({data:{status:!0,index:(null===(e=M.value)||void 0===e||null===(e=e.project_config)||void 0===e||null===(e=e.static_info)||void 0===e?void 0:e.index)||"index.html",path:(null===(n=M.value)||void 0===n||null===(n=n.project_config)||void 0===n||null===(n=n.static_info)||void 0===n?void 0:n.path)||""},options:function(t){var e;return t.value.status=(null===(e=M.value.project_config)||void 0===e||null===(e=e.static_info)||void 0===e?void 0:e.status)||!1,N(function(){return[{type:"input",label:"默认文档",key:"index",attrs:{placeholder:"请输入内容，用,分割",class:"w-[26rem]"},rules:[{validator:function(e,n,r){t.value.status&&""===n?r(new Error("默认文档不能为空")):r()}}]},L("文件路径","path",{attrs:{style:"width: 26rem"},rules:[{validator:function(e,n,r){t.value.status&&""===n?r(new Error("文件路径不能为空")):r()}}]},function(){Z({type:"dir",path:t.value.path,change:function(e){t.value.path=e}})})]})},submit:(r=s(u().m(function t(e,n){return u().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,n();case 1:return t.a(2,wt(e.value))}},t)})),function(t,e){return r.apply(this,arguments)})}),i=a.BtForm,l=a.submit;f({title:"设置静态文件【".concat(M.value.name,"】"),area:65,showFooter:!0,component:function(){return T(i,{class:"p-2rem"},null)},onConfirm:l,onCancel:function(){bt()}})},at=function(t){var n=p({data:t,options:function(t){return N(function(){return[Y(t),{type:"input",label:"代理路由",key:"proxy_dir",attrs:{width:"26rem",placeholder:"请输入内容，用,分割",disabled:"python"===b.value,onInput:function(){}},rules:[{required:!0,message:"请输入代理路由",trigger:"blur"}]},{type:"custom",render:function(e){return T(m,{label:"代理端口",prop:"proxy_port"},{default:function(){return[T(J,{modelValue:t.value.proxy_port,"onUpdate:modelValue":function(e){return t.value.proxy_port=e},"controls-position":"right",class:"!w-[10rem]"},null)]}})},rules:{proxy_port:[{required:!0,message:"请输入代理端口",trigger:"blur"},{validator:function(t,e,n){/^\d+$/.test(e)?e<0||e>65535?n(new Error("端口号范围为0-65535")):n():n(new Error("端口号必须为数字，范围0-65535"))}}]}}].concat(e("python"!==b.value?[U(X)].concat(e(X.value?[{type:"textarea",label:"自定义头部",key:"add_headers",attrs:{placeholder:"自定义头部，1行1个,例如：\nX-Client-IP=$remote_addr",class:"!w-[26rem]",width:"26rem",rows:4,resize:"none"}},{type:"custom",render:function(){return T(m,{label:"路由重写"},{default:function(){return[T(I,{modelValue:t.value.rewrite.status,"onUpdate:modelValue":function(e){return t.value.rewrite.status=e}},null)]}})}}].concat(e(t.value.rewrite.status?[{type:"custom",render:function(){return T(m,{label:"后端路由",prop:"targetPath"},{default:function(){return[T(g,{modelValue:t.value.rewrite.target_path,"onUpdate:modelValue":function(e){return t.value.rewrite.target_path=e},class:"w-[25rem]",placeholder:"后端路由,例如：".concat(t.value.proxy_dir,"/xxx/").replace(/ /g,"").replace(/\/\//g,"/")},null)]}})}}]:[])):[])):[]))})},submit:kt}),r=n.BtForm,a=n.submit;f({title:"".concat(t.isEdit?"修改反向代理映射":"添加反向代理映射"),area:50,showFooter:!0,component:function(){return T(r,{class:"p-2rem"},null)},onConfirm:a})};return S(bt),h({init:function(){bt(),Q()}}),function(t,n){var r,a=q,o=D;return P(),E("div",Tt,[O("div",Ct,[n[3]||(n[3]=k(" 外网映射 ",-1)),T(a,{modelValue:C(ht),"onUpdate:modelValue":n[0]||(n[0]=function(t){return F(ht)?ht.value=t:null}),class:"ml-[8px]",disabled:C(_t),onChange:C(Et)},null,8,["modelValue","disabled","onChange"])]),"java"===C(b)||"python"===C(b)?(P(),E("div",Ft,[T(C(K),{class:"my-2rem",maxHeight:450}),"springboot"===(null===(r=C(M).project_config)||void 0===r?void 0:r.java_type)?(P(),E("div",Vt,[n[5]||(n[5]=k(" 静态文件： ",-1)),O("span",null,[T(a,{modelValue:C(M).project_config.static_info.status,"onUpdate:modelValue":n[1]||(n[1]=function(t){return C(M).project_config.static_info.status=t}),onChange:et},null,8,["modelValue"])]),T(o,{class:"!ml-[2rem]",type:"default",onClick:n[2]||(n[2]=function(t){return nt()})},{default:V(function(){return e(n[4]||(n[4]=[k(" 设置静态文件 ",-1)]))}),_:1})])):A("",!0)])):A("",!0),O("ul",At,[n[6]||(n[6]=O("li",null,"如果您的是HTTP项目，且需要外网通过80/443访问，请开启外网映射",-1)),n[7]||(n[7]=O("li",null,"开启外网映射前，请到【域名管理】中至少添加1个域名",-1)),"java"===C(b)?(P(),E("li",Nt,"外网映射开启后可在配置文件中查看修改服务器（Nginx/Apache）的配置文件")):A("",!0)])])}}}))}}})}();
