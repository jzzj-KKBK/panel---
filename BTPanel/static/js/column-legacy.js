!function(){function t(n){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(n)}function n(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),e.push.apply(e,r)}return e}function e(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?n(Object(o),!0).forEach(function(n){r(t,n,o[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):n(Object(o)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(o,n))})}return t}function r(n,e,r){return(e=function(n){var e=function(n,e){if("object"!=t(n)||!n)return n;var r=n[Symbol.toPrimitive];if(void 0!==r){var o=r.call(n,e||"default");if("object"!=t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"==t(e)?e:e+""}(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function o(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var t,n,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",u=e.toStringTag||"@@toStringTag";function l(e,r,o,u){var l=r&&r.prototype instanceof c?r:c,s=Object.create(l.prototype);return i(s,"_invoke",function(e,r,o){var i,u,l,c=0,s=o||[],p=!1,f={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(n,e){return i=n,u=0,l=t,f.n=e,a}};function d(e,r){for(u=e,l=r,n=0;!p&&c&&!o&&n<s.length;n++){var o,i=s[n],d=f.p,v=i[2];e>3?(o=v===r)&&(l=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=t):i[0]<=d&&((o=e<2&&d<i[1])?(u=0,f.v=r,f.n=i[1]):d<v&&(o=e<3||i[0]>r||r>v)&&(i[4]=e,i[5]=r,f.n=v,u=0))}if(o||e>1)return a;throw p=!0,r}return function(o,s,v){if(c>1)throw TypeError("Generator is already running");for(p&&1===s&&d(s,v),u=s,l=v;(n=u<2?t:l)||!p;){i||(u?u<3?(u>1&&(f.n=-1),d(u,l)):f.n=l:f.v=l);try{if(c=2,i){if(u||(o="next"),n=i[o]){if(!(n=n.call(i,l)))throw TypeError("iterator result is not an object");if(!n.done)return n;l=n.value,u<2&&(u=0)}else 1===u&&(n=i.return)&&n.call(i),u<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=t}else if((n=(p=f.n<0)?l:e.call(r,f))!==a)break}catch(n){i=t,u=1,l=n}finally{c=1}}return{value:n,done:p}}}(e,o,u),!0),s}var a={};function c(){}function s(){}function p(){}n=Object.getPrototypeOf;var f=[][r]?n(n([][r]())):(i(n={},r,function(){return this}),n),d=p.prototype=c.prototype=Object.create(f);function v(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,i(t,u,"GeneratorFunction")),t.prototype=Object.create(d),t}return s.prototype=p,i(d,"constructor",p),i(p,"constructor",s),s.displayName="GeneratorFunction",i(p,u,"GeneratorFunction"),i(d),i(d,u,"Generator"),i(d,r,function(){return this}),i(d,"toString",function(){return"[object Generator]"}),(o=function(){return{w:l,m:v}})()}function i(t,n,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}i=function(t,n,e,r){function u(n,e){i(t,n,function(t){return this._invoke(n,e,t)})}n?o?o(t,n,{value:e,enumerable:!r,configurable:!r,writable:!r}):t[n]=e:(u("next",0),u("throw",1),u("return",2))},i(t,n,e,r)}function u(t,n,e,r,o,i,u){try{var l=t[i](u),a=l.value}catch(t){return void e(t)}l.done?n(a):Promise.resolve(a).then(r,o)}System.register(["./utils-lib-legacy.js?v=1756369731","./base-lib-legacy.js?v=1756369731","./index-legacy104.js?v=1756369731"],function(t,n){"use strict";var r,i,l,a,c,s,p,f,d,v,b,m,y,h,g,w,k,x,C,O,j,P,S,V,_,H,B;return{setters:[function(t){r=t.bj,i=t.aA,l=t.r,a=t.bk,c=t.b,s=t.bl,p=t.A,f=t._,d=t.p,v=t.aV,b=t.v,m=t.bm},function(t){y=t.c,h=t.r,g=t.aG,w=t.w,k=t.g,x=t.e,C=t.B,O=t.m,j=t.T,P=t.an,S=t.ao,V=t.ap,_=t.aB,H=t.i},function(t){B=t._}],execute:function(){var n=c(),T=function(){var t,e=(t=o().m(function t(e,r){var i,u,l,c;return o().w(function(t){for(;;)switch(t.p=t.n){case 0:return i=e.id,u=e.ps,l=n.load("正在修改备注信息，请稍后..."),t.p=1,t.n=2,a({id:i,table:r,ps:u});case 2:c=t.v,n.request(c),t.n=4;break;case 3:t.p=3,t.v;case 4:return t.p=4,l.close(),t.f(4);case 5:return t.a(2)}},t,null,[[1,3,4,5]])}),function(){var n=this,e=arguments;return new Promise(function(r,o){var i=t.apply(n,e);function l(t){u(i,r,o,l,a,"next",t)}function a(t){u(i,r,o,l,a,"throw",t)}l(void 0)})});return function(t,n){return e.apply(this,arguments)}}(),q=t("o",function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"path";r(),i("Path",t[n]),l.push({path:"/files"})}),E=y({props:{onClickPwd:{type:Function,required:!0},modelValue:{type:String,default:""}},setup:function(t){var n=s("copy",16),e=h(!1),r=h(!0);g(function(){r.value=!!t.modelValue}),w(function(){return t.modelValue},function(){e.value=!1});var o=k(function(){return e.value?"svgtofont-icon-eye-close":"svgtofont-icon-browse"}),i=function(){return t.onClickPwd()};return function(){return x("div",null,[r.value?x("div",{class:"flex items-center"},[e.value?x("span",{class:"block truncate max-w-[140px]"},[t.modelValue]):x("span",null,[C("**********")]),x("i",{class:"mx-4 cursor-pointer text-[#333] text-[15px] ".concat(o.value),title:"显示密码",onClick:function(){return e.value=!e.value}},null),x("i",{id:n,"data-clipboard-text":t.modelValue,class:"svgtofont-el-document-copy cursor-pointer text-[#333] text-[15px] copy svgtofont-icon-copy",title:"复制密码",onClick:function(){return n=t.modelValue,void p({value:n});var n}},null)]):x("div",null,[x("span",{class:"text-[#999]"},[C("无法获取密码，请点击"),x("span",{class:"text-danger cursor-pointer",onClick:i},[C("改密")]),C("重置密码!")])])])}}}),N=t("B",y({name:"BtTableStatus",props:{data:{type:Array,default:function(){return["未启动","运行中"]}},isIcon:{type:Boolean,default:!0},modelValue:{type:[Boolean,Number],default:!0}},setup:function(t,n){var e=n.attrs;return function(){return x("span",O({class:"bt-".concat(t.modelValue?"link":"danger")},e),[x("span",{class:"flex items-center"},[x("span",null,[t.data[Number(t.modelValue)]]),t.isIcon&&x("i",{class:"ml-[2px] text-[1.2rem] svgtofont-icon-".concat(t.modelValue?"start":"stop")},null)])])}}}));t("a",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"page",key:"id",isHide:!1,disableds:function(){}};return{type:"CheckBox",width:"all"===t.type?42:36,isHide:t.isHide,renderHeader:function(n,e){var r=[{label:"全选当前页",command:"page-select"},{label:"全选所有项",command:"all-select"},{label:"清空选中项",command:"clear-select"}],o=e.checkAllCheckbox,i=e.checkAllIndeterminate,u=e.handleAllChange,l=e.handleCommandChange;return x("div",{class:"flex items-center justify-center"},[x(j,{modelValue:o.value,"onUpdate:modelValue":function(t){return o.value=t},indeterminate:i.value,onChange:function(n){return u(n,!1,t.key)},class:"!mr-[4px]"},null),"all"===(null==t?void 0:t.type)?x(P,{onCommand:l},{default:function(){return x(f,{icon:"el-arrow-down"},null)},dropdown:function(){var t,n;return x(S,null,"function"==typeof(n=t=r.map(function(t){return x(V,t,{default:function(){return[t.label]}})}))||"[object Object]"===Object.prototype.toString.call(n)&&!H(n)?t:{default:function(){return[t]}})}}):null])},render:function(n,e,r){var o,i=r.handleScopeChange,u=(null===(o=t.disabled)||void 0===o?void 0:o.call(t,n))||!1;return u&&(n.disable_check=!0),x(j,{modelValue:n.keys_scopes_status,"onUpdate:modelValue":function(t){return n.keys_scopes_status=t},disabled:u,onChange:function(r){return i(r,n,e,t.key||"")}},null)}}}),t("d",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{prop:"path"};return{label:t.label||"根目录",prop:t.prop,minWidth:t.width||200,isCustom:!0,render:function(n){return x("span",{class:"flex !justify-start inline-block bt-link leading-[16px]",onClick:function(){return q(n,t.prop)},title:"点击打开目录"},[n[t.prop]])}}}),t("e",function(t,n){return{width:22,type:"toping",label:t.label||"",subtitle:"置顶",className:"cols-toping",render:function(e){n||(n="sort");var r=t.param||n||"",o=Boolean(e[r])&&"0"!==e[r];return x("div",{onClick:function(){return t.event(e,o?"untop":"top")}},[x("i",{style:"color:".concat(o?"#EFB958":"#C7BDA9"),class:"svgtofont-icon-top cursor-pointer text-[1.6rem] ".concat(o?"":"table-no-top opacity-80")},null)])}}}),t("g",function(t){return{label:"备注",prop:"ps",isCustom:!0,showOverflowTooltip:!1,width:t.width||120,minWidth:t.minWidth||120,render:function(n){var e,r={lt:"<",gt:">",nbsp:" ",amp:"&",quot:'"',"#x27":"'",apos:"'"},o=t.prop?t.prop:"ps",i=(null===(e=n[o])||void 0===e?void 0:e.replace(/&(lt|gt|nbsp|amp|quot|#x27);/gi,function(t,n){return r[n]}))||"";return x("input",{type:"text",value:i,class:"bt-table-input w-full",placeholder:"点击编辑备注",onBlur:function(e){var r=e.target;i!==(null==r?void 0:r.value)&&(i=r.value,t.request?t.request(n,i):T({id:n.id,ps:i},t.table))},onKeyup:function(t){if("Enter"===t.key){var n=t.target;null==n||n.blur()}}},null)}}}),t("b",function(t){return d(t.prop)&&(t.prop="status"),d(t.data)&&(t.data=["未启动","运行中"]),{label:"状态",prop:t.prop,width:t.width||80,minWidth:t.sortable?80:70,isCustom:!0,sortable:t.sortable||!1,render:function(n){var e=!!Number(n[t.prop]);return t.function?t.function(n):(["running","start"].includes(n[t.prop])&&(e=!0),["exited","stop","created"].indexOf(n[t.prop])>-1&&(e=!1),x(N,{modelValue:e,data:t.data,onClick:function(){return t.event(n)}},null))}}}),t("i",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{prop:"password"};return{label:"密码",prop:t.prop||"password",minWidth:130,width:t.width,isCustom:!0,render:function(n){return x(E,{modelValue:n[t.prop||"password"],onClickPwd:function(){return t.event&&t.event(n)}},null)}}}),t("k",function(t){return{label:"容量",isLtd:!0,minWidth:80,width:t.width||"auto",isCustom:null==t||!t.hasOwnProperty("isCustom")||t.isCustom,render:function(n){var e;if("PHPMOD"===(null==n||null===(e=n.project_config)||void 0===e?void 0:e.type))return"--";var r=!1,o=n.quota,i=!(null!=o&&o.size);if(i)return x("span",{class:"bt-link",onClick:function(){t.event(n,i)}},["未配置"]);var u=1024*o.size*1024,l=Number((o.used/u*100).toFixed(2))||0,a=o.used/1024/1024>0?(o.used/1024/1024).toFixed(2):"0.00";return o.size>0&&o.used>=u&&(r=!0),r?x("span",{class:"bt-link !text-danger",onClick:function(){t.event(n,i)}},["容量已满"]):x("span",{class:l>80?"el-link--danger bt-link":"el-link--primary bt-link",onClick:function(){t.event(n,i)}},[a,C(" / "),o.size,C(" MB")])}}}),t("f",function(t){return{label:"备份",prop:t.prop,minWidth:180,isCustom:!0,render:function(n){return x("div",{class:"flex items-center"},[x("span",{class:n.backup_count>0?"text-primary cursor-pointer":"text-[#f0ad4e] cursor-pointer",onClick:function(){return t.event?t.event(n,"back"):null}},[n.backup_count>0?"有备份(".concat(n.backup_count,")"):"点击备份"]),x("span",{class:"mx-[4px]"},[C("|")]),x("span",{class:"bt-link",onClick:function(){return t.event?t.event(n,"import"):null}},[C("导入")])])}}}),t("j",function(t){return e(e({isCustom:!0},t),{},{render:function(n){return x("span",{class:"bt-link",onClick:function(){return t.event?t.event(n):null},title:t.title},[t.text])}})}),t("u",function(t,n){var e=0;return v(t)||(e=t.reduce(function(t,n){return t+(n.width||40)},0)+20),{label:(null==n?void 0:n.label)||"操作",align:"right",fixed:n&&"boolean"==typeof n.fixed?n.fixed:"right",width:(null==n?void 0:n.width)||e,render:function(n,e){var r=[],o=t;return v(t)&&(o=t(n)),o.forEach(function(t,i){if(t.render)return r.push(t.render(n,e));if(t.isHide&&t.isHide(n))return!1;if(t.isMore){var u=t.menu.filter(function(t){return"function"==typeof t.isHide?!t.isHide(n):!t.isHide});return r.push(x(P,{class:"h-[1.6rem]",onCommand:function(e){return t.onClick(e,n)}},{default:function(){return x("span",{class:"text-primary flex items-center"},[C("更多"),x("span",{class:"svgtofont-el-arrow-down"},null)])},dropdown:function(){return x(S,null,{default:function(){return u.map(function(t){return x(V,{command:t.key},{default:function(){return[t.title]}})})}})}})),!1}var l="function"==typeof t.isHide&&t.isHide(n);r.push(x("span",{onClick:function(r){return t.onClick(n,e,r)},title:t.title,class:l?"hidden":"bt-link"},[t.title])),o.length-1!==i&&r.push(x(B,null,null))}),_("div",r)}}}),t("h",function(t){return{label:"大小",prop:t.prop,width:t.width||80,render:function(n){return b(Number(n[t.prop||"size"]),!0)}}}),t("c",function(){return{label:"操作结果",prop:"batchStatus",width:124,showOverflowTooltip:!0,render:function(t){var n={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#x27;":"'"},e=function(){switch(t.batchStatus){case 0:return"等待执行";case 1:return"执行成功";case 2:return(null==t?void 0:t.message)||(null==t?void 0:t.msg)||"执行失败"}return"-"}().replace(/&amp;|&lt;|&gt;|&quot;|&#39;|&#x27;/g,function(t){return n[t]});return x("div",{innerHTML:e,class:"inline-clock truncate !w-[10rem] ".concat(t.batchStatus?1===t.batchStatus?"text-primary":"text-danger":"text-warning")},null)}}}),t("l",function(t){return{label:t.label||"状态",prop:t.prop||"status",width:80,render:function(n){var e=t.prop||"status";return x(m,{modelValue:n[e],"onUpdate:modelValue":function(t){return n[e]=t},onChange:function(e){return t.event(e,n)},size:t.size||"small"},null)}}})}}})}();
