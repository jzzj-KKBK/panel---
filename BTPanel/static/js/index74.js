import{u as e,aM as s,a6 as t,a7 as l,L as a,a8 as o,e as r}from"./utils-lib.js?v=1756369731";import{_ as i}from"./index103.js?v=1756369731";import{_ as n}from"./index.vue_vue_type_script_setup_true_lang6.js?v=1756369731";import{B as p}from"./index131.js?v=1756369731";import{c,s as m,r as u,w as _,e as d,B as f,p as x,n as v,q as h,v as y,x as b,A as k,y as j,C,M as B}from"./base-lib.js?v=1756369731";import{a as g,g as I,u as R}from"./column.js?v=1756369731";import{b as w,d as S,e as T,f as L,u as P}from"./useController6.js?v=1756369731";import{S as q}from"./useStore4.js?v=1756369731";import{S as A,o as E,a as O,b as D,g as M,d as V,c as W,e as F,m as H,r as z}from"./useController12.js?v=1756369731";import"./__commonjsHelpers__.js?v=1756369731";import"./index130.js?v=1756369731";import"./index104.js?v=1756369731";import"./validator.js?v=1756369731";import"./index.vue_vue_type_style_index_0_scoped_b3c4124c_lang.js?v=1756369731";import"./site.js?v=1756369731";const G={key:0,class:"flex items-center"},J={key:1,class:"flex items-center"},K=r(c({__name:"index",setup(r){e();const{getSiteList:c}=q(),{activeType:K,isRefreshList:N}=m(q()),{proxyType:Q}=m(A()),U=u({});_(T,e=>{(null==e?void 0:e.pluginInfo)&&(U.value=e.pluginInfo)},{immediate:!0,deep:!0});const{BtOperation:X}=s({options:[{type:"button",label:"添加反代",active:!0,onClick:D},{type:"custom",render:()=>d(p,{class:"ml-1rem",isRequest:!1,pluginInfo:U.value},null)}]}),Y=o([P(),{label:"删除项目",value:"delete",event:async(e,s,t,l,a)=>{H(t.value,a)}}]),{BtTable:Z,BtSearch:$,BtRefresh:ee,BtPage:se,BtColumn:te,BtBatch:le,refresh:ae}=t({request:c,columns:[g(),w({label:"域名",type:K.value,openPlugin:E,onClick:e=>{O(e)}}),{label:"代理地址",prop:"proxy_pass",minWidth:220,isCustom:!0,render:e=>d("span",{class:"flex justify-start whitespace-pre-line bt-link cursor-pointer"},[d("span",{class:"full-path",onClick:()=>{O(e,"urlProxy")}},[e.proxy_pass])])},I({table:"sites",width:200}),S({onClick:e=>O(e,"ssl")}),R([{onClick:e=>E(e,"monitor"),title:"统计"},{onClick:e=>E(e,"bt_waf"),title:"WAF"},{title:"设置",onClick:e=>O(e)},{title:"删除",onClick:e=>V(e)}])],extension:[Y,l(N)],empty:()=>d("span",null,[f("您的列表为空，您可以"),d("span",{class:"bt-link",onClick:D},[f("添加一个项目")])])}),{BtTable:oe,refresh:re,BtRefresh:ie,BtColumn:ne,BtSearch:pe}=t({request:M,columns:[{label:"端口",prop:"listen_port",width:120},{label:"协议",prop:"protocol",isCustom:!0,width:80},{label:"目标",prop:"proxy_pass"},{label:"备注",prop:"ps"},R([{onClick:W,title:"设置"},{onClick:e=>F(e,re),title:"删除"}])],extension:[l(N)]});return _(()=>z.value,e=>{e&&(re(),"tcp"!==Q.value&&(Q.value="tcp"),z.value=!1)}),x(()=>{v(()=>{a(()=>import("./index349.js?v=1756369731"),__vite__mapDeps([]),import.meta.url),a(()=>import("./index350.js?v=1756369731"),__vite__mapDeps([]),import.meta.url)})}),(e,s)=>{const t=i;return h(),y("div",null,[d(n,{ref_key:"envRef",ref:T,onInit:b(ae)},null,8,["onInit"]),d(t,null,{"header-left":k(()=>[d(b(X)),j("div",{class:"flex items-center ml-1rem",onClick:s[0]||(s[0]=(...e)=>b(L)&&b(L)(...e))},[...s[1]||(s[1]=[j("i",{class:"svgtofont-desired text-[1.6rem]"},null,-1),j("span",{class:"bt-link"},"需求反馈",-1)])])]),"header-right":k(()=>[s[2]||(s[2]=j("div",{class:"flex items-center mr-[10px]"},null,-1)),"http"===b(Q)?(h(),y("div",G,[d(b($),{class:"mr-[10px]",placeholder:"请输入域名或备注"}),d(b(ee),{class:"mr-[10px]"}),d(b(te))])):C("",!0),"tcp"===b(Q)?(h(),y("div",J,[d(b(pe),{class:"mr-[10px]",placeholder:"请输入端口"}),d(b(ie),{class:"mr-[10px]"}),d(b(ne))])):C("",!0)]),content:k(()=>["http"===b(Q)?(h(),B(b(Z),{key:0})):(h(),B(b(oe),{key:1}))]),"footer-left":k(()=>["http"===b(Q)?(h(),B(b(le),{key:0})):C("",!0)]),"footer-right":k(()=>["http"===b(Q)?(h(),B(b(se),{key:0})):C("",!0)]),_:1})])}}}),[["__scopeId","data-v-ee6e6603"]]);export{K as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
