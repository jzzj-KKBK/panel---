import{R as e,o as s,K as a,l as o,L as l,e as t}from"./utils-lib.js?v=1756369731";import{_ as n}from"./index413.js?v=1756369731";import{c as r,s as i,r as c,g as m,p,a4 as u,q as d,v,e as f,A as x,y as j,F as y,a_ as I,J as S,x as b,z as w,aW as _}from"./base-lib.js?v=1756369731";import{u as g}from"./useStore12.js?v=1756369731";import{t as E,b as T,c as C,d as A,m as L}from"./usePayController.js?v=1756369731";import{applyCertOrderRenw as M}from"./site.js?v=1756369731";import{u as P}from"./useStore11.js?v=1756369731";import"./__commonjsHelpers__.js?v=1756369731";import"./useStore4.js?v=1756369731";import"./useController13.js?v=1756369731";import"./index103.js?v=1756369731";import"./index104.js?v=1756369731";import"./column.js?v=1756369731";import"./useController6.js?v=1756369731";import"./validator.js?v=1756369731";import"./useController5.js?v=1756369731";import"./useMethod5.js?v=1756369731";import"./useController4.js?v=1756369731";import"./useStore10.js?v=1756369731";const D={class:"px-[3rem] py-[2rem] pb-[24px]"},V={class:"ssl-pay-type"},W=["onClick"],q={class:"p-[24px] flex flex-col justify-center items-center"},R={class:"mt-[16px] text-[1.4rem] font-bold flex items-center"},Y={class:"text-[2.5rem] ml-[8px] text-orange"},k={class:"ssl-pay-info"},H={class:"ssl-pay-info-line"},h={class:"ssl-pay-info-line"},z={class:"mt-[16px] flex items-center justify-center"},F=t(r({__name:"pay-bus-ssl",props:{compData:{default:{oid:0,wxcode:"",alicode:"",qq:"",orderInfo:{},productInfo:{}}}},emits:["close"],setup(t,{emit:r}){const{productInfo:F,orderInfo:N}=g(),{sslIsRefresh:J}=i(P()),K=t,O=r,B=[{name:"微信支付",label:"wxcode"},{name:"支付宝支付",label:"alicode"}],G=c(!1),Q=m(()=>K.compData[E.value]),U=()=>{var e;e={productInfo:F.value,orderInfo:N.value},o({title:"支付成功",area:[60,60],component:()=>l(()=>import("./pay-bus-success2.js?v=1756369731"),__vite__mapDeps([]),import.meta.url),compData:e}),J.value=!0,O("close")},X=async e=>{e&&sessionStorage.setItem("PAY-SSL-VIEW-TIME","".concat(e));const o=sessionStorage.getItem("PAY-SSL-VIEW-TIME");if(o){if(parseInt("".concat((new Date).getTime()/1e3-Number(o)),10)>600&&G.value)return sessionStorage.removeItem("PAY-SSL-VIEW-TIME"),s({title:"支付超时",icon:"warning",content:"由于您长时间未操作，支付超时，请刷新网页重新购买！",onConfirm:()=>{close(),window.location.reload()},onCancel:()=>{close(),window.location.reload()}});G.value||sessionStorage.removeItem("PAY-SSL-VIEW-TIME")}await L(),T.value?(C.value&&clearTimeout(C.value),C.value=setTimeout(()=>{X()},3e3)):F.value.isRenew?await a({request:M({oid:F.value.oid}),message:!0}):U()};return p(async()=>{G.value=!0,X((new Date).getTime()/1e3)}),u(()=>{T.value=!1,G.value=!1,clearTimeout(C.value)}),(s,a)=>{var o,l,t,r;const i=_,c=n;return d(),v("div",D,[f(i,{type:"error",closable:!1},{title:x(()=>[...a[0]||(a[0]=[j("span",{class:"text-[1.2rem]"},[j("i",{calss:"svgtofont-el-warning-outline text-[1.2rem]"}),j("span",null," 禁止含有诈骗、赌博、色情、木马、病毒等违法违规业务信息的站点申请SSL证书，如有违反，撤销申请，停用账号。 ")],-1)])]),_:1}),j("div",V,[(d(),v(y,null,I(B,e=>j("span",{key:e.name,class:S("ssl-pay-tab-item ".concat(e.label===b(E)?"isActive":"")),onClick:s=>b(A)(e.label,!0)},[j("span",{class:S("pay-icon ".concat(e.label))},null,2),j("span",null,w(e.name),1)],10,W)),64))]),j("div",q,[f(c,{value:b(Q),size:160},null,8,["value"]),j("span",R,[a[1]||(a[1]=j("span",null,"总计",-1)),j("span",Y,w(null==(o=b(F))?void 0:o.totalPrice.toFixed(2))+" 元 ",1)])]),j("div",k,[j("div",H,[a[2]||(a[2]=j("span",{class:"w-[5rem]"},"商品名称",-1)),j("span",null,w("".concat((null==(l=b(F))?void 0:l.productName)+(null==(t=b(F))?void 0:t.years),"年").concat((null==(r=b(F))?void 0:r.install)?"(包含部署服务)":"")),1)]),j("div",h,[a[3]||(a[3]=j("span",{class:"w-[5rem]"},"下单时间",-1)),j("span",null,w(b(e)(b(N).addtime,"yyyy-MM-dd HH:mm:ss")),1)])]),j("div",z,[a[4]||(a[4]=j("span",{class:"scan-icon"},null,-1)),j("span",null,w("wxcode"===b(E)?"微信扫一扫支付":"支付扫一扫支付"),1)])])}}}),[["__scopeId","data-v-20d1c6a0"]]);export{F as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
