import{G as e,W as s}from"./utils-lib.js?v=1756369731";import{c as a,s as t,ay as r,r as o,g as l,e as i,ai as m,aj as p,p as n,q as u,v as c,x as d,i as j}from"./base-lib.js?v=1756369731";import{b as v,k as b,h as g}from"./form-item.js?v=1756369731";import{D as f,t as x,s as h,e as y,b as C,d as _}from"./index200.js?v=1756369731";import"./__commonjsHelpers__.js?v=1756369731";import"./index104.js?v=1756369731";import"./index103.js?v=1756369731";import"./column.js?v=1756369731";import"./useController4.js?v=1756369731";import"./validator.js?v=1756369731";import"./useController5.js?v=1756369731";import"./site.js?v=1756369731";import"./useStore4.js?v=1756369731";import"./useController6.js?v=1756369731";import"./useMethod5.js?v=1756369731";const w={class:"p-[2rem]"};const q=a({__name:"php-template-form",setup(a,{expose:q}){const O=f(),{versionOptions:k,extendsupOptions:H,isEdit:P}=t(O),S=r("popupClose",()=>{}),V=[{content:"扩展支持多选，请选择合适使用的扩展"},{content:"不建议选择项目用不上的扩展，构建慢且浪费空间"}],B=o(),{BtForm:D,submit:E,param:F}=e({data:x,options:e=>l(()=>[v("名称","name",{attrs:{class:"!w-[320px]",placeholder:"请输入环境名称",disabled:P.value},rules:[{required:!0,message:"请输入环境名称",trigger:"blur"}]}),b("版本","version",k.value,{attrs:{class:"!w-[22rem]",disabled:P.value,onChange:e=>{h(e)}},rules:[{required:!0,message:"请选择PHP版本",trigger:"change"}]}),g("扩展",()=>{let s;return i(p,{ref:e=>B.value=e,class:"!w-[32rem]",modelValue:e.value.exts,"onUpdate:modelValue":s=>e.value.exts=s,filterable:!0,multiple:!0,"collapse-tags":!0,"collapse-tags-tooltip":!0,"reserve-keyword":!1,placeholder:"请选择扩展，可多选(可粘贴识别多个扩展，用,分隔)","filter-method":s=>y(s,H,e.value.version,F,B)},"function"==typeof(a=s=H.value.map(e=>i(m,{key:e.value,label:e.label,value:e.value},null)))||"[object Object]"===Object.prototype.toString.call(a)&&!j(a)?s:{default:()=>[s]});var a},"exts",{rules:[{required:!0,message:"请选择扩展，可多选(可粘贴识别多个扩展，用,分隔)",trigger:"change"}]})]),submit:async(e,s,a)=>{await s(),C(e.value,S)}});return n(()=>{_(F)}),q({onConfirm:E}),(e,a)=>{const t=s;return u(),c("div",w,[i(d(D)),i(t,{options:V,class:"mt-[1rem]"})])}}});export{q as default};
