!function(){function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(e){if("string"==typeof e)return t(e,n);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function n(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,o="function"==typeof Symbol?Symbol:{},l=o.iterator||"@@iterator",a=o.toStringTag||"@@toStringTag";function i(n,o,l,a){var i=o&&o.prototype instanceof s?o:s,c=Object.create(i.prototype);return r(c,"_invoke",function(n,r,o){var l,a,i,s=0,c=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return l=t,a=0,i=e,p.n=n,u}};function d(n,r){for(a=n,i=r,t=0;!f&&s&&!o&&t<c.length;t++){var o,l=c[t],d=p.p,m=l[2];n>3?(o=m===r)&&(i=l[(a=l[4])?5:(a=3,3)],l[4]=l[5]=e):l[0]<=d&&((o=n<2&&d<l[1])?(a=0,p.v=r,p.n=l[1]):d<m&&(o=n<3||l[0]>r||r>m)&&(l[4]=n,l[5]=r,p.n=m,a=0))}if(o||n>1)return u;throw f=!0,r}return function(o,c,m){if(s>1)throw TypeError("Generator is already running");for(f&&1===c&&d(c,m),a=c,i=m;(t=a<2?e:i)||!f;){l||(a?a<3?(a>1&&(p.n=-1),d(a,i)):p.n=i:p.v=i);try{if(s=2,l){if(a||(o="next"),t=l[o]){if(!(t=t.call(l,i)))throw TypeError("iterator result is not an object");if(!t.done)return t;i=t.value,a<2&&(a=0)}else 1===a&&(t=l.return)&&t.call(l),a<2&&(i=TypeError("The iterator does not provide a '"+o+"' method"),a=1);l=e}else if((t=(f=p.n<0)?i:n.call(r,p))!==u)break}catch(t){l=e,a=1,i=t}finally{s=1}}return{value:t,done:f}}}(n,l,a),!0),c}var u={};function s(){}function c(){}function f(){}t=Object.getPrototypeOf;var p=[][l]?t(t([][l]())):(r(t={},l,function(){return this}),t),d=f.prototype=s.prototype=Object.create(p);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,r(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=f,r(d,"constructor",f),r(f,"constructor",c),c.displayName="GeneratorFunction",r(f,a,"GeneratorFunction"),r(d),r(d,a,"Generator"),r(d,l,function(){return this}),r(d,"toString",function(){return"[object Generator]"}),(n=function(){return{w:i,m:m}})()}function r(e,t,n,o){var l=Object.defineProperty;try{l({},"",{})}catch(e){l=0}r=function(e,t,n,o){function a(t,n){r(e,t,function(e){return this._invoke(t,n,e)})}t?l?l(e,t,{value:n,enumerable:!o,configurable:!o,writable:!o}):e[t]=n:(a("next",0),a("throw",1),a("return",2))},r(e,t,n,o)}function o(e,t,n,r,o,l,a){try{var i=e[l](a),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(r,o)}function l(e){return function(){var t=this,n=arguments;return new Promise(function(r,l){var a=e.apply(t,n);function i(e){o(a,r,l,i,u,"next",e)}function u(e){o(a,r,l,i,u,"throw",e)}i(void 0)})}}System.register(["./base-lib-legacy.js?v=1756369731","./utils-lib-legacy.js?v=1756369731","./store-legacy3.js?v=1756369731","./store-legacy4.js?v=1756369731","./__commonjsHelpers__-legacy.js?v=1756369731","./validator-legacy.js?v=1756369731","./index-legacy104.js?v=1756369731","./column-legacy.js?v=1756369731"],function(t,r){"use strict";var o,a,i,u,s,c,f,p,d,m,v,x,y,b,g,h,w,k,_,j,C,V,P,S,I,O,E,T,U,A,G,H,q,F,M,z,B,D,N,L;return{setters:[function(e){o=e.c,a=e.s,i=e.t,u=e.g,s=e.ay,c=e.r,f=e.p,p=e.aD,d=e.G,m=e.H,v=e.x,x=e.q,y=e.v,b=e.F,g=e.y,h=e.e,w=e.K,k=e.z,_=e.J,j=e.A,C=e.B,V=e.C,P=e.P,S=e.I,I=e.aQ,O=e.al,E=e.S,T=e.ax,U=e.a9,A=e.a7,G=e.D,H=e.bq},function(e){q=e.u,F=e.gn,M=e.M,z=e.d,B=e.c,D=e.e},function(e){N=e.H},function(e){L=e.H},null,null,null,null],execute:function(){var r={class:"absolute top-15px left-15px text-white text-[1.4rem]"},R={class:"absolute top-15px left-15px text-white text-[1.4rem]"},$={class:"text-[1.5rem] mt-8 flex justify-between mb-16px mx-34px update-text"},J={class:""},K={key:0,class:"text-primary"},Q={class:""},W={class:"text-[2.1rem] flex mt-3rem pb-8 font-bold items-center justify-center text-[#565656] bg-linear"},X={class:"px-32px py-[1.6rem] text-[1.4rem] flex items-center justify-between update-text bg-[white]"},Y={class:"flex items-center"},Z={key:0,class:"text-primary"},ee={key:0,class:"rounded-md update-content"},te=["innerHTML"],ne={key:1},re={class:"flex flex-col justify-center leading-10 text-[1.2rem] text-medium"},oe={class:"mt-0.6rem flex items-center"},le={key:2},ae={class:"pt-[1rem] pb-[3rem] pl-[3.1rem] pr-[3rem]"},ie={class:"mt-[1rem]"},ue={class:"my-[1rem] flex items-center"},se={class:"flex flex-col items-center p-[2rem]"},ce={key:3,class:"flex align-middle justify-center pb-10"},fe=o({__name:"index",setup:function(t,o){var D=o.expose,fe=L(),pe=fe.getUpdateInfoNew,de=a(fe).panelInfo,me=i(de.value),ve=me.upgrade,xe=me.currentInfo,ye=N(),be=a(ye),ge=be.panelInfo,he=be.formPhone,we=be.loading,ke=be.grayscale,_e=be.panelVersion,je=(be.betaInfo,be.officialInfo,be.isBeta,be.update),Ce=be.isNPSShow,Ve=be.questions,Pe=be.form,Se=be.rules,Ie=u(function(){return 0!==ve.value}),Oe=q(),Ee=Oe.mainHeight,Te=Oe.mainWidth,Ue=u(function(){return ge.value.isBeta?"测试版":"正式版"}),Ae=s("popupClose",function(){}),Ge=c(!1),He=function(){var e=l(n().m(function e(){var t;return n().w(function(e){for(;;)switch(e.n){case 0:if(xe.value){e.n=2;break}return Ge.value=!0,e.n=1,pe();case 1:t=e.v,Ge.value=!1,null!=t&&t.msg&&(M.request(t),Ae());case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}();return f(l(n().m(function e(){return n().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,ye.getUpdatePushInfo();case 1:return e.a(2)}},e)}))),p(function(){ye.$reset()}),D({onOpen:He}),function(t,n){var o,l,a,i=z,u=B,s=I,c=O,f=E,p=T,q=U,M=A,D=G,N=d("bt-loading"),L=H;return m((x(),y("div",{class:_((v(Ie)?"update-back ":"")+"flex relative w-[100%] flex-col h-[100%] rounded-[.2rem] update-version-view")},[v(Ie)?(x(),y(b,{key:0},[g("div",{class:"w-[150px] fixed right-30px",style:w("top:".concat(v(Ee)/2-280,"px;right:").concat(v(Te)/2-81,"px"))},[h(i,{src:"/update/update_rocket.svg",alt:"rocket img"})],4),g("div",r,[g("span",null,k("".concat(v(F)).concat(v(Ue),"本更新")),1)])],64)):(x(),y(b,{key:1},[n[10]||(n[10]=g("div",{class:"w-full absolute h-140px absolute-image rounded-[2px] title-new-img"},null,-1)),g("div",R,[g("span",null,"宝塔"+k(v(F))+"面板",1)])],64)),m((x(),y("div",{class:_(v(Ie)?"relative mt-52 rounded-[2px]":"relative mt-25 bg-linear rounded-[2px]")},[v(Ie)?(x(),y(b,{key:0},[n[13]||(n[13]=g("div",{class:"text-[2.1rem] flex font-bold items-center justify-center text-[#565656]"},[g("span",null,"发现新的正式版本！")],-1)),g("div",$,[g("div",J,[n[12]||(n[12]=g("span",null,"最新版本: ",-1)),g("span",null,[h(u,{href:"https://www.bt.cn/bbs/forum-36-1.html"},{default:j(function(){var e;return[C(k(v(F))+"-"+k(null===(e=v(xe))||void 0===e?void 0:e.version),1)]}),_:1})]),v(ke)<1?(x(),y("span",K,[h(s,{class:"item",effect:"dark",content:"提示：当前是正式版尝鲜阶段，为了验证新版本的稳定性和兼容性，确保全面推出之前，新功能能正常运行。",placement:"top"},{default:j(function(){return e(n[11]||(n[11]=[g("span",null,[C("（尝鲜版"),g("i",{class:"svgtofont-el-question-filled"}),C("）")],-1)]))}),_:1})])):V("",!0)]),g("div",Q,[g("span",null,"更新时间："+k(null===(o=v(xe))||void 0===o?void 0:o.uptime),1)])])],64)):(x(),y(b,{key:1},[g("div",W,[h(i,{src:"/update/update_icon.svg",alt:"icon",class:"h-12 mr-2 mt-1"}),n[14]||(n[14]=g("span",{class:"leading-10"},"当前已经是最新版本",-1))]),g("div",X,[g("span",Y,[n[16]||(n[16]=C(" 当前版本： ",-1)),h(u,{class:"bt-link text-[12px]",href:"https://www.bt.cn/bbs/forum-36-1.html",textContent:k(v(F)+v(Ue)+v(_e))},null,8,["textContent"]),v(ke)<1?(x(),y("span",Z,[h(s,{class:"item",effect:"dark",content:"提示：当前是正式版尝鲜阶段，为了验证新版本的稳定性和兼容性，确保全面推出之前，新功能能正常运行。",placement:"top"},{default:j(function(){return e(n[15]||(n[15]=[g("span",null,[C("（尝鲜版"),g("i",{class:"svgtofont-el-question-filled"}),C("）")],-1)]))}),_:1})])):V("",!0)]),g("span",null,"当前发布时间："+k(null===(l=v(xe))||void 0===l?void 0:l.uptime),1)])],64)),g("div",{class:_(v(Ie)?"mb-[3rem] mt-4 px-16px py-22px mx-34px bg-[rgba(33,165,59,0.04)] rounded-[2px]":"mb-[2.2rem] mt-2 px-16px py-14px mx-32px border-1 border-[#EEEFEC] bg-[rgb(247,252,248)] rounded-[2px]")},[v(Ie)?(x(),y("div",ee,[g("div",{class:"leading-10 mr-2 text-[1.2rem] text-medium overflow-auto",innerHTML:(null===(a=v(xe))||void 0===a?void 0:a.updateMsg)||"获取中"},null,8,te)])):V("",!0),v(Ie)?(x(),y("hr",ne)):V("",!0),g("div",re,[g("div",oe,[n[17]||(n[17]=g("span",{class:"mr-2"},"有更新时提醒我:",-1)),h(c,{class:"mr-4",modelValue:v(je).updatePush,"onUpdate:modelValue":n[0]||(n[0]=function(e){return v(je).updatePush=e}),onChange:v(ye).openUpdateReminder,"active-color":"#13ce66"},null,8,["modelValue","onChange"]),g("span",{class:"bt-link",onClick:n[1]||(n[1]=function(e){return v(ye).updateReminderDialog(v(je).updatePush)}),textContent:"提醒方式"})])])],2),v(Ie)?V("",!0):(x(),y("div",le,[g("div",{class:_(["nps_survey_banner flex items-center justify-center",v(Ce)?"":"mb-[2rem]"])},[g("span",{class:"text-[14px] font-bold inline-block cursor-pointer text-[#20a53a] mr-[.4rem]",onClick:n[2]||(n[2]=function(e){return Ce.value=!v(Ce)}),style:{"vertical-align":"4px"}}," 点击此处"+k(v(Ce)?"折叠":"展开")+"需求反馈 ",1),g("i",{class:_(["cursor-pointer text-[14px]",v(Ce)?"svgtofont-el-arrow-up":"svgtofont-el-arrow-down"]),onClick:n[3]||(n[3]=function(e){return Ce.value=!v(Ce)})},null,2)],2),m(g("div",ae,[h(p,{placement:"top-start",width:"400","popper-class":"tips bg-[#20a53a] text-white text-[1.2rem] w-[40.6rem] !p-12px leading-[20px]",trigger:"focus",content:"如果您在使用过程中遇到任何问题或功能不完善，请将您的问题或需求详细描述给我们，我们将尽力为您解决或完善。"},{reference:j(function(){return[h(f,{type:"textarea",rows:5,modelValue:v(Ve),"onUpdate:modelValue":n[4]||(n[4]=function(e){return P(Ve)?Ve.value=e:null}),placeholder:"如果您在使用过程中遇到任何问题或功能不完善，请将您的问题或需求详细描述给我们，我们将尽力为您解决或完善。"},null,8,["modelValue"])]}),_:1}),g("div",ie,[g("div",ue,[n[18]||(n[18]=g("span",{class:"text-[1.3rem] text-[#666]"},"是否愿意接受回访：",-1)),h(c,{size:"small",modelValue:v(Pe).status,"onUpdate:modelValue":n[5]||(n[5]=function(e){return v(Pe).status=e})},null,8,["modelValue"])]),h(M,{ref_key:"formPhone",ref:he,"label-position":"top",model:v(Pe),rules:v(Se)},{default:j(function(){return[m(h(q,{label:"",prop:"phone"},{default:j(function(){return[h(f,{modelValue:v(Pe).phone,"onUpdate:modelValue":n[6]||(n[6]=function(e){return v(Pe).phone=e}),placeholder:"请留下手机号码或邮箱"},null,8,["modelValue"])]}),_:1},512),[[S,v(Pe).status]])]}),_:1},8,["model","rules"])]),n[20]||(n[20]=g("div",{class:"mt-[.4rem] text-[1.2rem] text-primary leading-[3rem]"},"我们特别重视您的需求反馈，我们会每周进行需求评审，希望能更好的帮到您",-1)),g("div",se,[h(D,{type:"primary",class:"w-[12.5rem]",size:"large",onClick:n[7]||(n[7]=function(e){return v(ye).submit(v(Ae))})},{default:j(function(){return e(n[19]||(n[19]=[C("提交反馈",-1)]))}),_:1})])],512),[[S,v(Ce)]])])),v(Ie)?(x(),y("div",ce,[h(D,{type:"default",class:"ignore-renew text-[1.3rem] border-none h-38px mr-50px w-50 bg-[#f0f0f0]",size:"default",style:{color:"#999"},round:"",onClick:n[8]||(n[8]=function(e){return v(ye).ignoreUpdatEVersion(v(xe).version,v(Ae))})},{default:j(function(){return e(n[21]||(n[21]=[C("忽略本次更新",-1)]))}),_:1}),h(D,{class:"border-none text-[1.3rem] w-50 h-38px",type:"primary",round:"",onClick:n[9]||(n[9]=function(e){return v(ye).updateVersion()})},{default:j(function(){return e(n[22]||(n[22]=[C("立即更新",-1)]))}),_:1})])):V("",!0)],2)),[[N,v(we)],[N,"正在加载更新信息，请稍后...","title"]])],2)),[[L,v(Ge)]])}}});t("default",D(fe,[["__scopeId","data-v-ef539f87"]]))}}})}();
