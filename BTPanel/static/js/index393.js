import{l as a,L as e,b as t,e as s}from"./utils-lib.js?v=1756369731";import{c as o,r,p as l,q as m,v as i,B as n,e as p,x as c,P as u,b6 as d}from"./base-lib.js?v=1756369731";import{R as f}from"./ssl.js?v=1756369731";import{g as D}from"./useStore10.js?v=1756369731";import"./__commonjsHelpers__.js?v=1756369731";const _={class:"p-[2rem] flex items-center w-full"},v=s(o({__name:"index",props:{compData:{default:()=>{}}},setup(s,{expose:o}){const v=t(),{refs:{isRefreshDomainList:w}}=D(),Y=s,j=r(Y.compData.row.endtime||""),L=a=>a.getTime()<Date.now();return o({onConfirm:async t=>{var s;if(!j.value)return v.error("请选择到期时间"),!1;let o,r;try{o=v.load("正在设置到期时间,请稍后...");let l=[Y.compData.row.id];(null==(s=Y.compData)?void 0:s.rowList)&&Y.compData.rowList.length&&(l=Y.compData.rowList.map(a=>a.id));const m=await f({ids:JSON.stringify(l),endtime:j.value});v.request(m),m.status&&(w.value=!0,j.value="",t&&t()),r=Y.compData.rowList.map(a=>({name:a.domain,status:!0})),a({isAsync:!0,title:"批量设置结果",area:42,component:()=>e(()=>import("./index118.js?v=1756369731"),__vite__mapDeps([]),import.meta.url),compData:{resultData:r,resultTitle:"设置结果"}})}catch(l){}finally{o&&o.close()}}}),l(()=>{0===Y.compData.row.endtime&&(j.value="")}),(a,e)=>{const t=d;return m(),i("div",_,[e[1]||(e[1]=n("到期时间：",-1)),p(t,{modelValue:c(j),"onUpdate:modelValue":e[0]||(e[0]=a=>u(j)?j.value=a:null),class:"!w-[33rem]","disabled-date":L,type:"date",format:"YYYY/MM/DD","value-format":"YYYY-MM-DD",placeholder:"选择日期"},null,8,["modelValue"])])}}}),[["__scopeId","data-v-cfca60de"]]);export{v as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
