!function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function r(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",u=n.toStringTag||"@@toStringTag";function c(n,r,o,u){var c=r&&r.prototype instanceof l?r:l,f=Object.create(c.prototype);return a(f,"_invoke",function(n,r,a){var o,u,c,l=0,f=a||[],s=!1,p={p:0,n:0,v:e,a:v,f:v.bind(e,4),d:function(t,n){return o=t,u=0,c=e,p.n=n,i}};function v(n,r){for(u=n,c=r,t=0;!s&&l&&!a&&t<f.length;t++){var a,o=f[t],v=p.p,d=o[2];n>3?(a=d===r)&&(c=o[(u=o[4])?5:(u=3,3)],o[4]=o[5]=e):o[0]<=v&&((a=n<2&&v<o[1])?(u=0,p.v=r,p.n=o[1]):v<d&&(a=n<3||o[0]>r||r>d)&&(o[4]=n,o[5]=r,p.n=d,u=0))}if(a||n>1)return i;throw s=!0,r}return function(a,f,d){if(l>1)throw TypeError("Generator is already running");for(s&&1===f&&v(f,d),u=f,c=d;(t=u<2?e:c)||!s;){o||(u?u<3?(u>1&&(p.n=-1),v(u,c)):p.n=c:p.v=c);try{if(l=2,o){if(u||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,u<2&&(u=0)}else 1===u&&(t=o.return)&&t.call(o),u<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),u=1);o=e}else if((t=(s=p.n<0)?c:n.call(r,p))!==i)break}catch(t){o=e,u=1,c=t}finally{l=1}}return{value:t,done:s}}}(n,o,u),!0),f}var i={};function l(){}function f(){}function s(){}t=Object.getPrototypeOf;var p=[][o]?t(t([][o]())):(a(t={},o,function(){return this}),t),v=s.prototype=l.prototype=Object.create(p);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,a(e,u,"GeneratorFunction")),e.prototype=Object.create(v),e}return f.prototype=s,a(v,"constructor",s),a(s,"constructor",f),f.displayName="GeneratorFunction",a(s,u,"GeneratorFunction"),a(v),a(v,u,"Generator"),a(v,o,function(){return this}),a(v,"toString",function(){return"[object Generator]"}),(r=function(){return{w:c,m:d}})()}function a(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}a=function(e,t,n,r){function u(t,n){a(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(u("next",0),u("throw",1),u("return",2))},a(e,t,n,r)}function o(t,n,r){return(n=function(t){var n=function(t,n){if("object"!=e(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var a=r.call(t,n||"default");if("object"!=e(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==e(n)?n:n+""}(n))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}function u(e,t,n,r,a,o,u){try{var c=e[o](u),i=c.value}catch(e){return void n(e)}c.done?t(i):Promise.resolve(i).then(r,a)}function c(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function c(e){u(o,r,a,c,i,"next",e)}function i(e){u(o,r,a,c,i,"throw",e)}c(void 0)})}}System.register(["./index-legacy103.js?v=1756369731","./utils-lib-legacy.js?v=1756369731","./base-lib-legacy.js?v=1756369731","./column-legacy.js?v=1756369731","./validator-legacy.js?v=1756369731","./useStore-legacy4.js?v=1756369731","./site-legacy.js?v=1756369731","./__commonjsHelpers__-legacy.js?v=1756369731","./index-legacy104.js?v=1756369731"],function(e,n){"use strict";var a,u,i,l,f,s,p,v,d,y,m,h,b,g,x,j,w,S,_,P,k,E,O,T,A,G,N,C,F,I,H,q,D,V,z;return{setters:[function(e){a=e._},function(e){u=e.K,i=e.at,l=e.j,f=e.k,s=e.a0,p=e.b,v=e.e},function(e){d=e.c,y=e.r,m=e.p,h=e.G,b=e.H,g=e.x,x=e.q,j=e.v,w=e.e,S=e.A,_=e.y,P=e.P,k=e.B,E=e.z,O=e.F,T=e.b7,A=e.D},function(e){G=e.a,N=e.u,C=e.c},function(e){F=e.f},function(e){I=e.u},function(e){H=e.removeProtectExt,q=e.removeExcloud,D=e.getProofFind,V=e.addProtectExt,z=e.addExcloud},null,null],execute:function(){var n={class:"pb-2rem"},U={class:"flex gap-col-1rem"},B={class:"flex flex-col justify-between"},K={class:"mt-8px leading-8 text-[1.2rem] list-disc ml-20px tamper-help-info"},M={key:0,class:"text-danger"},R=d({__name:"exclude-protect-ext",props:{compData:{default:{}}},setup:function(e,v){var d=v.expose,R=e,$=p(),J=I().siteInfo,L=y(),Q=y(!1),W=y(!1),X=y([]),Y=y("");y([]);var Z,ee=y(0),te=function(){var e=c(r().m(function e(t){var n,a;return r().w(function(e){for(;;)switch(e.n){case 0:return n=o({siteName:J.value.name},ee.value?"protectExt":"excludePath",t.path),a=ee.value?H:q,e.n=1,u({loading:"正在删除".concat(ee.value?"保护文件名":"排除路径","，请稍后..."),request:a(n),message:!0});case 1:e.v.status&&re();case 2:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),ne=function(){F({type:"all",path:J.value.path,change:function(e){var t=Y.value?Y.value.split("\n"):[];t.includes(e)||t.push(e),Y.value=t.join("\n")}})},re=function(){var e=c(r().m(function e(){var t,n,a;return r().w(function(e){for(;;)switch(e.p=e.n){case 0:return Q.value=!0,e.p=1,e.n=2,D({siteName:J.value.name});case 2:t=e.v,(n=t.data)&&(X.value=(ee.value?n.protectExt:n.excludePath).map(function(e){return{path:e}})),e.n=4;break;case 3:e.p=3,a=e.v,i(a);case 4:return e.p=4,Q.value=!1,e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=c(r().m(function e(){var t;return r().w(function(e){for(;;)switch(e.n){case 0:if(""!==Y.value){e.n=1;break}return e.a(2,$.error("".concat(ee.value?"保护文件":"排除路径","不能为空")));case 1:return t={siteName:J.value.name},ee.value?t.protectExt=Y.value:t.excludePath=Y.value,e.n=2,u({loading:"正在添加".concat(ee.value?"保护":"排除","，请稍后..."),request:ee.value?V(t):z(t),message:!0});case 2:e.v.status&&(Y.value="",re());case 3:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),oe=function(){ee.value="protect"===R.compData.childType?1:0,re()},ue=[{label:"删除",value:"delete",event:(Z=c(r().m(function e(t,n,a,u){var i;return r().w(function(e){for(;;)switch(e.n){case 0:return i=function(){var e=c(r().m(function e(t){var n,a,u;return r().w(function(e){for(;;)switch(e.n){case 0:if(n=o({siteName:J.value.name},ee.value?"protectExt":"excludePath",t.path),!ee.value){e.n=2;break}return e.n=1,H(n);case 1:u=e.v,e.n=4;break;case 2:return e.n=3,q(n);case 3:u=e.v;case 4:return a=u,e.a(2,a)}},e)}));return function(t){return e.apply(this,arguments)}}(),e.n=1,t({title:"批量删除",content:"批量删除选中的名称或路径，防篡改开启时该路径将受保护，是否继续操作？",column:[{label:"".concat(ee.value?"扩展名/文件名":"名称或路径"),prop:"path"},C()],onConfirm:function(){var e=c(r().m(function e(){return r().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,n(i);case 1:return re(),e.a(2,!1)}},e)}));return function(){return e.apply(this,arguments)}}()});case 1:return e.a(2)}},e)})),function(e,t,n,r){return Z.apply(this,arguments)})}],ce=y([G(),{label:"".concat(ee.value?"扩展名/文件名":"名称或路径"),prop:"path"},N([{title:"删除",onClick:te}])]);return m(oe),d({init:oe}),function(e,r){var o=l,u=A,c=f,i=s,p=a,v=h("bt-loading");return b((x(),j("div",n,[w(p,null,{"header-left":S(function(){return[_("div",U,[w(o,{modelValue:g(Y),"onUpdate:modelValue":r[0]||(r[0]=function(e){return P(Y)?Y.value=e:null}),type:"textarea",rows:4,resize:"none",width:"38rem",placeholder:"".concat(g(ee)?"受保护的文件或扩展名":"排除文件或目录","，每行一条")},null,8,["modelValue","placeholder"]),_("div",B,[_("span",null,[w(u,{type:"default",onClick:ne},{default:S(function(){return t(r[1]||(r[1]=[_("i",{class:"svgtofont-el-folder"},null,-1)]))}),_:1})]),w(u,{type:"default",onClick:ae},{default:S(function(){return[k(" 添加"+E(g(ee)?"保护":"排除"),1)]}),_:1})])])]}),"header-right":S(function(){return t(r[2]||(r[2]=[]))}),content:S(function(){return[b(w(c,{ref_key:"excludeTableRef",ref:L,column:g(ce),maxHeight:g(ee)?380:420,data:g(X)},null,8,["column","maxHeight","data"]),[[v,g(W)]])]}),"footer-left":S(function(){return[w(i,{"table-ref":g(L),options:ue},null,8,["table-ref"])]}),"footer-right":S(function(){return t(r[3]||(r[3]=[]))}),_:1}),_("ul",K,[g(ee)?(x(),j(O,{key:1},[r[4]||(r[4]=T('<li class="leading-2rem" data-v-e2e76f47><div data-v-e2e76f47>支持以下4种方式</div><div data-v-e2e76f47><span data-v-e2e76f47> 1. 文件扩展名，如： <code data-v-e2e76f47>php jsp</code></span><span data-v-e2e76f47> 2. 文件名，如： <code data-v-e2e76f47>bt.php、 index.php</code></span></div><div data-v-e2e76f47><span data-v-e2e76f47> 3. 文件全路径，如： <code data-v-e2e76f47>/bt.cn/1.txt</code></span><span data-v-e2e76f47> 4. 文件相对路径，如： <code data-v-e2e76f47>app/test.php</code></span></div></li><li data-v-e2e76f47>一般添加常见容易被篡改的扩展名即可，如html,php,js等</li>',2))],64)):(x(),j("li",M,"排除规则具备最高优先级，在此列表中的目录或文件名将不受保护"))])])),[[v,g(Q)],[v,"正在获取防篡改配置信息，请稍侯","title"]])}}});e("default",v(R,[["__scopeId","data-v-e2e76f47"]]))}}})}();
