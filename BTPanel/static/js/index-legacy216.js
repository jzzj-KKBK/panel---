!function(){function n(n){return function(n){if(Array.isArray(n))return t(n)}(n)||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function(n,e){if(n){if("string"==typeof n)return t(n,e);var r={}.toString.call(n).slice(8,-1);return"Object"===r&&n.constructor&&(r=n.constructor.name),"Map"===r||"Set"===r?Array.from(n):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(n,e):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=Array(t);e<t;e++)r[e]=n[e];return r}function e(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var n,t,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.toStringTag||"@@toStringTag";function u(e,a,o,i){var u=a&&a.prototype instanceof c?a:c,s=Object.create(u.prototype);return r(s,"_invoke",function(e,r,a){var o,i,u,c=0,s=a||[],f=!1,d={p:0,n:0,v:n,a:p,f:p.bind(n,4),d:function(t,e){return o=t,i=0,u=n,d.n=e,l}};function p(e,r){for(i=e,u=r,t=0;!f&&c&&!a&&t<s.length;t++){var a,o=s[t],p=d.p,v=o[2];e>3?(a=v===r)&&(u=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=n):o[0]<=p&&((a=e<2&&p<o[1])?(i=0,d.v=r,d.n=o[1]):p<v&&(a=e<3||o[0]>r||r>v)&&(o[4]=e,o[5]=r,d.n=v,i=0))}if(a||e>1)return l;throw f=!0,r}return function(a,s,v){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&p(s,v),i=s,u=v;(t=i<2?n:u)||!f;){o||(i?i<3?(i>1&&(d.n=-1),p(i,u)):d.n=u:d.v=u);try{if(c=2,o){if(i||(a="next"),t=o[a]){if(!(t=t.call(o,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,i<2&&(i=0)}else 1===i&&(t=o.return)&&t.call(o),i<2&&(u=TypeError("The iterator does not provide a '"+a+"' method"),i=1);o=n}else if((t=(f=d.n<0)?u:e.call(r,d))!==l)break}catch(t){o=n,i=1,u=t}finally{c=1}}return{value:t,done:f}}}(e,o,i),!0),s}var l={};function c(){}function s(){}function f(){}t=Object.getPrototypeOf;var d=[][o]?t(t([][o]())):(r(t={},o,function(){return this}),t),p=f.prototype=c.prototype=Object.create(d);function v(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,f):(n.__proto__=f,r(n,i,"GeneratorFunction")),n.prototype=Object.create(p),n}return s.prototype=f,r(p,"constructor",f),r(f,"constructor",s),s.displayName="GeneratorFunction",r(f,i,"GeneratorFunction"),r(p),r(p,i,"Generator"),r(p,o,function(){return this}),r(p,"toString",function(){return"[object Generator]"}),(e=function(){return{w:u,m:v}})()}function r(n,t,e,a){var o=Object.defineProperty;try{o({},"",{})}catch(n){o=0}r=function(n,t,e,a){function i(t,e){r(n,t,function(n){return this._invoke(t,e,n)})}t?o?o(n,t,{value:e,enumerable:!a,configurable:!a,writable:!a}):n[t]=e:(i("next",0),i("throw",1),i("return",2))},r(n,t,e,a)}function a(n,t,e,r,a,o,i){try{var u=n[o](i),l=u.value}catch(n){return void e(n)}u.done?t(l):Promise.resolve(l).then(r,a)}function o(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var i=n.apply(t,e);function u(n){a(i,r,o,u,l,"next",n)}function l(n){a(i,r,o,u,l,"throw",n)}u(void 0)})}}System.register(["./index-legacy103.js?v=1756369731","./utils-lib-legacy.js?v=1756369731","./base-lib-legacy.js?v=1756369731","./validator-legacy.js?v=1756369731","./site-legacy.js?v=1756369731","./__commonjsHelpers__-legacy.js?v=1756369731","./index-legacy104.js?v=1756369731","./column-legacy.js?v=1756369731"],function(t,r){"use strict";var a,i,u,l,c,s,f,d,p,v,m,y,g,h,b,w,_,k,x,j,D,V,O,S,A,P,C,T,G,q,E,U,H,I,M,N,F,L,z;return{setters:[function(n){a=n._},function(n){i=n.o,u=n.at,l=n.K,c=n.k,s=n.h,f=n.j,d=n.W,p=n.b},function(n){v=n.c,m=n.r,y=n.k,g=n.p,h=n.aD,b=n.G,w=n.q,_=n.v,k=n.e,x=n.A,j=n.x,D=n.P,V=n.B,O=n.H,S=n.y,A=n.I,P=n.a$,C=n.ah,T=n.af,G=n.D,q=n.a9,E=n.a7},function(n){U=n.m},function(n){H=n.getPyVersion,I=n.getVersionList,M=n.setGoEnvironment,N=n.installPyVersionNew,F=n.installPyVersion,L=n.installVersion,z=n.uninstallVersion},null,null,null],execute:function(){var r={class:"p-[20px]"},J={class:"bg-[#333] p-[12px] h-[36rem] text-white overflow-auto logMsg"},$=["innerHTML"],B={class:"p-2rem"};t("default",v({__name:"index",props:{compData:{default:{}}},setup:function(t){var v=t,K=m(""),W=p(),Q=m(!1),R=m("正在请求安装..."),X=[{label:"版本号",width:200,render:function(n){return k("div",null,[n.version.replace(v.compData.type,""),V(" "),"stable"===n.type&&"go"===v.compData.type?"(正式版)":"",n.version===K.value&&n.installed?k("span",{class:"font-bold text-[#333]"},[V("【正在使用】")]):""])}},{label:"安装状态",render:function(n){return"string"==typeof n.installed&&(n.installed="1"===n.installed),k("div",null,[!0===n.is_install?k("span",{class:"text-gray-400"},[V("安装中")]):n.installed?k("span",{class:"text-primary"},[V("已安装")]):k("span",{class:"text-danger"},[V("未安装")])])}},{label:"操作",align:"right",render:function(n){return n.version.replace(v.compData.type,""),k("div",null,[O(k("div",{class:"inline-block"},[n.installed&&n.version!==K.value&&"go"===v.compData.type?k("span",{class:"cursor-pointer bt-link",onClick:function(){on(n.version)}},[V("设置默认")]):k("span",null,[V("--")]),k(P,{direction:"vertical"},null)]),[[A,"go"===v.compData.type]]),n.installed?k("span",{class:"cursor-pointer text-[#ef0808]",onClick:function(){ln(n.version)}},[V("卸载")]):!0===n.is_install?k("span",{class:"cursor-pointer text-gray-400",onClick:function(){U()}},[V("安装中...")]):k("span",{class:"cursor-pointer bt-link",onClick:function(){un(n.version)}},[V("安装")])])}}],Y=m([]),Z=m(!1);m("");var nn=m([]),tn=m("py"===v.compData.type?"常用版本":"所有版本"),en=y({version:"",extended:"",status:!1}),rn=m([{content:"填写时请勿添加换行符等特殊符号，这可能会导致参数不生效"},{content:"多个参数时以空格隔开"},{content:'"--prefix"参数已被使用'},{content:"验证参数是否生效，可查看安装日志并搜索对应名称"}]),an=function(){var n=o(e().m(function n(t){var r,a,o,l,c;return e().w(function(n){for(;;)switch(n.p=n.n){case 0:if(r="all","常用版本"===tn.value&&(r="streamline"),n.p=1,"py"!==v.compData.type){n.n=4;break}if(!(!0===t)){n.n=2;break}return n.n=2,i({title:"提示",width:"35rem",icon:"warning-filled",content:"将从镜像源获取版本列表，是否继续？"});case 2:return l={force:!0===t?"true":"false"},Z.value=!0,n.n=3,H(l);case 3:a=n.v,Y.value=a.data.sdk[r],K.value=(null===(o=a.data.command_path.find(function(n){return n.python_path===a.data.used}))||void 0===o?void 0:o.version)||"",n.n=6;break;case 4:return Z.value=!0,n.n=5,I(v.compData.type);case 5:a=n.v,nn.value=a.data,a.data.sdk[r].sort(function(n,t){return t.installed-n.installed}),K.value=a.data.used,Y.value=a.data.sdk[r];case 6:n.n=8;break;case 7:n.p=7,c=n.v,u(c);case 8:return n.p=8,Z.value=!1,n.f(8);case 9:return n.a(2)}},n,null,[[1,7,8,9]])}));return function(t){return n.apply(this,arguments)}}(),on=function(){var n=o(e().m(function n(t){return e().w(function(n){for(;;)switch(n.n){case 0:return n.n=1,l({loading:"正在设置默认版本，请稍后...",request:M({name:t}),message:!0});case 1:n.v.status&&an();case 2:return n.a(2)}},n)}));return function(t){return n.apply(this,arguments)}}(),un=function(){var n=o(e().m(function n(t){var r,a,o,u;return e().w(function(n){for(;;)switch(n.n){case 0:if(!(r="py"===v.compData.type)){n.n=4;break}if(en.status){n.n=1;break}en.version=t,en.status=!0,n.n=3;break;case 1:return o={data:JSON.stringify({version:en.version,extended:en.extended})},n.n=2,l({request:N(o),message:!0});case 2:en.status=!1,U(),v.compData&&"function"==typeof(null===(a=v.compData)||void 0===a?void 0:a.refresh)&&v.compData.refresh(),an();case 3:return n.a(2);case 4:return n.n=5,i({title:"安装",content:"是否安装[".concat(t,"]版本？"),icon:"warning-filled"});case 5:return n.n=6,l({loading:"正在安装，请稍后...",request:r?F({data:JSON.stringify({version:t})}):L({version:t},v.compData.type),message:!0});case 6:n.v.status&&(v.compData&&"function"==typeof(null===(u=v.compData)||void 0===u?void 0:u.refresh)&&v.compData.refresh(),an());case 7:return n.a(2)}},n)}));return function(t){return n.apply(this,arguments)}}(),ln=function(){var n=o(e().m(function n(t){var r,a;return e().w(function(n){for(;;)switch(n.n){case 0:return n.n=1,i({title:"卸载sdk",content:"卸载[".concat(t,"]版本后，相关项目将无法启动，是否继续？"),icon:"warning-filled"});case 1:return n.n=2,l({loading:"正在卸载，请稍后...",request:z({version:t},v.compData.type)});case 2:((a=n.v).status||Array.isArray(a.data)&&a.data[0].status)&&an(),Array.isArray(a.data)&&!a.data[0].status&&W.error(null===(r=a.data)||void 0===r||null===(r=r[0])||void 0===r?void 0:r.msg);case 3:return n.a(2)}},n)}));return function(t){return n.apply(this,arguments)}}();return g(function(){an()}),h(function(){}),function(t,e){var o=C,i=T,u=G,l=c,p=s,v=f,m=q,y=E,g=d,h=a,A=b("bt-loading");return w(),_("div",r,[k(h,null,{"header-left":x(function(){return[k(i,{modelValue:j(tn),"onUpdate:modelValue":e[0]||(e[0]=function(n){return D(tn)?tn.value=n:null}),size:"default",onChange:an},{default:x(function(){return[k(o,{value:"常用版本"},{default:x(function(){return n(e[7]||(e[7]=[V("常用版本",-1)]))}),_:1}),k(o,{value:"所有版本"},{default:x(function(){return n(e[8]||(e[8]=[V("所有版本",-1)]))}),_:1})]}),_:1},8,["modelValue"])]}),"header-right":x(function(){return[k(u,{type:"default",onClick:e[1]||(e[1]=function(n){return an(!0)})},{default:x(function(){return n(e[9]||(e[9]=[V(" 更新版本列表 ",-1)]))}),_:1})]}),content:x(function(){return[O(k(l,{height:"400",column:X,data:j(Y)},null,8,["data"]),[[A,j(Z)]])]}),popup:x(function(){return[k(p,{title:"安装信息",modelValue:j(Q),"onUpdate:modelValue":e[2]||(e[2]=function(n){return D(Q)?Q.value=n:null}),area:[50,36],onCancel:e[3]||(e[3]=function(){return R.value="正在请求安装..."})},{default:x(function(){return[S("div",J,[S("pre",{innerHTML:j(R),class:"whitespace-pre-wrap"},null,8,$)])]}),_:1},8,["modelValue"]),k(p,{title:"安装版本【".concat(j(en).version,"】"),modelValue:j(en).status,"onUpdate:modelValue":e[5]||(e[5]=function(n){return j(en).status=n}),area:50,"show-footer":!0,onConfirm:e[6]||(e[6]=function(n){return un(j(en).version)})},{default:x(function(){return[S("div",B,[k(y,{model:j(en)},{default:x(function(){return[k(m,{label:"自定义参数"},{default:x(function(){return[k(v,{modelValue:j(en).extended,"onUpdate:modelValue":e[4]||(e[4]=function(n){return j(en).extended=n}),name:"extended",width:"32rem",placeholder:"可为空，实例：--enable-optimizations"},null,8,["modelValue"])]}),_:1})]}),_:1},8,["model"]),k(g,{class:"pl-4rem mt-1rem",options:j(rn)},null,8,["options"])])]}),_:1},8,["title","modelValue"])]}),_:1})])}}}))}}})}();
