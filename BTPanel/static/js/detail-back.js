import{a2 as a,a6 as e,v as t,h as s,e as l}from"./utils-lib.js?v=1756369731";import{c as o,g as r,q as i,v as m,e as n,x as c,y as d,A as u,B as p,z as b,C as f,P as _,bN as j,bM as v,D as x}from"./base-lib.js?v=1756369731";import{d as y,g,b as h,a as k,s as z}from"./index8.js?v=1756369731";import{d as w}from"./useMethod2.js?v=1756369731";import A from"./index114.js?v=1756369731";import"./__commonjsHelpers__.js?v=1756369731";import"./index103.js?v=1756369731";import"./column.js?v=1756369731";import"./index104.js?v=1756369731";import"./config.js?v=1756369731";import"./useMethod3.js?v=1756369731";import"./validator.js?v=1756369731";import"./site.js?v=1756369731";import"./index116.js?v=1756369731";import"./form-item.js?v=1756369731";const H={class:"p-2rem"},T={class:"p-1.2rem pt-0"},B={class:"flex flex-col leading-[22px]"},C={class:"max-w-[58rem] truncate inline-block"},M=["title"],S={key:0},V={class:"w-full flex justify-end mt-[1.2rem]"},q=l(o({__name:"detail-back",setup(l){const o=r(()=>"restore"===y.value?"还原":"备份"),q=()=>{w.value={operateType:"detail",...w.value},z.value=!0},N=[{label:"备份详情",name:"backup",lazy:!0},{label:"还原详情",name:"restore",lazy:!0}],D=[{type:"index"},{label:"失败项",prop:"name"},{label:"失败原因",prop:"msg",width:320,render:a=>n("span",{class:"text-[".concat(a.task_status?"#20a53a":"#ef0808","]")},[a.task_status?"成功":a.msg])}],{BtTabs:I}=a({type:"card",value:y,options:0!==w.value.restore_status?N:N.filter(a=>"restore"!==a.name)}),{BtTable:P,config:U,refresh:E}=e({request:g,columns:D}),F=a=>{y.value=a,E()};return(a,e)=>{const l=j,r=v,y=x,g=s;return i(),m("div",H,[n(c(I),{onTabChange:F}),d("div",T,[d("div",B,[n(r,{title:!1,column:1,size:"small",border:"",class:"table-descriptions"},{default:u(()=>[n(l,{label:"".concat(c(o),"时间：")},{default:u(()=>[p(b(c(h).backup_time),1)]),_:1},8,["label"]),n(l,{label:"".concat(c(o),"大小：")},{default:u(()=>[p(b(c(t)(Number(c(h).size))||"--"),1)]),_:1},8,["label"]),n(l,{label:"".concat(c(o),"存储位置：")},{default:u(()=>[d("span",C,b(c(h).path||"--"),1)]),_:1},8,["label"]),n(l,{label:"SHA-256："},{default:u(()=>[d("span",{class:"max-w-[58rem] truncate inline-block",title:c(w)["SHA-256"]},b(c(h)["SHA-256"]||"--"),9,M)]),_:1}),n(l,{label:"".concat(c(o),"耗时：")},{default:u(()=>[p(b("".concat(c(h).time_count?"".concat(c(h).time_count,"s"):"")||"--"),1)]),_:1},8,["label"])]),_:1})]),0!=c(U).total?(i(),m("div",S,[e[1]||(e[1]=d("p",{class:"font-bold text-[#ef0808] my-1.2rem"},"失败详情",-1)),n(c(P),{"max-height":360})])):f("",!0),d("div",V,[n(y,{type:"primary",onClick:q},{default:u(()=>[...e[2]||(e[2]=[p("查看全部详情 ",-1)])]),_:1})]),n(g,{title:"详情信息",area:74,modelValue:c(z),"onUpdate:modelValue":e[0]||(e[0]=a=>_(z)?z.value=a:null)},{default:u(()=>[n(A,{data:c(k)},null,8,["data"])]),_:1},8,["modelValue"])])])}}}),[["__scopeId","data-v-c76dcd4a"]]);export{q as default};
