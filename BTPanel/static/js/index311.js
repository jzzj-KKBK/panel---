import{ag as e,e as t}from"./utils-lib.js?v=1756369731";import{c as s,s as o,ay as l,c9 as a,w as r,g as n,p as m,q as i,v as c,y as u,F as p,a_ as d,J as v,x as f,B as x,z as h,e as b,P as g}from"./base-lib.js?v=1756369731";import{P as E}from"./store6.js?v=1756369731";import"./__commonjsHelpers__.js?v=1756369731";import"./validator.js?v=1756369731";import"./index104.js?v=1756369731";import"./column.js?v=1756369731";const M={class:"bg-voucher flex flex-col"},C={class:"pt-2.6rem bottom-bg"},j={class:"px-3.6rem"},_={class:"voucher-list mt-2.6rem"},F={class:"voucher-amount inline-block px-1.6rem relative w-12rem"},N={class:"font-bold text-[1.8rem]"},w={class:"text-[3.4rem]"},I={class:"text-[#999] mt-1rem"},k={class:"inline-block bg-[#FEFBF6] text-left mr-1rem text-[#666] voucher-instructions flex-1 pl-1.6rem"},y={class:"text-[1.4rem] mb-1rem"},D={class:"voucher-count-down mt-1.2rem text-left"},H={class:"text-danger mlr-[1rem] inline-block text-[2rem]"},S={class:"px-[3.6rem] pb-1rem mt-1.4rem"},T={class:"voucher-count-down text-center text-[1.6rem] leading-[3rem] mt-[2.6rem] text-[#666] flex justify-center"},B={class:"mt-[2rem] voucher-footer text-center"},A=t(s({__name:"index",props:{compData:{default:()=>({isCoupon:[],isHome:!1})}},setup(t){const s=E(),{couponItem:A,closeAfterReload:O,timeClose:V,timeNow:P}=o(s),{siteList:R,addZero:q,claimCouponEvent:z,changeCloseTimeEvent:G}=s,J=l("popupClose",()=>{}),L=e=>{if(null==e)return"时间未知";const t=Number(e);if(isNaN(t)||t<0)return"时间格式错误";if(t>Number.MAX_SAFE_INTEGER/1e3)return"时间过长";const s=Math.floor(t/86400),o=Math.floor(t%86400/3600),l=Math.floor(t%86400%3600/60),a=[];return s>0&&a.push("".concat(s,"天")),o>0&&a.push("".concat(o,"小时")),l>0&&a.push("".concat(l,"分")),a.length>0?a.join(""):"不足1分钟"},U=t,X=a();r(()=>X.value,e=>{P.value=e});const Z=n(()=>{let e="00",t="00",s="00",o="00",l=Number(sessionStorage.getItem("HOME-ENDTIME"));(!l||P.value>=l)&&(l=P.value+72e5,sessionStorage.setItem("HOME-ENDTIME",l.toString()));const a=l-P.value;return a>0?(e=q(Math.floor(a/36e5)),t=q(Math.floor(a/6e4%60)),s=q(Math.floor(a/1e3%60)),o=q(Math.floor(a%1e3/10))):(e="00",t="00",s="00",o="00",0===a&&(sessionStorage.removeItem("HOME-ENDTIME"),G("week",!1))),{hour:e,minute:t,second:s,millisecond:o}});return m(()=>{U.compData.isCoupon.length&&(A.value=U.compData.isCoupon)}),(t,s)=>{const o=e;return i(),c("section",M,[u("div",C,[u("div",j,[s[4]||(s[4]=u("div",{class:"text-2rem text-[#FFB04C] w-full text-center"},"免费限时领取【大额优惠券】",-1)),u("div",_,[(i(!0),c(p,null,d(f(A),(e,t)=>(i(),c("div",{key:t,class:v(["voucher-item flex items-center justify-between py-[1.6rem] rounded-[4px]",t===f(A).length-1?"mb-[1.4rem]":"mb-[2.4rem]"])},[u("div",F,[u("div",N,[s[2]||(s[2]=x(" ￥",-1)),u("span",w,h(e.val2),1)]),u("div",I,"满"+h(e.val1)+"减"+h(e.val2),1)]),u("div",k,[u("div",y,"仅限"+h(e.name),1),u("div",D,[s[3]||(s[3]=x(" 领取后有效期 ",-1)),u("div",H,h(L(e.timeout)),1)])])],2))),128))])])]),u("div",S,[u("div",T,[s[5]||(s[5]=x(" 距结束",-1)),u("span",null,h(f(Z).hour),1),s[6]||(s[6]=x("时",-1)),u("span",null,h(f(Z).minute),1),s[7]||(s[7]=x("分",-1)),u("span",null,h(f(Z).second),1),s[8]||(s[8]=x("秒",-1)),u("span",null,h(f(Z).millisecond),1)]),u("div",B,[u("span",{class:"text-[#fff] bg-[#FFB04C] hover:bg-[#F68900]",onClick:s[0]||(s[0]=e=>f(z)(f(J)))},"一键领取"),b(o,{modelValue:f(V),"onUpdate:modelValue":s[1]||(s[1]=e=>g(V)?V.value=e:null),options:f(R),class:"reminder mt-1rem !w-[14rem]",placeholder:"选择不通知的时间",onChange:f(G)},null,8,["modelValue","options","onChange"])])])])}}}),[["__scopeId","data-v-0b18811c"]]);export{A as default};
