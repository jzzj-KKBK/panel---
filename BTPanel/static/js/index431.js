import{j as e,W as l,aM as a,k as t,a0 as s,a2 as o,e as n}from"./utils-lib.js?v=1756369731";import{c as u,w as i,G as r,q as d,v as m,H as p,x as c,M as f,A as b,e as _,y as v,F as h,a_ as y,I as x,B as V,al as k,a9 as C,ai as g,aj as j,D as w,a$ as B,a7 as U,p as z,r as I,C as L,P,T as F}from"./base-lib.js?v=1756369731";import{o as R,f as G,c as H,t as O,a as T,b as q,d as E,e as M,g as S,h as A,s as D,i as W,j as K,l as $,k as J,m as N,n as Q,p as X,q as Y,r as Z,u as ee,v as le,T as ae,w as te,x as se,y as oe,z as ne,A as ue,B as ie,C as re,D as de,E as me,F as pe,G as ce,H as fe}from"./index202.js?v=1756369731";import{_ as be}from"./index103.js?v=1756369731";import{B as _e}from"./index140.js?v=1756369731";import{p as ve}from"./useController4.js?v=1756369731";import"./__commonjsHelpers__.js?v=1756369731";import"./index418.js?v=1756369731";import"./form-item.js?v=1756369731";import"./index104.js?v=1756369731";import"./validator.js?v=1756369731";import"./column.js?v=1756369731";import"./useStore4.js?v=1756369731";import"./site.js?v=1756369731";import"./index116.js?v=1756369731";import"./ace.js?v=1756369731";import"./useController5.js?v=1756369731";import"./useController6.js?v=1756369731";import"./useMethod5.js?v=1756369731";const he={class:"p-[20px]"},ye={class:"pt-[1.6rem]"},xe={class:"flex items-center"},Ve={class:"ml-[20px]"},ke=u({__name:"cache",setup:(a,{expose:t})=>(i(()=>A.value.proxy_cache,e=>{if(e){H.status=e.cache_status;let l="",a="m";e.expires.length>1&&(l=e.expires.slice(0,-1),a=e.expires.slice(-1)),H.time=l,H.unit=a}}),t({onConfirm:R}),(a,t)=>{const s=k,o=C,n=e,u=g,i=j,z=w,I=B,L=U,P=l,F=r("bt-loading");return d(),m("div",he,[p((d(),f(L,{ref_key:"cacheFormRef",ref:q,class:"h-[40rem]",model:c(H),"label-width":"100px",rules:c(E),disabled:c(M)},{default:b(()=>[_(o,{label:"缓存开关",prop:"status"},{default:b(()=>[_(s,{modelValue:c(H).status,"onUpdate:modelValue":t[0]||(t[0]=e=>c(H).status=e),onChange:c(R)},null,8,["modelValue","onChange"])]),_:1}),p(v("div",ye,[_(o,{label:"缓存时间",prop:"time"},{default:b(()=>[v("div",xe,[_(n,{modelValue:c(H).time,"onUpdate:modelValue":t[1]||(t[1]=e=>c(H).time=e)},null,8,["modelValue"]),_(o,{prop:"unit"},{default:b(()=>[_(i,{class:"ml-[1rem] !w-[8rem]",modelValue:c(H).unit,"onUpdate:modelValue":t[2]||(t[2]=e=>c(H).unit=e),placeholder:"请选择"},{default:b(()=>[(d(!0),m(h,null,y(c(O),e=>(d(),f(u,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})])]),_:1})],512),[[x,c(H).status]]),p(_(o,{class:"!pt-[1.6rem]",label:" "},{default:b(()=>[_(z,{type:"primary",onClick:c(R)},{default:b(()=>[...t[3]||(t[3]=[V("保存",-1)])]),_:1},8,["onClick"])]),_:1},512),[[x,c(H).status]]),_(I),_(z,{type:"default",onClick:c(T)},{default:b(()=>[...t[4]||(t[4]=[V("清理缓存",-1)])]),_:1},8,["onClick"])]),_:1},8,["model","rules","disabled"])),[[F,c(G)]]),v("div",Ve,[_(P,{options:c(S)},null,8,["options"])])])})}),Ce={class:"p-[20px]"},ge={class:"mt-[1.6rem]"},je={class:"flex items-center"},we={class:"ml-[20px]"},Be=u({__name:"content-compression",setup:a=>(i(()=>A.value.gzip,e=>{e?D(e):W.status=!1}),z(()=>{D(A.value.gzip)}),(a,t)=>{const s=k,o=C,n=e,u=g,i=j,B=w,z=U,I=l,L=r("bt-loading");return d(),m("div",Ce,[p((d(),f(z,{ref_key:"compressFormRef",ref:J,class:"h-[48rem]",model:c(W),rules:c(N),"label-width":"100px",disabled:c(M)},{default:b(()=>[_(o,{label:"内容压缩",prop:"status"},{default:b(()=>[_(s,{modelValue:c(W).status,"onUpdate:modelValue":t[0]||(t[0]=e=>c(W).status=e),onChange:c(K)},null,8,["modelValue","onChange"])]),_:1}),p(v("div",ge,[_(o,{label:"压缩类型",prop:"type"},{default:b(()=>[_(n,{modelValue:c(W).type,"onUpdate:modelValue":t[1]||(t[1]=e=>c(W).type=e),type:"textarea",width:"42rem",rows:6,resize:"none"},null,8,["modelValue"])]),_:1}),_(o,{label:"压缩级别",prop:"level"},{default:b(()=>[_(i,{class:"!w-[42rem]",modelValue:c(W).level,"onUpdate:modelValue":t[2]||(t[2]=e=>c(W).level=e)},{default:b(()=>[(d(),m(h,null,y(9,e=>_(u,{key:e,label:e,value:String(e)},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),_(o,{label:"压缩最小长度",prop:"minLength"},{default:b(()=>[v("div",je,[_(n,{modelValue:c(W).minLength,"onUpdate:modelValue":t[3]||(t[3]=e=>c(W).minLength=e)},null,8,["modelValue"]),_(o,{prop:"unit"},{default:b(()=>[_(i,{class:"ml-[1rem] !w-[8rem]",modelValue:c(W).unit,"onUpdate:modelValue":t[4]||(t[4]=e=>c(W).unit=e),placeholder:"请选择"},{default:b(()=>[(d(!0),m(h,null,y(c($),e=>(d(),f(u,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})])]),_:1})],512),[[x,c(W).status]]),p(_(o,{label:" ",class:"mt-[1.6rem]"},{default:b(()=>[_(B,{type:"primary",onClick:c(K)},{default:b(()=>[...t[5]||(t[5]=[V("保存",-1)])]),_:1},8,["onClick"])]),_:1},512),[[x,c(W).status]])]),_:1},8,["model","rules","disabled"])),[[L,c(G)]]),v("div",we,[_(I,{options:c(Q)},null,8,["options"])])])})}),Ue=u({__name:"ip-list",setup(e){const o=I();i(()=>A.value.ip_limit,e=>{e?Z(e):(ee.white=[],ee.black=[])},{deep:!0});const{BtOperation:n}=a({options:[{type:"button",label:"添加IP".concat("ipBlackList"===X.value?"黑":"白","名单"),active:!0,onClick:Y}]});return z(()=>{Z(A.value.ip_limit)}),(e,a)=>{const u=t,i=s,r=be,p=l;return d(),m("div",null,[_(r,null,{"header-left":b(()=>[_(c(n))]),content:b(()=>["ipBlackList"!==c(X)?(d(),f(u,{key:0,ref_key:"ipListRef",ref:o,data:c(ee).white,"max-height":390,column:c(le)},{empty:b(()=>[...a[0]||(a[0]=[v("div",{class:"flex items-center justify-center"},"当前列表为空",-1)])]),_:1},8,["data","column"])):(d(),f(u,{key:1,ref_key:"ipListRef",ref:o,data:c(ee).black,"max-height":390,column:c(le)},{empty:b(()=>[...a[1]||(a[1]=[v("div",{class:"flex items-center justify-center"},"当前列表为空",-1)])]),_:1},8,["data","column"]))]),"footer-left":b(()=>[_(i,{"table-ref":c(o),options:c(ae)},null,8,["table-ref","options"])]),_:1}),"ipBlackList"!==c(X)?(d(),f(p,{key:0,class:"mt-[2rem] ml-[1.6rem]",options:[{content:"注意：设置IP白名单后会默认禁止除白名单以外的所有IP访问"}]})):L("",!0)])}}}),ze=u({__name:"http-auth",setup(e){i(()=>A.value.basic_auth,e=>{se(e)});const{BtOperation:l}=a({options:[{label:"添加",type:"button",active:!0,onClick:()=>{te()}}]});return z(async()=>{se(A.value.basic_auth)}),(e,a)=>{const s=t,o=be,n=r("bt-loading");return d(),f(o,null,{"header-left":b(()=>[_(c(l))]),content:b(()=>[p((d(),f(s,{ref:"siteProxyTable","max-height":500,data:c(oe),column:c(ne)},{empty:b(()=>[...a[0]||(a[0]=[v("div",{class:"flex items-center justify-center"},"当前列表为空",-1)])]),_:1},8,["data","column"])),[[n,"正在加载中，请稍后...","title"]])]),_:1})}}}),Ie={class:"p-[20px]"},Le=u({__name:"websocket",setup:e=>(i(()=>A.value.websocket,e=>{ue(e)}),z(()=>{ue(A.value.websocket)}),(e,l)=>{const a=k,t=C,s=U,o=r("bt-loading");return d(),m("div",Ie,[p((d(),f(s,{ref:"customFormRef",model:c(ie),"label-width":"100px",disabled:c(M)},{default:b(()=>[_(t,{label:"websocket支持","label-width":"100px"},{default:b(()=>[_(a,{modelValue:c(ie).websocket,"onUpdate:modelValue":l[0]||(l[0]=e=>c(ie).websocket=e),onChange:c(re)},null,8,["modelValue","onChange"])]),_:1})]),_:1},8,["model","disabled"])),[[o,c(G)]])])})}),Pe={class:"flex flex-col"},Fe={class:"flex items-center justify-between mb-[8px]"},Re={class:"h-[44rem] w-full"},Ge=u({__name:"set-404-page",setup(e,{expose:l}){const a=I(""),t=I(),s=I("utf-8"),o=I(["utf-8","GBK","GB2312","BIG5"]),n=I(!1),u=I(!1),i=async()=>{pe(a.value,s.value)};return z(()=>{de(u,a,s,n)}),l({onRefresh:()=>{de(u,a,s,n)}}),(e,l)=>{const x=F,k=g,C=j,B=_e,U=w,z=r("bt-loading");return d(),m("div",Pe,[v("div",Fe,[v("div",null,[_(x,{modelValue:c(n),"onUpdate:modelValue":l[0]||(l[0]=e=>P(n)?n.value=e:null),onChange:c(me)},{default:b(()=>[...l[3]||(l[3]=[V("开启404错误页设置",-1)])]),_:1},8,["modelValue","onChange"])]),l[4]||(l[4]=V(" 提示：Ctrl+F 搜索关键字，Ctrl+S 保存，Ctrl+H 查找替换 ",-1)),_(C,{class:"!w-[16rem]",modelValue:c(s),"onUpdate:modelValue":l[1]||(l[1]=e=>P(s)?s.value=e:null),onChange:i},{default:b(()=>[(d(!0),m(h,null,y(c(o),e=>(d(),f(k,{key:e,value:e,label:e},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),p((d(),m("div",Re,[_(B,{ref_key:"aceEditor",ref:t,"is-request":!1,modelValue:c(a),"onUpdate:modelValue":l[2]||(l[2]=e=>P(a)?a.value=e:null),editorOption:c(ve)(),saveEvent:i,class:"h-[40rem] w-full"},null,8,["modelValue","editorOption"]),_(U,{class:"flex !mt-[12px]",type:"primary",onClick:i},{default:b(()=>[...l[5]||(l[5]=[V("保存",-1)])]),_:1})])),[[z,c(u)]])])}}}),He={class:"p-[20px]"},Oe=u({__name:"ipv6-status",setup:(e,{expose:l})=>(l({onConfirm:ce}),(e,l)=>{const a=k,t=C,s=U,o=r("bt-loading");return d(),m("div",He,[p((d(),f(s,{ref_key:"cacheFormRef",ref:q,class:"h-[40rem]",model:c(H),"label-width":"100px",rules:c(E),disabled:c(M)},{default:b(()=>[_(t,{label:"监听IPv6",prop:"status"},{default:b(()=>[_(a,{modelValue:c(A).ipv6_status,"onUpdate:modelValue":l[0]||(l[0]=e=>c(A).ipv6_status=e),onChange:c(ce)},null,8,["modelValue","onChange"])]),_:1})]),_:1},8,["model","rules","disabled"])),[[o,c(G)]]),l[1]||(l[1]=v("div",{class:"ml-[20px]"},null,-1))])})}),Te=n(u({__name:"index",setup(e){const{BtTabs:l}=o({type:"card",value:X,options:[{label:"缓存",name:"cache",lazy:!0,render:()=>_(ke,null,null)},{label:"内容压缩",name:"compress",lazy:!0,render:()=>_(Be,null,null)},{label:"IP黑名单",name:"ipBlackList",lazy:!0,render:()=>_(Ue,null,null)},{label:"IP白名单",name:"ipWhiteList",lazy:!0,render:()=>_(Ue,null,null)},{label:"http认证",name:"basicauth",lazy:!0,render:()=>_(ze,null,null)},{label:"websocket",name:"websocket",lazy:!0,render:()=>_(Le,null,null)},{label:"404错误页",name:"404",lazy:!0,render:()=>_(Ge,null,null)},{label:"IPv6",name:"ipv6",lazy:!0,render:()=>_(Oe,null,null)}]});return i(()=>X.value,e=>{fe()}),z(async()=>{fe()}),(e,a)=>(d(),f(c(l)))}}),[["__scopeId","data-v-a7202fbc"]]);export{Te as default};
