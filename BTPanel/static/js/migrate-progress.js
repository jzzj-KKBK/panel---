import{c as t,q as s,v as e,y as a,J as l,x as n,B as o,z as r,C as i,e as c,A as m,M as p,bN as u,bM as d,D as f}from"./base-lib.js?v=1756369731";import{A as x,K as _,k as v,W as j,e as y}from"./utils-lib.js?v=1756369731";import{p as b,s as g,a as k,e as w,r as C}from"./index9.js?v=1756369731";import{a2 as h}from"./config.js?v=1756369731";import"./__commonjsHelpers__.js?v=1756369731";import"./index116.js?v=1756369731";import"./form-item.js?v=1756369731";import"./index104.js?v=1756369731";import"./useMethod2.js?v=1756369731";import"./useController2.js?v=1756369731";const M={class:"p-2rem"},q={class:"w-[56rem]"},z={class:"text-[2rem] font-bold flex items-center justify-center"},A={key:0,class:"text-[1.4rem] text-[#666] my-[1.2rem] flex flex-col justify-center items-center"},I={class:"flex flex-col leading-[22px]"},B={key:0,class:"text-[1.2rem] text-white bg-[#333] p-[12px] flex flex-col relative"},D={key:2,class:"flex flex-col"},H={class:"flex justify-end mt-[1.2rem]"},J=y(t({__name:"migrate-progress",emits:["close"],setup(t,{emit:y}){const J=y,K=()=>{let t="目标服务器信息：".concat(g.value.panel_addr,"\n目标服务器登陆账号：").concat(g.value.panel_user,"\n目标服务器登陆密码：").concat(g.value.panel_password);x({value:t})},N=async()=>{await _({loading:"正在记录信息，请稍后...",request:h()}),J("close")};return(t,x)=>{const _=u,y=d,h=j,P=v,W=f;return s(),e("div",M,[a("div",q,[a("div",z,[a("i",{class:l(["!text-[4rem] mr-[12px]",{"text-[#ef0808] svgtofont-el-circle-close-filled":3===n(b).status,"text-[#20a53a] svgtofont-el-success-filled":2===n(b).status}])},null,2),o(" 宝塔面板迁移"+r(2===n(b).status?"成功":"失败"),1)]),2===n(b).status?(s(),e("div",A,[...x[1]||(x[1]=[a("span",null," 备份数据已上传至新服务器，还原任务已在新服务器运行 ",-1),a("span",null," 进度请在新服务器中的【面板设置】-【备份还原】中查看 ",-1)])])):i("",!0),a("div",I,[n(g).panel_addr?(s(),e("pre",B,[x[2]||(x[2]=o("\t\t\t\t\t",-1)),a("span",null,"目标服务器信息："+r(n(g).panel_addr),1),x[3]||(x[3]=o("\n\t\t\t\t\t",-1)),a("span",null,"目标服务器登陆账号："+r(n(g).panel_user),1),x[4]||(x[4]=o("\n\t\t\t\t\t",-1)),a("span",null,"目标服务器登陆密码："+r(n(g).panel_password),1),x[5]||(x[5]=o("\n\t\t\t\t\t",-1)),a("i",{class:"svgtofont-el-document-copy text-white !text-1.4rem cursor-pointer absolute right-[12px] top-[8px]",onClick:K}),x[6]||(x[6]=o("\n\t\t\t\t",-1))])):i("",!0)]),c(y,{title:!1,column:1,size:"small",border:"",class:"my-[1.2rem] table-descriptions"},{default:m(()=>[a("div",null,[c(_,{label:"开始时间："},{default:m(()=>[o(r(n(g).start_time),1)]),_:1}),c(_,{label:"最后更新时间："},{default:m(()=>[o(r(n(g).last_update),1)]),_:1})])]),_:1}),2===n(b).status?(s(),p(h,{key:1,class:"ml-[20px] my-[20px]",options:[{content:"如需还原宝塔防火墙/监控报表/系统架构/防篡改插件，请尽快登录面板绑定宝塔用户及升级为专业版/企业版，否则将无法还原相关插件数据"},{content:"如果迁移了节点管理数据，请在节点面板中添加新机器的IP白名单"},{content:"如第一次还原数据不完整，可尝试第二次进行还原"}]})):i("",!0),3===n(b).status?(s(),e("div",D,[c(P,{column:n(k),data:n(w)},null,8,["column","data"]),a("div",H,[c(W,{type:"danger",onClick:x[0]||(x[0]=t=>(C(),void J("close")))},{default:m(()=>[...x[7]||(x[7]=[o("重试",-1)])]),_:1})])])):i("",!0),a("div",{class:"w-full flex justify-end"},[a("span",{class:"bt-link mt-[0.8rem]",onClick:N},"我已记录信息，关闭弹窗")])])])}}}),[["__scopeId","data-v-2780df0c"]]);export{J as default};
