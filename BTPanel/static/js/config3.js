import{B as a}from"./index140.js?v=1756369731";import{iJ as e,a3 as s,iK as t,b as o}from"./utils-lib.js?v=1756369731";import{u as i}from"./useMethod7.js?v=1756369731";import{c as n,r,G as l,q as m,v as d,y as p,H as c,x as u,e as x,P as f}from"./base-lib.js?v=1756369731";import"./ace.js?v=1756369731";import"./__commonjsHelpers__.js?v=1756369731";import"./validator.js?v=1756369731";import"./index104.js?v=1756369731";import"./column.js?v=1756369731";const y={class:"p-16px"},h=n({__name:"config",props:{compData:{}},setup(n,{expose:h}){const j=o(),v=n,{row:g}=v.compData,b=r(""),w=r("utf-8"),{loading:C,setLoading:_}=i(),S=(a={readonly:!1,theme:"chrome"})=>({mode:"ace/mode/nginx",theme:"ace/theme/".concat(a.theme),wrap:!0,showInvisibles:!1,showFoldWidgets:!1,useSoftTabs:!0,tabSize:2,showPrintMargin:!1,readOnly:a.readonly,fontSize:"12px"});return(async()=>{try{_(!0);const{data:a}=await e({service:g.key});s(a)&&(b.value=a.data.data,w.value=a.data.encoding)}finally{_(!1)}})(),h({onConfirm:async a=>{const{data:e}=await t({service:g.key,data:b.value});j.request(e),e.status&&a()}}),(e,s)=>{const t=l("bt-loading");return m(),d("div",y,[s[1]||(s[1]=p("span",{class:"my-[4px] text-[#666]"},"提示：Ctrl+F 搜索关键字，Ctrl+S 保存，Ctrl+H 查找替换",-1)),c(x(u(a),{class:"!h-[550px] my-[12px] rounded-[4px]",modelValue:u(b),"onUpdate:modelValue":s[0]||(s[0]=a=>f(b)?b.value=a:null),id:"mailConfigContent",editorOption:S()},null,8,["modelValue","editorOption"]),[[t,u(C)]])])}}});export{h as default};
