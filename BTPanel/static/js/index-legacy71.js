!function(){function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}var e=["type_id"];function n(t){return function(t){if(Array.isArray(t))return i(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||o(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(t,e)||o(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){if(t){if("string"==typeof t)return i(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach(function(e){c(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function c(e,n,r){return(n=function(e){var n=function(e,n){if("object"!=t(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,n||"default");if("object"!=t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==t(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function l(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var c=r&&r.prototype instanceof u?r:u,l=Object.create(c.prototype);return s(l,"_invoke",function(n,r,o){var i,u,c,l=0,s=o||[],f=!1,p={p:0,n:0,v:t,a:v,f:v.bind(t,4),d:function(e,n){return i=e,u=0,c=t,p.n=n,a}};function v(n,r){for(u=n,c=r,e=0;!f&&l&&!o&&e<s.length;e++){var o,i=s[e],v=p.p,y=i[2];n>3?(o=y===r)&&(c=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=t):i[0]<=v&&((o=n<2&&v<i[1])?(u=0,p.v=r,p.n=i[1]):v<y&&(o=n<3||i[0]>r||r>y)&&(i[4]=n,i[5]=r,p.n=y,u=0))}if(o||n>1)return a;throw f=!0,r}return function(o,s,y){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&v(s,y),u=s,c=y;(e=u<2?t:c)||!f;){i||(u?u<3?(u>1&&(p.n=-1),v(u,c)):p.n=c:p.v=c);try{if(l=2,i){if(u||(o="next"),e=i[o]){if(!(e=e.call(i,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,u<2&&(u=0)}else 1===u&&(e=i.return)&&e.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=t}else if((e=(f=p.n<0)?c:n.call(r,p))!==a)break}catch(e){i=t,u=1,c=e}finally{l=1}}return{value:e,done:f}}}(n,o,i),!0),l}var a={};function u(){}function c(){}function f(){}e=Object.getPrototypeOf;var p=[][r]?e(e([][r]())):(s(e={},r,function(){return this}),e),v=f.prototype=u.prototype=Object.create(p);function y(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,s(t,o,"GeneratorFunction")),t.prototype=Object.create(v),t}return c.prototype=f,s(v,"constructor",f),s(f,"constructor",c),c.displayName="GeneratorFunction",s(f,o,"GeneratorFunction"),s(v),s(v,o,"Generator"),s(v,r,function(){return this}),s(v,"toString",function(){return"[object Generator]"}),(l=function(){return{w:i,m:y}})()}function s(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}s=function(t,e,n,r){function i(e,n){s(t,e,function(t){return this._invoke(e,n,t)})}e?o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(i("next",0),i("throw",1),i("return",2))},s(t,e,n,r)}function f(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o)}function p(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){f(i,r,o,a,u,"next",t)}function u(t){f(i,r,o,a,u,"throw",t)}a(void 0)})}}System.register(["./utils-lib-legacy.js?v=1756369731","./index-legacy103.js?v=1756369731","./base-lib-legacy.js?v=1756369731","./column-legacy.js?v=1756369731","./useController-legacy6.js?v=1756369731","./useStore-legacy4.js?v=1756369731","./index-legacy141.js?v=1756369731","./validator-legacy.js?v=1756369731","./index.vue_vue_type_style_index_0_scoped_b3c4124c_lang-legacy.js?v=1756369731","./site-legacy.js?v=1756369731"],function(t,o){"use strict";var i,a,c,s,f,v,y,d,m,b,g,h,j,O,_,w,S,x,P,k,C,T,I,A,B,E,G,D,M,L,N,F,U,J,q,R,K,z,H,$,Q,V,W,X,Y,Z,tt,et,nt,rt;return{setters:[function(t){i=t.l,a=t.L,c=t.ai,s=t.K,f=t.b,v=t.u,y=t.aM,d=t.a6,m=t.p,b=t.v,g=t.a8},function(t){h=t._},function(t){j=t.c,O=t.s,_=t.e,w=t.B,S=t.w,x=t.p,P=t.n,k=t.q,C=t.M,T=t.A,I=t.x,A=t.y},function(t){B=t.c,E=t.a,G=t.d,D=t.g,M=t.u},function(t){L=t.b,N=t.g,F=t.d,U=t.f,J=t.h,q=t.s,R=t.i,K=t.k,z=t.u,H=t.a,$=t.j},function(t){Q=t.u,V=t.S},function(t){W=t.u},function(t){X=t.i,Y=t.o,Z=t.h},null,function(t){tt=t.modifyProject,et=t.createProject,nt=t.batchStatus,rt=t.batchDelSite}],execute:function(){var ot=f(),it=Q(),at=it.siteInfo,ut=it.isRefreshList,ct=it.activeType,lt=V().setSiteInfo,st=function(){at.value=null,i({title:"添加Go项目",area:62,component:function(){return a(function(){return o.import("./index-legacy365.js?v=1756369731")},void 0,o.meta.url)},showFooter:!0})},ft=function(t){lt(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:""),i({title:"Go项目管理["+t.name+"] -- 添加时间["+t.addtime+"]",area:[84,72],component:function(){return a(function(){return o.import("./index-legacy366.js?v=1756369731")},void 0,o.meta.url)}})},pt=function(t){var e=t.split("\n").filter(function(t){return""!==t}),n=[];return e.forEach(function(t){var e=t.split("=");n.push({k:e[0],v:e[1]})}),n},vt=(t("a",function(){var t=p(l().m(function t(e,n,r){var o,i,a,u,f,p;return l().w(function(t){for(;;)switch(t.n){case 0:return""!==(o=Object.assign({},e.value)).domains?(o.bind_extranet=1,o.domains=c(o.domains)?o.domains.split("\n"):o.domains):(o.bind_extranet=0,delete o.domains),i=e.value.env,1===r&&(i=pt(i)),o.env_file=2===r?e.value.envPath:"",o.env_list=JSON.stringify(1===r?i:[]),t.n=1,n();case 1:return a={data:JSON.stringify(o)},u=at.value?tt:et,t.n=2,s({request:u(a,"go")});case 2:return f=t.v,p=f.data,ot.msg({dangerouslyUseHTMLString:!0,message:p.status?p.data:p.error_msg,type:p.status?"success":"error",duration:p.status?2e3:0,showClose:!p.status,customClass:"!max-w-[66rem]"}),f.status&&(ut.value=!0),t.a(2,f.status)}},t)}));return function(e,n,r){return t.apply(this,arguments)}}()),function(){var t=p(l().m(function t(e,n,r,o,i,a){var c,s,f,v,y,d;return l().w(function(t){for(;;)switch(t.n){case 0:return c=o.label,s=o.value,f=a.enable,v=a.exclude,y=new Map([["start","批量启动选中项目后，项目将正常访问"],["stop","批量停用选中的项目后，项目将会停止运行"],["restart","批量重启选中的项目后，项目将会重新启动"],["delete","批量删除选中的项目后，项目将无法恢复"]]),d=function(){var t=p(l().m(function t(e){var n,o,i,a,u,c;return l().w(function(t){for(;;)switch(t.n){case 0:n=new Map([["start",nt],["stop",nt],["restart",nt],["delete",rt]]),o=n.get(s),c=s,t.n="start"===c||"stop"===c||"restart"===c?1:"delete"===c?4:6;break;case 1:if(!o){t.n=3;break}return i=r.value.map(function(t){return{project_name:t.name}}),a=Z(!1,v,f,{params:{site_list:JSON.stringify(i),status:s,project_type:ct.value.toUpperCase()}}),t.n=2,o(a,ct.value);case 2:case 5:return t.a(2,t.v);case 3:return t.a(3,6);case 4:if(!o){t.n=6;break}return u=Z(r.value,v,f,{params:{project_type:ct.value.toUpperCase()}}),t.n=5,o(u);case 6:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}(),t.n=1,e({title:"批量".concat(c),content:"".concat(y.get(s),"，是否继续操作？"),column:[{label:"项目名称",prop:"name"},B()],onConfirm:function(){var t=p(l().m(function t(){var e,n,r;return l().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,d();case 1:e=t.v,ut.value=!0,i&&i(),n=X(e.data),r=(r=n.data).map(function(t){return u(u({},t),{},{name:t.name||t.project_name})}),Y(r,{title:"".concat(c,"网站")});case 2:return t.a(2)}},t)}));return function(){return t.apply(this,arguments)}}()});case 1:return t.a(2)}},t)}));return function(e,n,r,o,i,a){return t.apply(this,arguments)}}()),yt=j({__name:"index",setup:function(t){v();var i=V(),c=i.getSiteList,s=i.setSiteInfo,f=O(V()),j=(f.activeType,f.isRefreshList),B=f.siteInfo,Q=y({options:[{type:"button",label:"添加项目",active:!0,onClick:st},{type:"button",label:"SDK版本管理",onClick:function(){K("go")}}]}).BtOperation,X=W({key:"type_id",name:"Go分类",options:function(){return[{label:"全部分类",value:"all"}]},event:J,ignore:["0"],field:"type_name"}),Y=g([{label:"启用项目",value:"start",event:vt},{label:"停用项目",value:"stop",event:vt},{label:"重启项目",value:"restart",event:vt},z(),H({classList:$}),{label:"删除项目",value:"delete",event:vt}]),Z=d({request:function(t){var n=t.type_id,r=function(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(-1!==e.indexOf(r))continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],-1===e.indexOf(n)&&{}.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}(t,e);return c({data:JSON.stringify(u(u({},r),{},{type_id:m(n)||"all"===n?"":n}))})},columns:[E({type:"page",key:"id"}),L({onClick:function(t){ft(t)}}),N({onClick:function(t,e){if("setting"!==e){var n=t.run?"stop":"start";q(t,"restart"===e?e:n)}else ft(t,"state")}}),{label:"PID",isCustom:!1,render:function(t){var e;return m(t.load_info)||0===(null===(e=Object.keys(t.load_info))||void 0===e?void 0:e.length)?"--":Object.entries(t.load_info).map(function(t){var e=r(t,2),n=e[0];e[1];return"".concat(n)}).join(", ")}},{label:"监听端口",isCustom:!1,render:function(t){var e,n;return m(t.listen)||0===(null===(e=t.listen)||void 0===e?void 0:e.length)?"--":(null===(n=t.listen)||void 0===n?void 0:n.join(","))||"--"}},{label:"CPU",isCustom:!1,render:function(t){var e;return m(t.load_info)||0===(null===(e=Object.keys(t.load_info))||void 0===e?void 0:e.length)?"--":Object.entries(t.load_info).map(function(t){var e=r(t,2),n=(e[0],e[1]);return"".concat(n.cpu_percent.toFixed(2),"%")}).join(", ")}},{label:"内存",isCustom:!1,render:function(t){var e;return m(t.load_info)||0===(null===(e=Object.keys(t.load_info))||void 0===e?void 0:e.length)?"--":Object.entries(t.load_info).map(function(t){var e=r(t,2),n=(e[0],e[1]);return"".concat(b(n.memory_used))}).join(", ")}},G(),D({table:"sites",width:200}),F({onClick:function(t){ft(t,"ssl")}}),M([{title:"设置",onClick:function(t){ft(t)}},{title:"删除",onClick:function(t){R(t)}}])],extension:[X,Y],empty:function(){return _("span",null,[w("您的列表为空，您可以"),_("span",{class:"bt-link",onClick:st},[w("添加一个项目")])])}}),tt=Z.BtTable,et=Z.BtPage,nt=Z.BtRefresh,rt=Z.BtSearch,ot=Z.BtColumn,it=Z.BtBatch,at=Z.BtTableCategory,ut=Z.refresh,ct=Z.config;return S(j,function(){var t=p(l().m(function t(e){var n,r;return l().w(function(t){for(;;)switch(t.n){case 0:if(!e){t.n=2;break}return t.n=1,ut();case 1:null!==(n=B.value)&&void 0!==n&&n.name&&(r=ct.data.find(function(t){return t.name===B.value.name}))&&s(r),j.value=!1;case 2:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}()),x(function(){P(function(){a(function(){return o.import("./index-legacy365.js?v=1756369731")},void 0,o.meta.url),a(function(){return o.import("./index-legacy366.js?v=1756369731")},void 0,o.meta.url)})}),function(t,e){var r=h;return k(),C(r,null,{"header-left":T(function(){return[_(I(Q)),A("div",{class:"flex items-center ml-1rem",onClick:e[0]||(e[0]=function(){return I(U)&&I(U).apply(void 0,arguments)})},n(e[1]||(e[1]=[A("i",{class:"svgtofont-desired text-[1.6rem]"},null,-1),A("span",{class:"bt-link"},"需求反馈",-1)])))]}),"header-right":T(function(){return[_(I(at),{class:"!w-[200px] mr-[10px]"}),_(I(rt),{class:"mr-[10px]",placeholder:"请输入项目名称或备注"}),_(I(nt),{class:"mr-[10px]"}),_(I(ot))]}),content:T(function(){return[_(I(tt))]}),"footer-left":T(function(){return[_(I(it))]}),"footer-right":T(function(){return[_(I(et))]}),_:1})}}}),dt=Object.freeze(Object.defineProperty({__proto__:null,default:yt},Symbol.toStringTag,{value:"Module"}));t("i",dt)}}})}();
