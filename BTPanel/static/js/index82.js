import{N as e,K as a,b as t,u as s,l,L as n,c as r,M as i,a6 as o,p as u,a_ as c,aj as d,a7 as p,cu as m,a8 as h,d as v,h as f,al as _}from"./utils-lib.js?v=1756369731";import{c as g,s as y,k as x,r as b,g as w,w as k,q as C,v as D,y as j,z as E,x as T,e as N,A as B,B as R,C as S,T as A,D as M,t as I,U as O,ax as L,aB as V,an as P,ap as q,ao as H,a$ as U,p as F,b as z,P as J,i as W,aE as G,aQ as X,al as Y,n as K,aW as Q}from"./base-lib.js?v=1756369731";import{g as $}from"./useStore10.js?v=1756369731";import{_ as Z}from"./index103.js?v=1756369731";import{_ as ee}from"./index145.js?v=1756369731";import{d as ae,b as te,r as se,g as le,a as ne,c as re,e as ie,f as oe,h as ue,u as ce,i as de}from"./ssl.js?v=1756369731";import{r as pe,s as me,a as he}from"./useMethod10.js?v=1756369731";import{u as ve}from"./useStore11.js?v=1756369731";import{h as fe,d as _e,a as ge,c as ye,r as xe,b as be,C as we,o as ke,v as Ce,e as De,f as je,g as Ee,i as Te,u as Ne}from"./useMethod11.js?v=1756369731";import{C as Be,a as Re}from"./useController13.js?v=1756369731";import{b as Se,j as Ae}from"./validator.js?v=1756369731";import{c as Me,a as Ie}from"./column.js?v=1756369731";import{u as Oe}from"./index141.js?v=1756369731";import{_ as Le}from"./index104.js?v=1756369731";import"./index.vue_vue_type_style_index_0_scoped_b3c4124c_lang.js?v=1756369731";import"./__commonjsHelpers__.js?v=1756369731";import"./site.js?v=1756369731";import"./useStore12.js?v=1756369731";import"./useStore4.js?v=1756369731";import"./useController6.js?v=1756369731";import"./useController5.js?v=1756369731";import"./useMethod5.js?v=1756369731";import"./useController4.js?v=1756369731";import"./index124.js?v=1756369731";const Ve={class:"p-[2rem] w-[480px]"},Pe={class:"flex items-center"},qe={class:"text-[1.4rem] ml-[.8rem] leading-10"},He={key:0,class:"flex items-center ml-[4.8rem] mt-[1.2rem]"},Ue={class:"bg-[#f6f8f8] footer-btn flex items-center justify-end p-[1.2rem] w-full"},Fe=g({__name:"index",props:{compData:{},isMulti:{type:Boolean},delType:{}},emits:["cancel"],setup(s,{expose:l,emit:n}){const{activeTabs:r,sslIsRefresh:i,testIsRefresh:o,encryptIsRefresh:u,otherIsRefresh:c}=y(ve()),d=t(),p=s,m=n,h=x({addend1:Math.round(9*Math.random()+1),addend2:Math.round(9*Math.random()+1),sum:void 0,cloud:!1,local:!0}),v=b(null),f=b(!1),_=w(()=>{var e;return f.value?v.value.filter(e=>e.use_site.length>0).map(e=>e.use_site).flat():null==(e=v.value)?void 0:e.use_site}),g=async()=>{var t,s,l,n,g;let y=d.load("正在".concat(f.value?"批量":"","删除证书，请稍候..."));try{const y={ssl:()=>i.value=!0,test:()=>o.value=!0,encrypt:()=>u.value=!0,other:()=>c.value=!0};if(f.value){let a=[];if("ssl"===p.delType)for(const e of v.value)try{if(e.endDay>=0){a.push({name:e.title||(null==(t=e.domainName)?void 0:t.join(","))||"未知证书",status:!1,msg:"证书未过期，无法删除"});continue}const{data:l}=await ae(e.oid);a.push({name:e.title||(null==(s=e.domainName)?void 0:s.join(","))||"未知证书",status:l.status,msg:l.msg})}catch(x){a.push({name:e.title||(null==(l=e.domainName)?void 0:l.join(","))||"未知证书",status:!1,msg:(null==x?void 0:x.message)||"删除失败"})}else{let t=[],s=[];if(v.value.forEach(e=>{void 0!==e.hash&&null!==e.hash?s.push(e.hash):void 0!==e.index&&null!==e.index?t.push(e.index):a.push({name:e.title,status:!1,msg:"不支持删除"})}),t.length||s.length){let l={ssl_hash:s.join(","),index:t.join(","),local:1,cloud:h.cloud?1:0};_.value.length&&(l.force=!0);const{data:n}=await te(l);e(n.finish_list)&&n.finish_list.forEach(e=>{a.push({name:e.name,status:e.status,msg:e.status?"删除成功":e.msg})})}}m("cancel"),await pe({resultData:a,resultTitle:"删除"}),null==(n=y[r.value])||n.call(y)}else if("ssl"===p.delType){let e=v.value.oid;a({request:ae(e),loading:"正在删除证书，请稍候...",message:!0,success:()=>{var e;m("cancel"),null==(e=y[r.value])||e.call(y)}})}else{let a={ssl_id:v.value.id,ssl_hash:v.value.hash,index:v.value.index};v.value.order_status?(delete a.ssl_id,delete a.ssl_hash):delete a.index,_.value.length&&(a.force=1);const t=await se({...a,local:1,cloud:h.cloud?1:0});e(t.data.finish_list)&&d.request(t.data.finish_list[0]),t.status&&(m("cancel"),null==(g=y[r.value])||g.call(y))}}catch(b){}finally{y&&y.close(),h.addend1=Math.round(9*Math.random()+1),h.addend2=Math.round(9*Math.random()+1),h.sum=void 0}},I=()=>{m("cancel"),h.addend1=Math.round(9*Math.random()+1),h.addend2=Math.round(9*Math.random()+1),h.sum=void 0};return k(()=>p.compData,e=>{v.value=e},{deep:!0,immediate:!0}),k(()=>p.isMulti,e=>{f.value=e},{deep:!0,immediate:!0}),l({handleCancel:I}),(e,a)=>{const t=A,s=M;return C(),D("div",null,[j("div",Ve,[j("div",Pe,[a[1]||(a[1]=j("span",{class:"!text-warning !text-[4rem] svgtofont-el-warning-filled"},null,-1)),j("span",qe,E("".concat(T(f)?"批量删除":"删除该","证书，是否继续操作？")),1)]),"other"===e.delType?(C(),D("div",He,[N(t,{modelValue:T(h).cloud,"onUpdate:modelValue":a[0]||(a[0]=e=>T(h).cloud=e)},{default:B(()=>[R(E("".concat(T(f)?"批量":"","同步删除云端证书")),1)]),_:1},8,["modelValue"])])):S("",!0)]),j("div",Ue,[N(s,{type:"default",onClick:I},{default:B(()=>[...a[2]||(a[2]=[R("取消",-1)])]),_:1}),N(s,{type:"danger",onClick:g},{default:B(()=>[...a[3]||(a[3]=[R("删除",-1)])]),_:1})])])}}}),{refs:{tabActive:ze,typeList:Je},router:We}=$(),{payment:Ge}=s(),{bindUser:Xe}=I(Ge.value),Ye=[{content:"申请证书",dropdownClass:"bg-white",splitButton:!0,active:!0,event:()=>{if(!Xe.value)return Se(),!1;ra()}}],Ke=O([]),Qe=Oe({key:"type",name:"证书分组",options:()=>[{label:"全部分组",value:"all"}],event:{get:async()=>{let e=[];return await a({request:le(),data:Array,success:a=>{e=[{label:"全部分组",value:"all"},...a.map(e=>({label:e.name,value:String(e.group_id)}))]}}),Je.value=e,e},add:e=>ne({name:e.name,group_id:Date.now()}),delete:e=>re({group_id:e.id})},ignore:["0"],field:"name",showEdit:!1}),$e=b(!1),Ze=b(!1),ea=b(null),aa=b(null),ta=(e,a)=>{Ze.value=a,ea.value=e,$e.value=!0},sa=()=>{$e.value=!1},la=[{label:"批量分组",value:"group",event:(e,a,t,s)=>me(t.value,"certificate")},{label:"批量设置告警",value:"alarm",event:(e,a,t,s)=>{fe(t.value,we.SSL)}},{label:"批量下载",value:"download",event:async(e,a,t,s,l)=>{await na(t.value),l&&l()}},{label:"删除",value:"delete",event:async(e,a,t,s)=>{const{label:r,value:i}=s;let o=[],u=[];t.value.forEach(e=>{void 0!==e.hash&&null!==e.hash?u.push(e.hash):void 0!==e.index&&null!==e.index&&o.push(e.index)});await l({title:"批量".concat(r,"证书"),area:46,component:()=>n(()=>import("./index118.js?v=1756369731"),__vite__mapDeps([]),import.meta.url),compData:{resultTitle:"批量".concat(r,"证书"),resultData:t.value,resultColumn:[{label:"名称",prop:"title"},Me()],autoTitle:"批量".concat(r,"证书")},showFooter:!0,onConfirm:async()=>{await(async()=>{if("delete"===i)return await ta(t.value,!0)})()}})}}],na=async e=>{var a;let t=null;const s=[],l=[];try{if(t=i.load("正在批量下载证书，请稍候..."),e.forEach(e=>{(e=>{s.push(e)})(e)}),s.length>0){let n=s.filter(e=>void 0!==e.oid&&null!==e.oid&&e.download_status).map(e=>e.oid).join(","),r={oid:n};if(!n)return t.close&&t.close(),void i.error("选择的证书中没有可下载的证书！");const{data:o,status:u}=await ie(r);u&&(o.url&&window.open(o.url,"_blank","noopener,noreferrer"),(null==(a=o.finish_list)?void 0:a.length)>0&&o.finish_list.forEach(a=>{const t=JSON.parse(a.cert.info);l.push({name:e.find(e=>e.id==t.issuer).domainName.join(","),oid:t.issuer,status:a.status})}))}pe({resultData:l,resultTitle:"下载",resultColumn:[{label:"名称",prop:"name"},{label:"订单编号",prop:"oid"},{label:"结果",render:e=>{let a="",t="";return e.status?(a="下载成功",t="text-primary"):(a="下载失败",t="text-danger"),V("span",{class:t},a)}}]})}catch(n){}finally{t&&t.close()}},ra=()=>{l({isAsync:!0,title:"购买商业证书",area:[79],component:()=>n(()=>import("./index380.js?v=1756369731"),__vite__mapDeps([]),import.meta.url)})},ia=e=>{const a=(e,a)=>N("span",{class:"bt-link",onClick:a},[e]),t=a("人工服务",()=>Ae()),s=a("详情",()=>(e=>{l({title:"多年期证书详情",area:52,compData:e,component:()=>n(()=>import("./mulit-cert-detail.js?v=1756369731"),__vite__mapDeps([]),import.meta.url)})})(e)),r=a("下载",()=>_e(e)),i=a("部署",()=>ge(e)),o=a("验证",()=>ye(e.oid,e.cert_ssl_type,e.pid)),u=a("续签",()=>xe(e.oid)),c=a("完善资料",()=>be(e)),d=e.orderStatus,p=[];switch(e.years&&e.years>1&&[5,15].includes(Number(d))&&p.push(s),Number(d)){case 0:e.install&&p.push(t),p.push(c);break;case 3:case 11:e.install&&p.push(t),p.push(o);break;case 5:p.push(i),p.push(r);break;case 7:p.push(u)}const m=[];return p.map((e,a)=>{m.push(e),a<p.length-1&&m.push(N(Le,null,null))}),m},oa={class:"flex items-center"},ua={class:"flex items-center ml-[12px]"},ca={class:"flex items-center"};const da=g({__name:"index",setup(e,{expose:a}){const{refs:{tabActive:t,expiringCertificateCount:l,expiredCertificateCount:n}}=$(),{sslSearchType:i,sslIsRefresh:_}=y(ve()),{mainHeight:g}=s(),x=h(la),{BtTable:b,BtPage:w,BtRefresh:k,BtTableCategory:E,BtRecommendSearch:S,BtColumn:A,BtBatch:I,BtErrorMask:O,refresh:G}=o({request:async e=>{let a={p:e.p,group_id:u(e.type)||"all"===e.type?"-1":e.type,search:e.search,limit:e.limit,status_id:i.value,cert_type:"1"};"-1"===a.group_id&&delete a.group_id,"-1"===a.status_id&&delete a.status_id,""===a.search&&delete a.search;const{data:t}=await oe(a);Ke.value=t.data;const s=c(t);return s("will_num")&&(l.value=(null==t?void 0:t.will_num)||0),s("end_num")&&(n.value=(null==t?void 0:t.end_num)||0),{data:t.data,total:d(t.page),other:{search_history:t.search_history}}},columns:[Ie(),{label:"认证域名",render:e=>{var a;return(null==(a=e.domainName)?void 0:a.join(", "))||"--"}},{label:"证书类型",prop:"title",showOverflowTooltip:!0,width:180},{label:"部署网站",isCustom:!0,render:e=>{var a;return(null==(a=e.use_site)?void 0:a.join(", "))||"--"}},{label:"分组",prop:"group_name",width:100,showOverflowTooltip:!0,isCustom:!1},{label:"到期时间",isCustom:!0,render:e=>{var a,t;const s=(e,a)=>N("span",{class:e<=10?"text-danger":a},[e>0?"剩余".concat(e,"天"):"已过期"]),l=(n=e.endDay)<=0||n<=7?"text-danger":n<=15?"text-orange":"text-[#20a53a]";var n;return"1"===e.type?e.endDate?s(e.endDay,e.endDay<=30?"text-orange":l):N("span",null,[R("--")]):"2"===e.type?(null==e?void 0:e.endDay)&&0!==(null==e?void 0:e.endDay)?s(e.endDay,e.endDay<=30?"text-orange":l):N("span",null,[R("--")]):N("span",{class:(null==(a=e.domainName)?void 0:a.length)?l:"text-[#333]"},[(null==(t=e.domainName)?void 0:t.length)?e.endDay>0?"剩余".concat(e.endDay,"天"):"已过期":"--"])}},{label:"订单状态",isCustom:!0,renderHeader(){const e=[{title:"全部",key:"-1"},{title:"验证中",key:"0"},{title:"未到期/订单完成",key:"1"},{title:"即将到期",key:"2"},{title:"已到期",key:"3"}];return V("div",{class:"flex items-center flex-nowrap"},["",V(P,{onCommand:e=>{i.value=e,G()}},{default:()=>V("span",{class:"text-[1.2rem] flex items-center"},[[N("span",{class:"status-header-text"},[R("订单状态"),"-1"===i.value?"(全部)":"(".concat(e.find(e=>e.key===i.value).title,")")])],V("i",{class:"svgtofont-el-arrow-down "})]),dropdown:()=>{let a;return N(H,null,"function"==typeof(t=a=e.map(e=>N(q,{command:e.key},{default:()=>[e.title]})))||"[object Object]"===Object.prototype.toString.call(t)&&!W(t)?a:{default:()=>[a]});var t}})])},render:e=>{if(e.cert_ssl_type)return(e=>{const a=N(L,{placement:"bottom-end",width:"400","popper-class":"white-theme",trigger:"click"},{default:()=>N("div",{class:"bus-ssl-popover"},[N("div",{class:"ssl-popover-item"},[N("span",{class:"ssl-popover-title"},[R("自行排查")]),N("p",null,[R("以图文的形式，一步步教您验证并部署商业SSL")]),N(r,{href:"https://www.bt.cn/bbs/thread-85379-1-1.html",target:"_blank"},{default:()=>[R("如何验证商用证书?")]})]),N("div",{class:"ssl-popover-item"},[N("span",{class:"ssl-popover-title"},[R("购买人工")]),N("p",null,[R("不会部署?人工客服帮你全程部署，不成功可退款")]),N(M,{size:"small",type:"primary",onClick:()=>Ae()},{default:()=>[R("购买人工")]})])]),reference:()=>N("span",{class:"bt-link"},[R("排查方法?")])}),t=e.orderStatus,s=[];switch(Number(t)){case-1:s.push(N("span",{class:"text-danger"},[R("已取消")]));break;case 0:e.install||s.push(a),s.push(N("span",{class:"text-warning"},[R("待完善资料")]));break;case 1:s.push(N("span",{class:"text-warning"},[R("待审核")]));break;case 2:s.push(N("span",{class:"text-warning"},[R("正在提交CA")]));break;case 3:s.push(N("span",{class:"text-warning"},[R("待域名验证")]));break;case 4:s.push(N("span",{class:"text-warning"},[R("签发中")]));break;case 5:s.push(N("span",{class:"text-success"},[R("已签发")]));break;case 6:s.push(N("span",{class:"text-warning"},[R("取消确认")]));break;case 7:s.push(N("span",{class:"text-warning"},[R("待续费")]));break;case 8:s.push(N("span",{class:"text-warning"},[R("待吊销确认")]));break;case 9:s.push(N("span",{class:"text-warning"},[R("待重颁发")]));break;case 10:s.push(N("span",{class:"text-warning"},[R("重颁发中")]));break;case 11:s.push(N("span",{class:"text-warning"},[R("吊销中")]));break;case 12:s.push(N("span",{class:"text-danger"},[R("已吊销")]));break;default:s.push(N("span",{class:"text-warning"},[R("待完善资料")]))}const l=[];return s.map((e,a)=>{l.push(e),a<s.length-1&&l.push(N(Le,null,null))}),l})(e);if("1"===e.type){let a=[];const t=(e,a)=>N("span",{class:e},[a]),s=(e,a)=>N(L,{trigger:"hover",placement:"left","popper-class":"popover-default",width:"300",enterable:!1,"open-delay":100,"close-delay":0},{default:()=>N("div",{class:"flex items-center p-[2px] whitespace-nowrap"},[R("1、如填写错误，联系人工可重置订单"),N("br",null,null),R("2、如验证方式选择错误，联系人工修改验证方式")]),reference:()=>N("div",{style:"color: ".concat(e,";")},[a])});let l=e.domainName&&e.domainName.length>0;if(""!=e.certId||l)if(""==e.certId&&0!==e.domainName.length)a.push(t("text-[#e6a23c]","待提交"));else if(1===e.status)switch(e.orderStatus){case"COMPLETE":a.push(t("text-[#20a53a]","订单完成"));break;case"REISSUED":a.push(t("text-[#20a53a]","已重签"));break;case"PENDING":a.push(s("orange","验证中"));break;case"CANCELLED":a.push(t("text-[#909399]","已取消"));break;case"FAILED":a.push(t("text-[#f56c6c]","申请失败"));break;case"EXPIRED":a.push(t("text-[#f56c6c]","已过期"));break;default:a.push(t("text-[#e6a23c]","待验证"))}else switch(e.status){case 0:a.push(t("text-[#e6a23c]","未支付"));break;case-1:a.push(t("text-[#909399]","已取消"))}else a.push(N("span",{class:"cursor-pointer bt-warn",onClick:()=>be(e)},[R("待完善资料")]));const n=[];return a.map((e,t)=>{n.push(e),t<a.length-1&&n.push(N(U,{direction:"vertical"},null))}),n}return[]}},{label:"操作",align:"right",fixed:"right",width:280,render:e=>{if(e.cert_ssl_type)return ia(e);const a=(e,a)=>N("span",{class:"bt-link",onClick:a},[e]),t=a("人工服务",()=>Ae()),s=a("下载",()=>_e(e)),l=a("部署",()=>ge(e)),n=a("验证",()=>ye(e.oid,e.cert_ssl_type,e.pid)),r=a("续签",()=>xe(e.oid)),i=a("删除",()=>ta(e,!1)),o=a("到期告警",()=>he({...e,cancel:()=>{}}));let u=[];if(e.endDay<=0||u.push(o),e.renew&&u.push(N("span",{class:"cursor-pointer bt-link",onClick:()=>xe(e.oid)},[R("续签")])),""==e.certId)e.install&&u.push(t),u.push(a("完善资料",()=>be(e)));else if(1===e.status){switch(e.orderStatus){case"COMPLETE":1===e.ssl_state?u.push(N("span",null,[R("已部署")])):u.push(l),e.endDay<30&&u.push(r);break;case"PENDING":default:e.install&&u.push(t),u.push(n);break;case"CANCELLED":u.push(N("span",null,[R("无操作")]));break;case"FAILED":u.push(N("span",{class:"cursor-pointer bt-danger"},[R("申请失败")]));break;case"EXPIRED":u.push(l);case"REISSUED":}e.download_status&&u.push(s),e.endDay&&e.endDay<=0&&u.push(i)}else u.push(N("span",null,[R("无操作")]));const c=[];return u.map((e,a)=>{c.push(e),a<u.length-1&&c.push(N(U,{direction:"vertical"},null))}),u=c,u}}],extension:[Qe,x,p(_),m("search",{name:"ssl",key:"get_cert_list",list:[],showRecommend:!1})]});return F(()=>{t.value=z().name}),a({init:G}),(e,a)=>{const t=ee,s=v,l=r,n=f,i=Z;return C(),D("div",null,[N(i,null,{"header-left":B(()=>[j("div",oa,[N(t,{options:T(Ye)},null,8,["options"]),N(Be,{placement:"right"},{default:B(()=>[j("div",ua,[N(s,{src:"/static/icons/we-com.svg",class:"mx-[4px] w-2rem h-2rem",all:!0}),a[2]||(a[2]=j("span",{class:"bt-link"},"售前客服",-1))])]),_:1}),N(l,{class:"ml-[12px] flex items-center",onClick:T(ke)},{default:B(()=>[...a[3]||(a[3]=[j("div",{class:"flex items-center"},[j("span",{class:"svgtofont-desired text-[1.6rem]"}),j("span",null,"需求反馈")],-1)])]),_:1},8,["onClick"])])]),"header-right":B(()=>[j("div",ca,[N(T(E),{class:"!w-[140px] mr-[10px]"}),N(T(S),{type:"ssl-certificate",placeholder:"请输入证书名称",class:"!w-[270px] mr-[10px]"}),N(T(A))])]),content:B(()=>[N(T(b),{"min-height":T(g)},null,8,["min-height"])]),"footer-left":B(()=>[N(T(I))]),"footer-right":B(()=>[N(T(w))]),popup:B(()=>[N(n,{title:"证书删除确认",modelValue:T($e),"onUpdate:modelValue":a[0]||(a[0]=e=>J($e)?$e.value=e:null),area:["auto"],onCancel:a[1]||(a[1]=e=>T(aa).handleCancel())},{default:B(()=>[N(Fe,{ref_key:"delRef",ref:aa,delType:"ssl",isMulti:T(Ze),compData:T(ea),onCancel:T(sa)},null,8,["isMulti","compData","onCancel"])]),_:1},8,["modelValue"])]),_:1})])}}}),pa={class:"flex items-center"},ma={class:"flex items-center ml-[12px]"},ha={class:"flex items-center"};const va=g({__name:"index",setup(e,{expose:t}){const{refs:{tabActive:i,expiringCertificateCount:f,expiredCertificateCount:_,typeList:g}}=$(),{testSearchType:x,testIsRefresh:b}=y(ve()),{mainHeight:w,payment:k}=s(),{bindUser:E}=I(k.value);G();const S=[{content:"申请证书",dropdownClass:"bg-white",splitButton:!0,active:!0,event:()=>{if(!E.value)return Se(),!1;l({isAsync:!0,title:"申请免费宝塔SSL证书",area:60,component:()=>n(()=>import("./apply-bt-ssl.js?v=1756369731"),__vite__mapDeps([]),import.meta.url)})}}],A=O([]),M=Oe({key:"type",name:"证书分组",options:()=>[{label:"全部分组",value:"all"}],event:{get:async()=>{let e=[];return await a({request:le(),data:Array,success:a=>{e=[{label:"全部分组",value:"all"},...a.map(e=>({label:e.name,value:String(e.group_id)}))]}}),g.value=e,e},add:e=>ne({name:e.name,group_id:Date.now()}),delete:e=>re({group_id:e.id})},ignore:["0"],field:"name",showEdit:!1}),L=h([{label:"批量分组",value:"group",event:(e,a,t,s)=>me(t.value,"certificate")},{label:"批量设置告警",value:"alarm",event:(e,a,t,s)=>{fe(t.value,we.TEST)}}]),{BtTable:J,BtPage:X,BtRefresh:Y,BtTableCategory:K,BtRecommendSearch:Q,BtColumn:ae,BtBatch:te,BtErrorMask:se,refresh:ie}=o({request:async e=>{let a={p:e.p,group_id:u(e.type)||"all"===e.type?"-1":e.type,search:e.search,limit:e.limit,status_id:x.value,cert_type:"2"};"-1"===a.group_id&&delete a.group_id,"-1"===a.status_id&&delete a.status_id,""===a.search&&delete a.search;const{data:t}=await oe(a);A.value=t.data;const s=c(t);return s("will_num")&&(f.value=(null==t?void 0:t.will_num)||0),s("end_num")&&(_.value=(null==t?void 0:t.end_num)||0),{data:t.data,total:d(t.page),other:{search_history:t.search_history}}},columns:[Ie(),{label:"认证域名",render:e=>{var a;return(null==(a=e.domainName)?void 0:a.join(", "))||"--"}},{label:"部署网站",isCustom:!0,render:e=>{var a;return(null==(a=e.use_site)?void 0:a.join(", "))||"--"}},{label:"分组",prop:"group_name",width:100,showOverflowTooltip:!0,isCustom:!1},{label:"到期时间",isCustom:!0,render:e=>{var a,t;const s=(e,a)=>N("span",{class:e<=10?"text-danger":a},[e>0?"剩余".concat(e,"天"):"已过期"]),l=(n=e.endDay)<=0||n<=7?"text-danger":n<=15?"text-orange":"text-[#20a53a]";var n;return"1"===e.type?e.endDate?s(e.endDay,e.endDay<=30?"text-orange":l):N("span",null,[R("--")]):"2"===e.type?(null==e?void 0:e.endDay)&&0!==(null==e?void 0:e.endDay)?s(e.endDay,e.endDay<=30?"text-orange":l):N("span",null,[R("--")]):N("span",{class:(null==(a=e.domainName)?void 0:a.length)?l:"text-[#333]"},[(null==(t=e.domainName)?void 0:t.length)?e.endDay>0?"剩余".concat(e.endDay,"天"):"已过期":"--"])}},{label:"订单状态",isCustom:!0,renderHeader(){const e=[{title:"全部",key:"-1"},{title:"验证中",key:"0"},{title:"未到期/订单完成",key:"1"},{title:"即将到期",key:"2"},{title:"已到期",key:"3"}];return V("div",{class:"flex items-center flex-nowrap"},["",V(P,{onCommand:e=>{x.value=e,ie()}},{default:()=>V("span",{class:"text-[1.2rem] flex items-center"},[[N("span",{class:"status-header-text"},[R("订单状态"),"-1"===x.value?"(全部)":"(".concat(e.find(e=>e.key===x.value).title,")")])],V("i",{class:"svgtofont-el-arrow-down "})]),dropdown:()=>{let a;return N(H,null,"function"==typeof(t=a=e.map(e=>N(q,{command:e.key},{default:()=>[e.title]})))||"[object Object]"===Object.prototype.toString.call(t)&&!W(t)?a:{default:()=>[a]});var t}})])},render:e=>{switch(e.stateName){case"待验证":return N("span",{class:"text-[#e6a23c]"},[e.stateName]);case"已过期":return N("span",{class:"text-danger"},[e.stateName]);case"验证中":return N("span",{class:"text-[#fc6d26]"},[e.stateName]);case"审核已终止":return N("span",{class:"text-[#909399]"},[e.stateName]);default:return N("span",{class:"text-[#20a53a]"},[e.stateName])}}},{label:"操作",align:"right",fixed:"right",width:200,render:e=>{let a=[];return"审核已终止"===e.stateName?N("span",null,[R("--")]):(a=[N("span",{class:"cursor-pointer bt-link",onClick:()=>ge(e)},[R("部署")])],"WF_DOMAIN_APPROVAL"===e.stateCode&&""!==e.authDomain?a=[N("span",{class:"cursor-pointer bt-link",onClick:()=>Ce(e)},[R("验证域名")]),N(U,{direction:"vertical"},null),N("span",{class:"bt-link",onClick:()=>Re(e)},[R("修改域名")])]:"WF_DOMAIN_APPROVAL"===e.stateCode&&""===e.authDomain?a=[N("span",{class:"bt-link",onClick:()=>Re(e)},[R("填写域名")])]:De(e,we.TEST)&&a.push(N(U,{direction:"vertical"},null),N("span",{class:"cursor-pointer bt-link",onClick:()=>he({...e,cancel:()=>{}})},[R("到期告警")])),a)}}],extension:[M,L,p(b),m("search",{name:"ssl",key:"get_cert_list",list:[],showRecommend:!1})]});return F(()=>{i.value=z().name}),t({init:ie}),(e,a)=>{const t=ee,s=v,l=r,n=Z;return C(),D("div",null,[N(n,null,{"header-left":B(()=>[j("div",pa,[N(t,{options:S}),N(Be,{placement:"right"},{default:B(()=>[j("div",ma,[N(s,{src:"/static/icons/we-com.svg",class:"mx-[4px] w-2rem h-2rem",all:!0}),a[0]||(a[0]=j("span",{class:"bt-link"},"售前客服",-1))])]),_:1}),N(l,{class:"ml-[12px] flex items-center",onClick:T(ke)},{default:B(()=>[...a[1]||(a[1]=[j("div",{class:"flex items-center"},[j("span",{class:"svgtofont-desired text-[1.6rem]"}),j("span",null,"需求反馈")],-1)])]),_:1},8,["onClick"])])]),"header-right":B(()=>[j("div",ha,[N(T(K),{class:"!w-[140px] mr-[10px]"}),N(T(Q),{type:"ssl-certificate",placeholder:"请输入证书名称",class:"!w-[270px] mr-[10px]"}),N(T(ae))])]),content:B(()=>[N(T(J),{"min-height":T(w)},null,8,["min-height"])]),"footer-left":B(()=>[N(T(te))]),"footer-right":B(()=>[N(T(X))]),_:1})])}}}),{encryptIsRefresh:fa}=y(ve()),_a=b(!1),ga=b(!1),ya=b(null),xa=b(null),ba=(e,a)=>{ga.value=a,ya.value=e,_a.value=!0},wa=async(t,s,r,i)=>{const{label:o,value:u}=i;let c=[],d=[];r.value.forEach(e=>{void 0!==e.hash&&null!==e.hash?d.push(e.hash):void 0!==e.index&&null!==e.index&&c.push(e.index)});const p=async()=>{switch(u){case"download":return await ie({ssl_hash:d.join(","),index:c.join(",")});case"delete":return await ba(r.value,!0)}};await l({title:"批量".concat(o,"证书"),area:46,component:()=>n(()=>import("./index118.js?v=1756369731"),__vite__mapDeps([]),import.meta.url),compData:{resultTitle:"批量".concat(o,"证书"),resultData:r.value,resultColumn:[{label:"名称",prop:"title"},Me()],autoTitle:"批量".concat(o,"证书")},showFooter:!0,onConfirm:async()=>{"delete"!==u?a({request:await p(),loading:"正在批量".concat(o,"证书"),success(a){var t;const{data:s,status:l}=a;if(l){let a=[],l=[];"download"===u?(s.url&&window.open(s.url,"_blank","noopener,noreferrer"),(null==(t=s.finish_list)?void 0:t.length)>0&&s.finish_list.forEach(e=>{const t=JSON.parse(e.cert.info);a.push({name:t.issuer,status:e.status})}),l=[{label:"名称",prop:"name"},{label:"结果",render:e=>{let a="",t="";return e.status?(t="text-primary",a="下载成功"):(t="text-danger",a="下载失败"),V("span",{class:t},a)}}]):e(s.finish_list)&&(s.finish_list.forEach(e=>{a.push({name:e.name,status:e.status,msg:e.status?"删除成功":e.msg})}),l=[{label:"名称",prop:"name"},{label:"结果",render:e=>{let a=e.msg,t="";return t=e.status?"text-primary":"text-danger",V("span",{class:t},a)}}],fa.value=!0),pe({resultTitle:"批量".concat(o,"证书"),resultData:a,resultColumn:l})}}}):await p()}})},ka={class:"flex items-center"},Ca={class:"flex items-center ml-[12px]"},Da={class:"flex items-center"};const ja=g({__name:"index",setup(e,{expose:t}){const{refs:{tabActive:i,expiringCertificateCount:_,expiredCertificateCount:g,typeList:x}}=$(),{encryptIsRefresh:b,encryptSearchType:w}=y(ve()),{mainHeight:k}=s();G();const E=[{content:"申请证书",dropdownClass:"bg-white",splitButton:!0,active:!0,event:()=>{l({isAsync:!0,title:"申请Let's Encrypt证书",area:64,component:()=>n(()=>import("./apply-lest-ssl.js?v=1756369731"),__vite__mapDeps([]),import.meta.url)})}}],S=O([]),A=()=>{_a.value=!1},M=Oe({key:"type",name:"证书分组",options:()=>[{label:"全部分组",value:"all"}],event:{get:async()=>{let e=[];return await a({request:le(),data:Array,success:a=>{e=[{label:"全部分组",value:"all"},...a.map(e=>({label:e.name,value:String(e.group_id)}))]}}),x.value=e,e},add:e=>ne({name:e.name,group_id:Date.now()}),delete:e=>re({group_id:e.id})},ignore:["0"],field:"name",showEdit:!1}),I=h([{label:"批量分组",value:"group",event:(e,a,t,s)=>me(t.value,"certificate")},{label:"批量设置告警",value:"alarm",event:(e,a,t,s)=>{fe(t.value,we.ENCRYPT)}},{label:"下载",value:"download",event:wa},{label:"删除",value:"delete",event:wa}]),{BtTable:Q,BtPage:ae,BtRefresh:te,BtTableCategory:se,BtRecommendSearch:ie,BtColumn:ce,BtBatch:de,BtErrorMask:pe,refresh:ye}=o({request:async e=>{let a={p:e.p,group_id:u(e.type)||"all"===e.type?"-1":e.type,search:e.search,limit:e.limit,status_id:w.value,cert_type:"3"};"-1"===a.group_id&&delete a.group_id,"-1"===a.status_id&&delete a.status_id,""===a.search&&delete a.search;const{data:t}=await oe(a);S.value=t.data;const s=c(t);return s("will_num")&&(_.value=(null==t?void 0:t.will_num)||0),s("end_num")&&(g.value=(null==t?void 0:t.end_num)||0),{data:t.data,total:d(t.page),other:{search_history:t.search_history}}},columns:[Ie(),{label:"认证域名",render:e=>{var a;return(null==(a=e.domainName)?void 0:a.join(", "))||"--"}},{label:"部署网站",isCustom:!0,render:e=>{var a;return(null==(a=e.use_site)?void 0:a.join(", "))||"--"}},{label:"分组",prop:"group_name",width:100,showOverflowTooltip:!0,isCustom:!1},{label:"到期时间",isCustom:!0,render:e=>{var a,t;const s=(e,a)=>N("span",{class:e<=10?"text-danger":a},[e>0?"剩余".concat(e,"天"):"已过期"]),l=(n=e.endDay)<=0||n<=7?"text-danger":n<=15?"text-orange":"text-[#20a53a]";var n;return"1"===e.type?e.endDate?s(e.endDay,e.endDay<=30?"text-orange":l):N("span",null,[R("--")]):"2"===e.type?(null==e?void 0:e.endDay)&&0!==(null==e?void 0:e.endDay)?s(e.endDay,e.endDay<=30?"text-orange":l):N("span",null,[R("--")]):N("span",{class:(null==(a=e.domainName)?void 0:a.length)?l:"text-[#333]"},[(null==(t=e.domainName)?void 0:t.length)?e.endDay>0?"剩余".concat(e.endDay,"天"):"已过期":"--"])}},{label:"验证方式",isCustom:!0,prop:"auth_type",render:(e,a)=>N("span",null,["dns"===e.auth_type?"DNS验证":"文件验证"])},{label:"订单状态",isCustom:!0,renderHeader(){const e=[{title:"全部",key:"-1"},{title:"验证中",key:"0"},{title:"未到期/订单完成",key:"1"},{title:"即将到期",key:"2"},{title:"已到期",key:"3"}];return V("div",{class:"flex items-center flex-nowrap"},["",V(P,{onCommand:e=>{w.value=e,ye()}},{default:()=>V("span",{class:"text-[1.2rem] flex items-center"},[[N("span",{class:"status-header-text"},[R("订单状态"),"-1"===w.value?"(全部)":"(".concat(e.find(e=>e.key===w.value).title,")")])],V("i",{class:"svgtofont-el-arrow-down "})]),dropdown:()=>{let a;return N(H,null,"function"==typeof(t=a=e.map(e=>N(q,{command:e.key},{default:()=>[e.title]})))||"[object Object]"===Object.prototype.toString.call(t)&&!W(t)?a:{default:()=>[a]});var t}})])},render:e=>{var a;if(!(null==e?void 0:e.order_status)||""===(null==e?void 0:e.order_status))return N("span",{class:"text-[#20a53a]"},[R("订单完成")]);switch(e.order_status){case"pending":return(null==(a=e.domainName)?void 0:a.length)&&e.endDay>0?N("span",{class:"text-[#e6a23c]"},[R("待验证")]):N("span",null,[R("--")]);case"invalid":return N(X,{content:"验证失败，请尝试删除此订单后重新申请",placement:"top"},{default:()=>[N("span",{class:"text-[#e6a23c]"},[e.order_status_nm])]});default:return N("span",{class:"text-[#20a53a]"},[R("订单完成")])}}},{label:"自动续签",renderHeader:()=>N("div",{class:"flex items-center"},[N("span",null,[R("自动续签")]),N(L,{placement:"top-start",width:"200",trigger:"hover",content:"只支持let's Encrypt证书订单续签"},{reference:()=>N("span",{class:" ml-[4px] bt-ico-ask"},[R("?")])})]),isCustom:!1,render:e=>{let t=!("3"!==e.type||!e.order_status||-1===e.crontab_id),s="3"!==e.type||"valid"!==e.order_status;return N("span",{class:"flex items-center"},[N(Y,{size:"small",modelValue:t,"onUpdate:modelValue":e=>t=e,disabled:s,onChange:a=>{a?(e.crontab_id=1,je({...e,cancel:()=>{K(()=>{e.crontab_id=-1})}})):Ee(e)}},null),e.crontab_data&&-1===Number(e.crontab_data.status)&&N("span",{class:"bt-link !text-danger ml-[4px]",onClick:()=>(async e=>{a({request:await ue(e.crontab_id),loading:"正在获取异常日志",success(a){const{msg:t}=a;l({title:"续签异常/失败日志",area:66,component:()=>n(()=>import("./exception-log.js?v=1756369731"),__vite__mapDeps([]),import.meta.url),compData:{reason:e.crontab_data.error_msg,logContent:t||"暂无异常日志"}})}})})(e)},[R("异常")])])}},{label:"操作",align:"right",fixed:"right",width:280,render:e=>{var a;let t=[];"valid"===e.order_status&&(t.push(N("span",{class:"cursor-pointer bt-link",onClick:()=>{Te(e)}},[R("续签")])),De(e,we.ENCRYPT)&&t.push(N("span",{class:"cursor-pointer bt-link",onClick:()=>he({...e,cancel:()=>{}})},[R("到期告警")]))),"pending"!==e.order_status&&"invalid"!==e.order_status?(t.push(N("span",{class:"cursor-pointer bt-link",onClick:()=>ge(e)},[R("部署")])),t.push(N("span",{class:"cursor-pointer bt-link",onClick:()=>_e(e)},[R("下载")]))):(null==(a=e.domainName)?void 0:a.length)&&e.endDay>0&&e.order_status&&"invalid"!==e.order_status&&t.push(N("span",{class:"cursor-pointer bt-link",onClick:()=>Ce(e)},[R("验证")])),t.push(N("span",{class:"cursor-pointer bt-link",onClick:()=>ba(e,!1)},[R("删除")]));const s=[];return t.map((e,a)=>{s.push(e),a<t.length-1&&s.push(N(U,{direction:"vertical"},null))}),t=s,t}}],extension:[M,I,p(b),m("search",{name:"ssl",key:"get_cert_list",list:[],showRecommend:!1})]});return F(()=>{i.value=z().name}),t({init:ye}),(e,a)=>{const t=ee,s=v,l=r,n=f,i=Z;return C(),D("div",null,[N(i,null,{"header-left":B(()=>[j("div",ka,[N(t,{options:E}),N(Be,{placement:"right"},{default:B(()=>[j("div",Ca,[N(s,{src:"/static/icons/we-com.svg",class:"mx-[4px] w-2rem h-2rem",all:!0}),a[2]||(a[2]=j("span",{class:"bt-link"},"联系客服",-1))])]),_:1}),N(l,{class:"ml-[12px] flex items-center",onClick:T(ke)},{default:B(()=>[...a[3]||(a[3]=[j("div",{class:"flex items-center"},[j("span",{class:"svgtofont-desired text-[1.6rem]"}),j("span",null,"需求反馈")],-1)])]),_:1},8,["onClick"])])]),"header-right":B(()=>[j("div",Da,[N(T(se),{class:"!w-[140px] mr-[10px]"}),N(T(ie),{type:"ssl-certificate",placeholder:"请输入证书名称",class:"!w-[270px] mr-[10px]"}),N(T(ce))])]),content:B(()=>[N(T(Q),{"min-height":T(k)},null,8,["min-height"])]),"footer-left":B(()=>[N(T(de))]),"footer-right":B(()=>[N(T(ae))]),popup:B(()=>[N(n,{title:"证书删除确认",modelValue:T(_a),"onUpdate:modelValue":a[0]||(a[0]=e=>J(_a)?_a.value=e:null),area:["auto"],onCancel:a[1]||(a[1]=e=>T(xa).handleCancel())},{default:B(()=>[N(Fe,{ref_key:"delRef",ref:xa,delType:"encrypt",isMulti:T(ga),compData:T(ya),onCancel:A},null,8,["isMulti","compData"])]),_:1},8,["modelValue"])]),_:1})])}}}),{otherIsRefresh:Ea}=y(ve()),Ta=b(!1),Na=b(!1),Ba=b(null),Ra=b(null),Sa=(e,a)=>{Na.value=a,Ba.value=e,Ta.value=!0},Aa=async(t,s,r,o)=>{const{label:u,value:c}=o;let d=[],p=[],m=[];r.value.forEach(e=>{void 0!==e.hash&&null!==e.hash?p.push(e.hash):void 0!==e.index&&null!==e.index?d.push(e.index):void 0!==e.oid&&null!==e.oid&&m.push(e.oid)});const h=async()=>{switch(c){case"download":return await ie({ssl_hash:p.join(","),index:d.join(","),oid:m.join(",")});case"delete":return await Sa(r.value,!0)}};await l({title:"批量".concat(u,"证书"),area:46,component:()=>n(()=>import("./index118.js?v=1756369731"),__vite__mapDeps([]),import.meta.url),compData:{resultTitle:"批量".concat(u,"证书"),resultData:r.value,resultColumn:[{label:"名称",prop:"title"},Me()],autoTitle:"批量".concat(u,"证书")},showFooter:!0,onConfirm:async()=>{if("delete"===c)return void(await h());let t;t=i.load("正在批量".concat(u,"证书")),a({request:await h(),success(a){const{data:s,status:l}=a;if(l){let a=[],l=[];"download"===c?(s.url&&window.open(s.url,"_blank","noopener,noreferrer"),e(s.finish_list)&&s.finish_list.forEach(e=>{const t=JSON.parse(e.cert.info);a.push({name:t.issuer,status:e.status})}),l=[{label:"名称",prop:"name"},{label:"结果",render:e=>{let a="",t="";return e.status?(t="text-primary",a="下载成功"):(t="text-danger",a="下载失败"),V("span",{class:t},a)}}]):e(s.finish_list)&&(s.finish_list.forEach(e=>{a.push({name:e.name,status:e.status,msg:e.status?"删除成功":e.msg})}),l=[{label:"名称",prop:"name"},{label:"结果",render:e=>{let a=e.msg,t="";return t=e.status?"text-primary":"text-danger",V("span",{class:t},a)}}],Ea.value=!0),pe({resultTitle:"".concat(u,"证书"),resultData:a,resultColumn:l}),t&&t.close()}}})}})},Ma={class:"flex items-center"},Ia={class:"flex items-center ml-[12px]"},Oa={class:"flex items-center"},La=g({__name:"index",setup(e,{expose:t}){const{refs:{tabActive:l,certificateParams:n,expiringCertificateCount:_,expiredCertificateCount:g,typeList:x}}=$(),{otherIsRefresh:b}=y(ve()),{mainHeight:w}=s(),k=[{content:"上传证书",dropdownClass:"bg-white",splitButton:!0,active:!0,event:()=>{Ne()}},{content:"从云端同步",dropdownClass:"bg-white",splitButton:!0,event:()=>{a({request:de(),loading:"正在从云端同步证书，请稍后...",message:!0,success:e=>{e.status&&(Ea.value=!0)}})}}],E=O([]),S=()=>{Ta.value=!1},A=Oe({key:"type",name:"证书分组",options:()=>[{label:"全部分组",value:"all"}],event:{get:async()=>{let e=[];return await a({request:le(),data:Array,success:a=>{e=[{label:"全部分组",value:"all"},...a.map(e=>({label:e.name,value:String(e.group_id)}))]}}),x.value=e,e},add:e=>ne({name:e.name,group_id:Date.now()}),delete:e=>re({group_id:e.id})},ignore:["0"],field:"name",showEdit:!1}),M=h([{label:"批量分组",value:"group",event:(e,a,t,s)=>me(t.value,"certificate")},{label:"批量设置告警",value:"alarm",event:(e,a,t,s)=>{fe(t.value,we.OTHER)}},{label:"下载",value:"download",event:Aa},{label:"删除",value:"delete",event:Aa}]),{BtTable:I,BtPage:L,BtRefresh:V,BtTableCategory:P,BtRecommendSearch:q,BtColumn:H,BtBatch:W,BtErrorMask:G,refresh:X}=o({request:async e=>{let a={p:e.p,group_id:u(e.type)||"all"===e.type?"-1":e.type,search:e.search,limit:e.limit,status_id:n.value.status_id,cert_type:"4"};"-1"===a.group_id&&delete a.group_id,"-1"===a.status_id&&delete a.status_id,""===a.search&&delete a.search;const{data:t}=await oe(a);E.value=t.data;const s=c(t);return s("will_num")&&(_.value=(null==t?void 0:t.will_num)||0),s("end_num")&&(g.value=(null==t?void 0:t.end_num)||0),{data:t.data,total:d(t.page),other:{search_history:t.search_history}}},columns:[Ie(),{label:"认证域名",render:e=>{var a;return(null==(a=e.domainName)?void 0:a.join(", "))||"--"}},{label:"证书类型",prop:"title",showOverflowTooltip:!0,width:180},{label:"部署网站",isCustom:!0,render:e=>{var a;return(null==(a=e.use_site)?void 0:a.join(", "))||"--"}},{label:"分组",prop:"group_name",width:100,showOverflowTooltip:!0,isCustom:!1},{label:"到期时间",isCustom:!0,render:e=>{var a,t;const s=(e,a)=>N("span",{class:e<=10?"text-danger":a},[e>0?"剩余".concat(e,"天"):"已过期"]),l=(n=e.endDay)<=0||n<=7?"text-danger":n<=15?"text-orange":"text-[#20a53a]";var n;return"1"===e.type?e.endDate?s(e.endDay,e.endDay<=30?"text-orange":l):N("span",null,[R("--")]):"2"===e.type?(null==e?void 0:e.endDay)&&0!==(null==e?void 0:e.endDay)?s(e.endDay,e.endDay<=30?"text-orange":l):N("span",null,[R("--")]):N("span",{class:(null==(a=e.domainName)?void 0:a.length)?l:"text-[#333]"},[(null==(t=e.domainName)?void 0:t.length)?e.endDay>0?"剩余".concat(e.endDay,"天"):"已过期":"--"])}},{label:"操作",align:"right",fixed:"right",width:280,render:e=>{const t=(e,a)=>N("span",{class:"cursor-pointer bt-link",onClick:a},[e]),s=[];return e.endDay>0&&(s.push(t("部署",()=>ge(e))),s.push(t("下载",()=>_e(e))),-1===e.cloud_id?s.push(t("上传云端",()=>(async e=>{let a;try{a=i.load("正在上传云端证书，请稍候..."),await ce({ssl_id:e.id,ssl_hash:e.hash}),Ea.value=!0,a&&a.close()}catch(t){}finally{a&&a.close()}})(e))):s.push(t("从云端删除",()=>(async e=>{a({loading:"正在从云端删除证书，请稍后...",message:!0,request:await se({ssl_id:e.id,ssl_hash:e.hash,local:!1,cloud:!0}),success:e=>{e.status&&(Ea.value=!0)}})})(e))),De(e,we.OTHER)&&s.push(t("到期告警",()=>he({...e,cancel:()=>{}})))),s.push(t("删除",()=>Sa(e,!1))),s.map((e,a)=>N("div",null,[e,a<s.length-1&&N(U,{direction:"vertical"},null)]))}}],extension:[A,M,p(b),m("search",{name:"ssl",key:"get_cert_list",list:[],showRecommend:!1})]});return F(()=>{l.value=z().name}),t({init:X}),(e,a)=>{const t=ee,s=v,l=r,n=f,i=Z;return C(),D("div",null,[N(i,null,{"header-left":B(()=>[j("div",Ma,[N(t,{options:k}),N(Be,{placement:"right"},{default:B(()=>[j("div",Ia,[N(s,{src:"/static/icons/we-com.svg",class:"mx-[4px] w-2rem h-2rem",all:!0}),a[2]||(a[2]=j("span",{class:"bt-link"},"联系客服",-1))])]),_:1}),N(l,{class:"ml-[12px] flex items-center",onClick:T(ke)},{default:B(()=>[...a[3]||(a[3]=[j("div",{class:"flex items-center"},[j("span",{class:"svgtofont-desired text-[1.6rem]"}),j("span",null,"需求反馈")],-1)])]),_:1},8,["onClick"])])]),"header-right":B(()=>[j("div",Oa,[N(T(P),{class:"!w-[140px] mr-[10px]"}),N(T(q),{type:"ssl-certificate",placeholder:"请输入证书名称",class:"!w-[270px] mr-[10px]"}),N(T(H))])]),content:B(()=>[N(T(I),{"min-height":T(w)},null,8,["min-height"])]),"footer-left":B(()=>[N(T(W))]),"footer-right":B(()=>[N(T(L))]),popup:B(()=>[N(n,{title:"证书删除确认",modelValue:T(Ta),"onUpdate:modelValue":a[0]||(a[0]=e=>J(Ta)?Ta.value=e:null),area:["auto"],onCancel:a[1]||(a[1]=e=>T(Ra).handleCancel())},{default:B(()=>[N(Fe,{ref_key:"delRef",ref:Ra,delType:"other",isMulti:T(Na),compData:T(Ba),onCancel:S},null,8,["isMulti","compData"])]),_:1},8,["modelValue"])]),_:1})])}}}),Va={class:"text-[1.3rem]"},Pa=g({__name:"index",setup(e){const{activeTabs:a}=y(ve()),{refs:{expiringCertificateCount:t,expiredCertificateCount:s}}=$(),l=b([{label:"商用SSL",name:"ssl",render:()=>N(da,null,null)},{label:"测试证书",name:"test",lazy:!0,render:()=>N(va,null,null)},{label:"Let's Encrypt",name:"encrypt",lazy:!0,render:()=>N(ja,null,null)},{label:"其他证书",name:"other",lazy:!0,render:()=>N(La,null,null)}]);return(e,n)=>{const r=Q,i=_;return C(),D("div",null,[N(r,{type:"warning",class:"!mb-[1.2rem] !p-[1.2rem]",closable:!1,"show-icon":""},{title:B(()=>[j("span",Va,[j("span",null," 提示：即将到期证书 "+E(T(t))+" 个，已过期证书 "+E(T(s))+" 个",1)])]),_:1}),N(i,{type:"card",modelValue:T(a),"onUpdate:modelValue":n[0]||(n[0]=e=>J(a)?a.value=e:null),options:T(l)},null,8,["modelValue","options"])])}}});export{Pa as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
