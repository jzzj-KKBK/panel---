import{u as e}from"./index108.js?v=1756369731";import{u as t,a,g as s,b as l,c as n,d as o,e as i,f as r,h as p,o as m,i as u,j as c,k as _,s as d,l as v,m as f}from"./useStore8.js?v=1756369731";import{u as b,aM as x,a6 as P,R as T,a7 as h,cu as j,cv as y,A as F,l as k,L as g,a8 as E,c as I,M as w}from"./utils-lib.js?v=1756369731";import{_ as R}from"./index103.js?v=1756369731";import{_ as B}from"./index107.js?v=1756369731";import{_ as D}from"./index104.js?v=1756369731";import{u as C}from"./index141.js?v=1756369731";import{_ as L}from"./index130.js?v=1756369731";import{r as q,as as A,c as O,e as M,F as V,p as S,q as z,v as H,x as Z,A as N,y as W,z as G,B as J,a4 as K,M as Q}from"./base-lib.js?v=1756369731";import{a as U,i as X,b as Y,j as $,d as ee,k as te,g as ae,u as se}from"./column.js?v=1756369731";import{p as le}from"./validator.js?v=1756369731";import{B as ne}from"./index131.js?v=1756369731";import"./index109.js?v=1756369731";import"./index110.js?v=1756369731";import"./__commonjsHelpers__.js?v=1756369731";import"./index124.js?v=1756369731";import"./index.vue_vue_type_style_index_0_scoped_b3c4124c_lang.js?v=1756369731";const oe=O({__name:"index",setup(e){const{serverIp:f,mainHeight:K,payment:Q}=b(),{ftpPort:oe,rowData:ie,pluginInfo:re,isRefreshFtpList:pe}=t(),{isEdit:me}=a(),ue=e=>(ie.value=e,me.value=!!e,k({title:"".concat(e?"修改FTP用户【".concat(e.name,"】"):"添加FTP用户"),area:50,btn:"".concat(e?"保存":"确认"),compData:e||{},component:()=>g(()=>import("./index302.js?v=1756369731"),__vite__mapDeps([]),import.meta.url)})),ce=(e,t=!1)=>{"ltd"===Q.value.authType?_e(e):le({sourceId:t?260:52})},_e=e=>{ie.value=e,k({title:"【".concat(e.name,"】FTP配额容量"),area:50,btn:!0,compData:e,component:()=>g(()=>import("./index304.js?v=1756369731"),__vite__mapDeps([]),import.meta.url)})},de=(e=!0)=>{v.value=e,k({title:"FTP日志扫描工具",area:[70,52],component:()=>g(()=>import("./index306.js?v=1756369731").then(e=>e.k),__vite__mapDeps([]),import.meta.url)})},ve=C({key:"type_id",name:"FTP分类",options:()=>[{label:"全部分类",value:"all"}],event:{get:n,add:o,update:i,delete:r}}),fe=[{name:"容量限制",callback:()=>{if(0===Re.data.length)return w.error("暂无FTP用户，请先添加FTP用户");ce(Re.data[0],!0)}},{name:"FTP日志分析",callback:de}],{BtOperation:be}=x({options:[{type:"button",label:"添加FTP",active:!0,onClick:()=>ue()},{type:"button",label:"修改FTP端口",onClick:()=>{k({title:"修改FTP端口",area:40,btn:!0,component:()=>g(()=>import("./index305.js?v=1756369731"),__vite__mapDeps([]),import.meta.url)})}},{type:"button",label:"FTP日志分析",onClick:()=>de(!1)},{type:"divider"},{type:"custom",render:()=>M(ne,{class:"ml-1rem",isRequest:!1,pluginInfo:re.value},null)}]}),xe=E([{label:"启用FTP",value:"start",event:_},{label:"停用FTP",value:"stop",event:_},{label:"改密FTP",value:"exitPaw",event:async(e,t,a,s,l,n)=>{ie.value={selectedList:a,clearSelection:l,config:n},await k({title:"批量修改FTP密码",area:"auto",btn:!0,compData:{selectedList:a,clearSelection:l,config:n},component:()=>g(()=>import("./index309.js?v=1756369731"),__vite__mapDeps([]),import.meta.url)})}},{label:"设置分类",value:"setClass",event:async(e,t,a,s,l,n)=>{d(a,l,Ie,n)}},{label:"删除FTP",value:"delete",event:_}]),{BtTable:Pe,BtPage:Te,BtRecommendSearch:he,BtRefresh:je,BtColumn:ye,BtBatch:Fe,BtTableCategory:ke,BtErrorMask:ge,tableRef:Ee,classList:Ie,refresh:we,config:Re}=P({request:e=>("all"===e.type_id&&(e.type_id=""),s(e)),columns:[U({type:"page",key:"id"}),{label:"用户名",prop:"name",minWidth:120},X({width:160}),Y({event:p,data:["已停用","已启用"]}),$({label:"快速连接",width:80,title:"复制快速连接信息",text:"点击查看",event:e=>{ie.value=e,k({title:"快速连接",area:48,compData:e,component:()=>g(()=>import("./index308.js?v=1756369731"),__vite__mapDeps([]),import.meta.url)})}}),ee(),{label:"密码有效期",isCustom:!0,width:120,title:"设置密码有效期",prop:"end_time",render:e=>{let{isOrange:t,isEnd:a}=l(e);return M("span",{onClick:()=>{ie.value=e,(e=>{k({title:"设置密码有效期",area:46,btn:!0,compData:e,component:()=>g(()=>import("./index303.js?v=1756369731"),__vite__mapDeps([]),import.meta.url)})})(e)},title:"设置密码有效期",style:"color:#".concat(a?"ef0808":t?"f0ad4e":"20a53a",";cursor:pointer")},["0"!==e.end_time?T(Number(e.end_time),"yyyy-MM-dd"):"永久"])}},te({event:ce,width:100}),ae({table:"ftps",width:"auto"}),se([{onClick:e=>{ie.value=e,k({title:"修改FTP权限配置-[".concat(e.name,"]"),area:72,btn:"保存",compData:e,component:()=>g(()=>import("./index307.js?v=1756369731"),__vite__mapDeps([]),import.meta.url)})},title:"配置"},{onClick:ue,title:"修改"},{onClick:m,title:"日志"},{onClick:u,title:"删除"}])],extension:[ve,xe,h(pe),j("search",{name:"ftps",list:fe}),y()]}),{BtSoftInstallMask:Be,checkInstallRequest:De}=(e=>{if(!e.request&&!e.options)throw new Error("请传入request或者options参数");const t=q({name:"",version:"",setup:!1,status:!1,title:e.name||""}),a=A("_".concat(e.name,"_mask"),!1),s=async()=>{if(!e.request)return;const s=await e.request();t.value=s,a.value=!t.value.setup};return(null==e?void 0:e.extension)&&e.extension.length&&(null==e||e.extension.forEach(e=>{e.install(t.value)})),(null==e?void 0:e.options)&&(t.value=e.options,a.value=!t.value.setup),{init:async()=>(await s(),{BtSoftInstallMask:O(()=>()=>t.value.setup?null:M(L,{options:t.value},null))}),checkInstallRequest:s,BtSoftInstallMask:()=>M(V,null,[a.value?M(L,{options:t.value},null):null])}})({request:c,name:"Pure-FTPd",extension:[]});return S(De),(e,t)=>{const a=D,s=I,l=B,n=R;return z(),H(V,null,[M(Z(Be)),M(Z(ge)),M(l,{class:"!mb-[12px]",closable:!1,type:"info","show-icon":""},{title:N(()=>[t[2]||(t[2]=W("span",null,"当前FTP地址为：",-1)),W("span",{class:"cursor-pointer",title:"点击复制FTP路径",onClick:t[0]||(t[0]=e=>Z(F)({value:"ftp://".concat(Z(f),":").concat(Z(oe))}))}," ftp://"+G(Z(f)||"IP地址")+":"+G(Z(oe)||"端口"),1),M(a),M(s,{target:"_blank",class:"bt-link",href:"https://download.bt.cn/win/filezilla/FileZilla-setup.exe"},{default:N(()=>[...t[1]||(t[1]=[J(" 下载FTP连接工具(FileZilla, 免费开源) ",-1)])]),_:1})]),_:1}),M(n,null,{"header-left":N(()=>[M(Z(be))]),"header-right":N(()=>[M(Z(ke),{class:"!w-[140px] mr-[10px]"}),M(Z(he),{type:"ftps",placeholder:"请输入FTP用户/备注",class:"!w-[270px] mr-[10px]"}),M(Z(je),{class:"mr-[10px]"}),M(Z(ye))]),content:N(()=>[M(Z(Pe),{"min-height":Z(K)},null,8,["min-height"])]),"footer-left":N(()=>[M(Z(Fe))]),"footer-right":N(()=>[M(Z(Te))]),_:1})],64)}}}),ie=O({__name:"index",setup(t){const{BtRouterTabs:a}=e({level:!0});return K(()=>{f()}),(e,t)=>(z(),Q(Z(a),null,{default:N(()=>[M(oe)]),_:1}))}});export{ie as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
