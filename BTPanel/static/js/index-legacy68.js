!function(){function t(n){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(n)}var n=["type"];function e(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),e.push.apply(e,r)}return e}function r(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?e(Object(r),!0).forEach(function(n){o(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function o(n,e,r){return(e=function(n){var e=function(n,e){if("object"!=t(n)||!n)return n;var r=n[Symbol.toPrimitive];if(void 0!==r){var o=r.call(n,e||"default");if("object"!=t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"==t(e)?e:e+""}(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function i(t,n){if(null==t)return{};var e,r,o=function(t,n){if(null==t)return{};var e={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(-1!==n.indexOf(r))continue;e[r]=t[r]}return e}(t,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)e=i[r],-1===n.indexOf(e)&&{}.propertyIsEnumerable.call(t,e)&&(o[e]=t[e])}return o}function u(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,n){if(t){if("string"==typeof t)return a(t,n);var e={}.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?a(t,n):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=Array(n);e<n;e++)r[e]=t[e];return r}function l(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var t,n,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function i(e,r,o,i){var l=r&&r.prototype instanceof a?r:a,s=Object.create(l.prototype);return c(s,"_invoke",function(e,r,o){var i,a,l,c=0,s=o||[],f=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(n,e){return i=n,a=0,l=t,p.n=e,u}};function d(e,r){for(a=e,l=r,n=0;!f&&c&&!o&&n<s.length;n++){var o,i=s[n],d=p.p,y=i[2];e>3?(o=y===r)&&(l=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=t):i[0]<=d&&((o=e<2&&d<i[1])?(a=0,p.v=r,p.n=i[1]):d<y&&(o=e<3||i[0]>r||r>y)&&(i[4]=e,i[5]=r,p.n=y,a=0))}if(o||e>1)return u;throw f=!0,r}return function(o,s,y){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,y),a=s,l=y;(n=a<2?t:l)||!f;){i||(a?a<3?(a>1&&(p.n=-1),d(a,l)):p.n=l:p.v=l);try{if(c=2,i){if(a||(o="next"),n=i[o]){if(!(n=n.call(i,l)))throw TypeError("iterator result is not an object");if(!n.done)return n;l=n.value,a<2&&(a=0)}else 1===a&&(n=i.return)&&n.call(i),a<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=t}else if((n=(f=p.n<0)?l:e.call(r,p))!==u)break}catch(n){i=t,a=1,l=n}finally{c=1}}return{value:n,done:f}}}(e,o,i),!0),s}var u={};function a(){}function s(){}function f(){}n=Object.getPrototypeOf;var p=[][r]?n(n([][r]())):(c(n={},r,function(){return this}),n),d=f.prototype=a.prototype=Object.create(p);function y(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,c(t,o,"GeneratorFunction")),t.prototype=Object.create(d),t}return s.prototype=f,c(d,"constructor",f),c(f,"constructor",s),s.displayName="GeneratorFunction",c(f,o,"GeneratorFunction"),c(d),c(d,o,"Generator"),c(d,r,function(){return this}),c(d,"toString",function(){return"[object Generator]"}),(l=function(){return{w:i,m:y}})()}function c(t,n,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}c=function(t,n,e,r){function i(n,e){c(t,n,function(t){return this._invoke(n,e,t)})}n?o?o(t,n,{value:e,enumerable:!r,configurable:!r,writable:!r}):t[n]=e:(i("next",0),i("throw",1),i("return",2))},c(t,n,e,r)}function s(t,n,e,r,o,i,u){try{var a=t[i](u),l=a.value}catch(t){return void e(t)}a.done?n(l):Promise.resolve(l).then(r,o)}function f(t){return function(){var n=this,e=arguments;return new Promise(function(r,o){var i=t.apply(n,e);function u(t){s(i,r,o,u,a,"next",t)}function a(t){s(i,r,o,u,a,"throw",t)}u(void 0)})}}System.register(["./utils-lib-legacy.js?v=1756369731","./index-legacy103.js?v=1756369731","./index-legacy117.js?v=1756369731","./index.vue_vue_type_script_setup_true_lang-legacy6.js?v=1756369731","./site-legacy.js?v=1756369731","./index-legacy131.js?v=1756369731","./index-legacy141.js?v=1756369731","./base-lib-legacy.js?v=1756369731","./validator-legacy.js?v=1756369731","./index.vue_vue_type_style_index_0_scoped_b3c4124c_lang-legacy.js?v=1756369731","./column-legacy.js?v=1756369731","./useController-legacy6.js?v=1756369731","./useStore-legacy4.js?v=1756369731","./useController-legacy5.js?v=1756369731","./__commonjsHelpers__-legacy.js?v=1756369731","./index-legacy130.js?v=1756369731","./index-legacy104.js?v=1756369731","./index-legacy124.js?v=1756369731","./useMethod-legacy5.js?v=1756369731"],function(t,e){"use strict";var o,a,c,s,p,d,y,v,b,m,g,h,_,j,w,k,x,O,C,S,P,T,B,E,A,I,L,W,D,H,R,G,N,F,q,M,V,U,J,Q,$,z,K,X,Y,Z,tt,nt,et,rt,ot,it,ut,at,lt,ct,st,ft,pt,dt,yt,vt,bt,mt,gt,ht,_t,jt;return{setters:[function(t){o=t.u,a=t.aM,c=t.a6,s=t.p,p=t.v,d=t.a7,y=t.cu,v=t.cv,b=t.L,m=t.a8,g=t.h},function(t){h=t._},function(t){_=t._},function(t){j=t._},function(t){w=t.delSorted,k=t.addSiteTypes,x=t.modifySiteTypes,O=t.removeSiteType},function(t){C=t.B},function(t){S=t.u},function(t){P=t.c,T=t.t,B=t.s,E=t.w,A=t.e,I=t.B,L=t.D,W=t.p,D=t.n,H=t.q,R=t.v,G=t.x,N=t.A,F=t.y,q=t.J,M=t.P},null,null,function(t){V=t.a,U=t.b,J=t.d,Q=t.k,$=t.g,z=t.u},function(t){K=t.b,X=t.c,Y=t.d,Z=t.e,tt=t.f},function(t){nt=t.S},function(t){et=t.S,rt=t.a,ot=t.p,it=t.b,ut=t.c,at=t.d,lt=t.t,ct=t.e,st=t.f,ft=t.g,pt=t.o,dt=t.r,yt=t.h,vt=t.i,bt=t.j,mt=t.k,gt=t.l,ht=t.m,_t=t.n,jt=t.q},null,null,null,null,null],execute:function(){var wt={class:"p-[20px] pb-[24px]"};t("default",P({__name:"index",setup:function(t){var P=o(),kt=P.payment,xt=(P.mainHeight,P.plugin),Ot=P.enterpriseRec,Ct=T(kt.value).authType,St=B(nt()),Pt=St.activeType,Tt=St.isRefreshList,Bt=St.searchWidth,Et=nt().getClassList,At=B(et()),It=At.pluginInfo,Lt=At.scanData,Wt=et().getPhpList;E(Z,function(t){null!=t&&t.pluginInfo&&(It.value=t.pluginInfo)},{immediate:!0,deep:!0});var Dt,Ht,Rt,Gt=S({key:"type",name:"PHP分类",options:function(){return[{label:"全部分类",value:"all"}]},event:{get:(Dt=f(l().m(function t(){var n,e;return l().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,Et();case 1:return n=t.v,e=n.data,gt.value=e,t.a(2,e)}},t)})),function(){return Dt.apply(this,arguments)}),add:function(t){return k(t,Pt.value)},update:function(t){return x(t,Pt.value)},delete:function(t){return O(t,Pt.value)}},ignore:["0","-2"],field:"name"}),Nt=m(jt),Ft=a({options:[{type:"button",label:"添加站点",active:!0,onClick:rt},{type:"dropdown",label:"高级设置",onClick:ot,options:[{label:"修改默认页面",onClick:ot},{label:"默认站点",onClick:function(){return ot("defaultSite")}},{label:"PHP命令行版本",onClick:function(){return ot("phpCommandLine")}},{label:"HTTPS防窜站",onClick:function(){return ot("httpsOfficersSite")}},{label:"TLS设置",onClick:function(){return ot("tlsSetting")}},{label:"全局设置",onClick:function(){return ot("globalSetting")}},{label:"关联数据库",onClick:function(){return ot("associatedDatabase")}}]}].concat(u(Ot.value?[{type:"custom",render:function(){return A(L,{onClick:it},{default:function(){var t,n;return[I("漏洞扫描"),A("span",{class:"ml-4px py-1px px-4px text-white text-center font-bold ".concat((null===(t=Lt.value)||void 0===t?void 0:t.loophole_num)>0?"bg-[red]":"bg-[#f0ad4e]")},[null===(n=Lt.value)||void 0===n?void 0:n.loophole_num])]}})}},{type:"custom",render:function(){return A(L,{onClick:ut},{default:function(){var t,n;return[I("网站安全"),A("span",{class:"ml-4px py-1px px-4px text-white text-center font-bold ".concat((null===(t=Lt.value)||void 0===t?void 0:t.web_scaning_times)>0?"bg-[red]":"bg-[#f0ad4e]")},[null===(n=Lt.value)||void 0===n?void 0:n.web_scaning_times])]}})}}]:[]),[{type:"custom",render:function(){return A(C,{class:"ml-1rem",isRequest:!1,pluginInfo:It.value},null)}}])}).BtOperation,qt=c({request:(Rt=f(l().m(function t(e){var o,u,a,c;return l().w(function(t){for(;;)switch(t.n){case 0:return o=e.type,u=i(e,n),t.n=1,Wt(r(r({type:s(o)||"all"===o?"-1":o},u),{},{table:"sites",order:Zt.order||""}));case 1:return a=t.v,c=at("/site/php_column"),a.data.forEach(function(t){t.isWaf=null==c||!c.length||c[1].isCustom}),lt.value=a.data,t.a(2,a)}},t)})),function(t){return Rt.apply(this,arguments)}),sort:(Ht=f(l().m(function t(n){var e,r,o,i;return l().w(function(t){for(;;)switch(t.n){case 0:if(n.column,e=n.prop,r=n.order,o=e,r){t.n=2;break}return o="",t.n=1,w();case 1:Zt.order="",t.n=3;break;case 2:i={orderName:o,orderStatus:"ascending"===r?"asc":"desc"},Zt.order="".concat(i.orderName," ").concat(i.orderStatus);case 3:Xt();case 4:return t.a(2)}},t)})),function(t){return Ht.apply(this,arguments)}),columns:[V({type:"page",key:"id"}),{subtitle:"WAF图标",isCustom:!0,isLtd:!0,isHide:!0,showClick:function(t){Zt.data.forEach(function(n){n.isWaf=t})}},K({label:"网站名",type:Pt.value,openPlugin:ct,onClick:st}),U({width:80,sortable:"custom",event:ht,data:["已停止","运行中"]}),{label:"备份",width:65,isCustom:!0,render:function(t){return A("span",{onClick:function(){return ft(t)},class:"".concat(t.backup_count?"text-[#20a53a]":"text-warning"," cursor-pointer")},[t.backup_count?"有(".concat(t.backup_count,")"):"无备份"])}},J({prop:"path",labelClassName:"php-table-path",minWidth:140})].concat(u(Ot.value?[r(r({},Q({event:function(t){return st(r(r({},t),{},{tabName:"flowQuota"}),"directory")}})),{},{isCustom:!1}),{label:"日流量",width:80,isCustom:!0,isLtd:!0,render:function(t){return"free"===Ct.value?A("span",{class:"cursor-pointer bt-link",onClick:function(){pt(t)}},[I("查看")]):xt.value.total?null!=t&&null!==(n=t.net)&&void 0!==n&&n.hasOwnProperty("one_day_total_flow")?p((null==t||null===(e=t.net)||void 0===e?void 0:e.one_day_total_flow)||0,!0,2):"--":A("span",{class:"cursor-pointer bt-link",onClick:function(){pt(t)}},[I("查看")]);var n,e}}]:[]),[X(),$({table:"sites",minWidth:110,width:"auto"}),{label:"PHP",isCustom:!0,minWidth:80,width:80,render:function(t){var n=!t.php_version_status;return A("span",{class:"cursor-pointer "+(n&&"静态"!==t.php_version?"bt-warn":"bt-link"),onClick:function(){return st(t,"php")}},[n&&"静态"!==t.php_version?t.php_version+"[未安装]":"其它"==t.php_version?"自定义":t.php_version])}},Y({onClick:function(t){st(t,"ssl")}}),z([{onClick:function(t){ct(t,"monitor-setting")},title:"统计"},{onClick:function(t){ct(t,"bt_waf")},title:"WAF"},{title:"设置",onClick:function(t){return st(t)}},{title:"删除",onClick:function(t){return _t(t)}}])]),extension:[Gt,Nt,d(Tt),y("search",{name:"sites",key:"php",list:dt.value}),v()],empty:function(){return A("span",null,[I("您的列表为空，您可以"),A("span",{class:"bt-link",onClick:rt},[I("添加一个项目")])])}}),Mt=qt.BtTable,Vt=qt.BtPage,Ut=qt.BtRefresh,Jt=qt.BtTableCategory,Qt=qt.BtRecommendSearch,$t=qt.BtColumn,zt=qt.BtBatch,Kt=qt.BtErrorMask,Xt=qt.refresh,Yt=qt.categoryRef,Zt=qt.config;return W(function(){D(function(){yt.value=Yt(),b(function(){return e.import("./index-legacy356.js?v=1756369731")},void 0,e.meta.url),b(function(){return e.import("./index-legacy210.js?v=1756369731")},void 0,e.meta.url),Ot.value&&vt()})}),function(t,n){var e=_,r=g,o=h;return H(),R("div",null,[A(j,{ref_key:"envRef",ref:Z,onInit:G(Xt)},null,8,["onInit"]),A(G(Kt)),A(o,null,{"header-left":N(function(){return[A(G(Ft)),F("div",{class:"flex items-center ml-1rem",onClick:n[0]||(n[0]=function(){return G(tt)&&G(tt).apply(void 0,arguments)})},u(n[2]||(n[2]=[F("i",{class:"svgtofont-desired text-[1.6rem]"},null,-1),F("span",{class:"bt-link"},"需求反馈",-1)])))]}),"header-right":N(function(){return[A(G(Jt),{class:"!w-[140px] mr-[10px]"}),A(G(Qt),{type:"php",placeholder:"请输入域名或备注",class:q(["mr-[10px]","!w-[".concat(G(Bt),"px]")])},null,8,["class"]),A(G(Ut),{class:"mr-[10px]"}),A(G($t))]}),content:N(function(){return[A(G(Mt))]}),"footer-left":N(function(){return[A(G(zt))]}),"footer-right":N(function(){return[A(G(Vt))]}),popup:N(function(){return[A(r,{title:"插件预览",modelValue:G(bt),"onUpdate:modelValue":n[1]||(n[1]=function(t){return M(bt)?bt.value=t:null}),area:66},{default:N(function(){return[F("div",wt,[A(e,{data:G(mt)},null,8,["data"])])]}),_:1},8,["modelValue"])]}),_:1})])}}}))}}})}();
