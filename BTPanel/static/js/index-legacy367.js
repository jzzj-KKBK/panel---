!function(){function e(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function t(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,n,l="function"==typeof Symbol?Symbol:{},o=l.iterator||"@@iterator",a=l.toStringTag||"@@toStringTag";function u(t,l,o,a){var u=l&&l.prototype instanceof c?l:c,s=Object.create(u.prototype);return r(s,"_invoke",function(t,r,l){var o,a,u,c=0,s=l||[],d=!1,f={p:0,n:0,v:e,a:m,f:m.bind(e,4),d:function(n,t){return o=n,a=0,u=e,f.n=t,i}};function m(t,r){for(a=t,u=r,n=0;!d&&c&&!l&&n<s.length;n++){var l,o=s[n],m=f.p,p=o[2];t>3?(l=p===r)&&(u=o[(a=o[4])?5:(a=3,3)],o[4]=o[5]=e):o[0]<=m&&((l=t<2&&m<o[1])?(a=0,f.v=r,f.n=o[1]):m<p&&(l=t<3||o[0]>r||r>p)&&(o[4]=t,o[5]=r,f.n=p,a=0))}if(l||t>1)return i;throw d=!0,r}return function(l,s,p){if(c>1)throw TypeError("Generator is already running");for(d&&1===s&&m(s,p),a=s,u=p;(n=a<2?e:u)||!d;){o||(a?a<3?(a>1&&(f.n=-1),m(a,u)):f.n=u:f.v=u);try{if(c=2,o){if(a||(l="next"),n=o[l]){if(!(n=n.call(o,u)))throw TypeError("iterator result is not an object");if(!n.done)return n;u=n.value,a<2&&(a=0)}else 1===a&&(n=o.return)&&n.call(o),a<2&&(u=TypeError("The iterator does not provide a '"+l+"' method"),a=1);o=e}else if((n=(d=f.n<0)?u:t.call(r,f))!==i)break}catch(n){o=e,a=1,u=n}finally{c=1}}return{value:n,done:d}}}(t,o,a),!0),s}var i={};function c(){}function s(){}function d(){}n=Object.getPrototypeOf;var f=[][o]?n(n([][o]())):(r(n={},o,function(){return this}),n),m=d.prototype=c.prototype=Object.create(f);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,r(e,a,"GeneratorFunction")),e.prototype=Object.create(m),e}return s.prototype=d,r(m,"constructor",d),r(d,"constructor",s),s.displayName="GeneratorFunction",r(d,a,"GeneratorFunction"),r(m),r(m,a,"Generator"),r(m,o,function(){return this}),r(m,"toString",function(){return"[object Generator]"}),(t=function(){return{w:u,m:p}})()}function r(e,n,t,l){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}r=function(e,n,t,l){function a(n,t){r(e,n,function(e){return this._invoke(n,t,e)})}n?o?o(e,n,{value:t,enumerable:!l,configurable:!l,writable:!l}):e[n]=t:(a("next",0),a("throw",1),a("return",2))},r(e,n,t,l)}function l(e,n,t,r,l,o,a){try{var u=e[o](a),i=u.value}catch(e){return void t(e)}u.done?n(i):Promise.resolve(i).then(r,l)}System.register(["./base-lib-legacy.js?v=1756369731","./index-legacy101.js?v=1756369731","./utils-lib-legacy.js?v=1756369731","./index-legacy72.js?v=1756369731","./__commonjsHelpers__-legacy.js?v=1756369731","./index-legacy103.js?v=1756369731","./index-legacy141.js?v=1756369731","./index-legacy124.js?v=1756369731","./validator-legacy.js?v=1756369731","./index-legacy104.js?v=1756369731","./column-legacy.js?v=1756369731","./index.vue_vue_type_style_index_0_scoped_b3c4124c_lang-legacy.js?v=1756369731","./useController-legacy6.js?v=1756369731","./site-legacy.js?v=1756369731","./useStore-legacy4.js?v=1756369731"],function(n,r){"use strict";var o,a,u,i,c,s,d,f,m,p,y,b,h,v,g,_,V,x,w,j,k,U,C,P,T,O,S,F,A,E,G,I,z,M,H,q,$,B,D,J,N,K,L,Q,R,W,X,Y,Z,ee,ne,te;return{setters:[function(e){o=e.c,a=e.r,u=e.g,i=e.p,c=e.a4,s=e.q,d=e.M,f=e.A,m=e.e,p=e.y,y=e.x,b=e.H,h=e.I,v=e.v,g=e.z,_=e.C,V=e.J,x=e.B,w=e.a_,j=e.F,k=e._,U=e.a9,C=e.ai,P=e.aj,T=e.ah,O=e.af,S=e.ag,F=e.T,A=e.D},function(e){E=e._},function(e){G=e.G,I=e.bV,z=e.j,M=e.c,H=e._,q=e.H},function(e){$=e.p,B=e.s,D=e.i,J=e.$,N=e.a,K=e.o,L=e.g,Q=e.e,R=e.b,W=e.c,X=e.d,Y=e.f,Z=e.h,ee=e.u,ne=e.j,te=e.k},null,null,null,null,null,null,null,null,null,null,null],execute:function(){var r={class:"flex items-center"},re={key:0,class:"absolute top-[26px] text-[1.2rem] text-[red]"},le={class:"flex items-center"},oe={class:"text-[1.2rem] text-[#999] flex items-center justify-center"},ae=["title"],ue={key:0,class:"absolute top-[50%] right-[-1rem] translate-y-[-50%] flex items-center"},ie={class:"text-[1.2rem] text-[#999] truncate max-w-[6rem]"},ce={class:"text-[1.2rem] text-[#999]"},se={class:"flex items-center"},de={class:"truncate text-[1.6rem] max-w-[13rem]"},fe={class:"text-[1.2rem] text-[#999] mt-[.5rem]"},me={class:"text-[12px] ml-8px"},pe={class:"mt-[1.6rem]"},ye={class:"mt-[1.6rem]"},be={class:"flex"},he={key:2,class:"my-[20px]"},ve={class:"flex items-center"},ge={class:"ml-[1rem] text-[#20a53a] w-[16rem] select-none"},_e={class:"pt-[0]"};n("default",o({__name:"index",setup:function(n,o){var Ve,xe,we=o.expose,je=a(!1),ke=G({data:$.value,options:function(e){return u(function(){return[{type:"slots",key:"custom",rules:{pjname:[I({message:"请输入项目名称"})],port:[{validator:function(e,n,t){"command"!==$.value.stype&&(!/^\d+$/.test(n)||n<0||n>65535)?$.value.listenMsg?t(new Error(" ")):t(new Error("端口号范围为0-65535")):t()},tirgger:["blur","change"]}],path:[I({message:"请选择路径"})],processes:[I({message:"请输入进程数"})],threads:[I({message:"请输入线程数"})],python_bin:[I({message:"请选择Python环境"})],parm:[{validator:function(e,n,t){"command"===$.value.stype&&""===n?t(new Error("请输入启动命令")):t()},tirgger:["blur","change"]}]}}]})},submit:(Ve=t().m(function e(n,r){return t().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,r();case 1:return e.n=2,B(n.value);case 2:return e.a(2,e.v)}},e)}),xe=function(){var e=this,n=arguments;return new Promise(function(t,r){var o=Ve.apply(e,n);function a(e){l(o,t,r,a,u,"next",e)}function u(e){l(o,t,r,a,u,"throw",e)}a(void 0)})},function(e,n){return xe.apply(this,arguments)})}),Ue=ke.BtForm,Ce=ke.submit;return i(function(){D()}),c(J),we({onConfirm:Ce}),function(n,t){var l=z,o=U,a=C,u=P,i=M,c=T,G=O,I=H,B=q,D=E,J=S,Ve=F,xe=A;return s(),d(y(Ue),{"label-width":"100px",class:"p-2rem"},{custom:f(function(){return[m(o,{label:"项目名称",prop:"pjname"},{default:f(function(){return[p("div",r,[m(l,{disabled:y(N),width:"22rem",modelValue:y($).pjname,"onUpdate:modelValue":t[0]||(t[0]=function(e){return y($).pjname=e}),placeholder:"请输入Python项目名称"},null,8,["disabled","modelValue"]),b(m(o,{label:"项目端口",prop:"port","label-width":"7rem"},{default:f(function(){return[m(l,{width:"18rem",type:"number",modelValue:y($).port,"onUpdate:modelValue":t[1]||(t[1]=function(e){return y($).port=e}),placeholder:"项目的真实端口"},null,8,["modelValue"]),y($).listenMsg&&"command"!==y($).stype?(s(),v("div",re,g(y($).listenMsg),1)):_("",!0)]}),_:1},512),[[h,"command"!==y($).stype]])])]}),_:1}),m(o,{label:"Python环境",prop:"python_bin"},{default:f(function(){return[p("div",le,[p("div",{class:V(["flex items-center",y(N)?"":"custom-refresh-select"])},[m(u,{modelValue:y($).python_bin,"onUpdate:modelValue":t[3]||(t[3]=function(e){return y($).python_bin=e}),filterable:"",class:"!w-[24rem]","popper-class":"env-select",disabled:y(N)},{empty:f(function(){return[p("div",oe,[t[24]||(t[24]=x("暂无Python环境,",-1)),p("span",{class:"bt-link",onClick:t[2]||(t[2]=function(e){return y(K)(y(L))})},"点击添加")])]}),default:f(function(){return[(s(!0),v(j,null,w(y(Q),function(e){return s(),d(a,{key:e.bin_path,value:e.bin_path,label:e.name},{default:f(function(){return[p("div",{class:"relative pt-[1rem]",title:e.name},[e.project_name.length?(s(),v("div",ue,[p("span",ie,g(e.project_name[0]),1),p("span",ce,g("等".concat(e.project_name.length,"个项目正在使用")),1)])):_("",!0),p("div",se,[p("div",de,g(e.name),1),p("span",{class:V(["text-[1.2rem] ml-[8px] px-[.5rem] rounded-[.5rem] border","tag-".concat(e.type)])},g(y(te)(e.type)),3)]),p("div",fe,g(e.version),1)],8,ae)]}),_:2},1032,["value","label"])}),128))]}),_:1},8,["modelValue","disabled"])],2),p("span",me,[t[26]||(t[26]=x(" * 如需添加Python环境，请点击",-1)),m(i,{onClick:t[4]||(t[4]=function(e){return y(K)(y(L))})},{default:f(function(){return e(t[25]||(t[25]=[x("环境管理",-1)]))}),_:1})])])]}),_:1}),m(o,{label:"启动方式"},{default:f(function(){return[m(G,{modelValue:y($).stype,"onUpdate:modelValue":t[5]||(t[5]=function(e){return y($).stype=e})},{default:f(function(){return[m(c,{label:"command"},{default:f(function(){return e(t[27]||(t[27]=[x("命令行启动",-1)]))}),_:1}),m(c,{label:"uwsgi"},{default:f(function(){return e(t[28]||(t[28]=[x("uwsgi",-1)]))}),_:1}),m(c,{label:"gunicorn"},{default:f(function(){return e(t[29]||(t[29]=[x("gunicorn",-1)]))}),_:1})]}),_:1},8,["modelValue"])]}),_:1}),m(o,{label:"项目路径",prop:"path"},{default:f(function(){return[m(l,{width:"42rem","icon-type":!y(N)&&"folder",disabled:y(N),placeholder:"项目的根路径",onFolder:y(R),onChange:y(W),modelValue:y($).path,"onUpdate:modelValue":t[6]||(t[6]=function(e){return y($).path=e})},k({_:2},[y(N)?void 0:{name:"append",fn:f(function(){return[m(B,{onClick:y(R)},{default:f(function(){return[m(I,{icon:"el-folder-opened",class:"cursor-pointer"})]}),_:1},8,["onClick"])]}),key:"0"}]),1032,["icon-type","disabled","onFolder","onChange","modelValue"])]}),_:1}),b(p("div",{class:"mt-[1rem] ml-[12rem]"},"当前框架："+g(y($).framework),513),[[h,y($).framework]]),b(p("div",pe,[m(o,{label:"启动命令",prop:"parm"},{default:f(function(){return[m(l,{modelValue:y($).parm,"onUpdate:modelValue":t[7]||(t[7]=function(e){return y($).parm=e}),placeholder:"请输入启动命令",width:"42rem"},null,8,["modelValue"])]}),_:1})],512),[[h,"command"===y($).stype]]),b(p("div",ye,[m(o,{label:"入口文件"},{default:f(function(){return[m(D,{placeholder:"项目的入口文件",modelValue:y($).rfile,"onUpdate:modelValue":t[8]||(t[8]=function(e){return y($).rfile=e}),icon:"el-folder-opened",onIconClick:t[9]||(t[9]=function(e){return y(X)(y($))}),onChange:t[10]||(t[10]=function(e){return y(Y)(y($))}),width:"42rem"},null,8,["modelValue"])]}),_:1}),m(o,{label:"通讯协议"},{default:f(function(){return[p("div",be,[m(u,{modelValue:y($).xsgi,"onUpdate:modelValue":t[11]||(t[11]=function(e){return y($).xsgi=e}),class:"!w-[15rem]"},{default:f(function(){return[m(a,{label:"wsgi",value:"wsgi"}),m(a,{label:"asgi",value:"asgi"})]}),_:1},8,["modelValue"]),m(o,{label:"应用名称"},{default:f(function(){return[m(l,{modelValue:y($).app,"onUpdate:modelValue":t[12]||(t[12]=function(e){return y($).app=e}),placeholder:"请输入应用名称",width:"22rem"},null,8,["modelValue"])]}),_:1})])]}),_:1})],512),[[h,"command"!==y($).stype]]),m(o,{label:"环境变量",class:"mt-[1.6rem]"},{default:f(function(){return[m(G,{modelValue:y($).envType,"onUpdate:modelValue":t[13]||(t[13]=function(e){return y($).envType=e})},{default:f(function(){return[m(J,{label:0},{default:f(function(){return e(t[30]||(t[30]=[x("无",-1)]))}),_:1}),m(J,{label:1},{default:f(function(){return e(t[31]||(t[31]=[x("指定变量",-1)]))}),_:1}),m(J,{label:2},{default:f(function(){return e(t[32]||(t[32]=[x("从文件加载",-1)]))}),_:1})]}),_:1},8,["modelValue"])]}),_:1}),b(m(o,{label:" "},{default:f(function(){return[b(m(l,{width:"40rem",type:"textarea",rows:4,resize:"none",modelValue:y($).env,"onUpdate:modelValue":t[14]||(t[14]=function(e){return y($).env=e}),placeholder:"环境变量，1行1个，例如： JAVA_HOME=/usr/local/btjdk/jdk8"},null,8,["modelValue"]),[[h,1===y($).envType]]),b(m(D,{modelValue:y($).envPath,"onUpdate:modelValue":t[15]||(t[15]=function(e){return y($).envPath=e}),placeholder:"请选择环境变量文件",icon:"el-folder-opened",onIconClick:y(Z),width:"42rem"},null,8,["modelValue","onIconClick"]),[[h,2===y($).envType]])]}),_:1},512),[[h,0!==y($).envType]]),m(o,{label:"启动用户"},{default:f(function(){return[m(u,{modelValue:y($).user,"onUpdate:modelValue":t[16]||(t[16]=function(e){return y($).user=e}),class:"!w-[16rem]"},{default:f(function(){return[(s(!0),v(j,null,w(y(ee),function(e){return s(),d(a,{key:e,label:e,value:e},null,8,["label","value"])}),128))]}),_:1},8,["modelValue"])]}),_:1}),y(N)?(s(),d(o,{key:0,label:"开机启动"},{default:f(function(){return[m(Ve,{modelValue:y($).auto_run,"onUpdate:modelValue":t[17]||(t[17]=function(e){return y($).auto_run=e})},{default:f(function(){return e(t[33]||(t[33]=[x(" 是否设置开机自动启动（默认自带守护进程每120秒检测一次） ",-1)]))}),_:1},8,["modelValue"])]}),_:1})):_("",!0),y(N)?_("",!0):(s(),d(o,{key:1,label:"安装依赖包"},{default:f(function(){return[m(l,{width:"42rem","icon-type":"folder",placeholder:"安装依赖包路径（非必填）",onFolder:y(ne),modelValue:y($).requirement_path,"onUpdate:modelValue":t[18]||(t[18]=function(e){return y($).requirement_path=e})},{append:f(function(){return[m(B,{onClick:y(ne)},{default:f(function(){return[m(I,{icon:"el-folder-opened",class:"cursor-pointer"})]}),_:1},8,["onClick"])]}),_:1},8,["onFolder","modelValue"])]}),_:1})),y(N)?(s(),v("div",he,["command"!=y($).stype?(s(),d(o,{key:0,label:"进程数",prop:"processes"},{default:f(function(){return[p("div",ve,[m(l,{width:"16rem",modelValue:y($).processes,"onUpdate:modelValue":t[19]||(t[19]=function(e){return y($).processes=e})},null,8,["modelValue"]),m(o,{label:"线程数",prop:"threads"},{default:f(function(){return[m(l,{width:"16rem",modelValue:y($).threads,"onUpdate:modelValue":t[20]||(t[20]=function(e){return y($).threads=e})},null,8,["modelValue"])]}),_:1})])]}),_:1})):_("",!0),y(N)&&"uwsgi"===y($).stype?(s(),d(o,{key:1,label:"通信方式"},{default:f(function(){return[m(u,{modelValue:y($).is_http,"onUpdate:modelValue":t[21]||(t[21]=function(e){return y($).is_http=e}),class:"w-[16rem]"},{default:f(function(){return[m(a,{label:"http",value:!0}),m(a,{label:"socket",value:!1})]}),_:1},8,["modelValue"])]}),_:1})):_("",!0)])):_("",!0),y(N)?_("",!0):(s(),v(j,{key:3},[p("div",{class:"more flex items-center cursor-pointer pl-[10rem] my-[2rem] px-[2rem]",onClick:t[22]||(t[22]=function(e){return je.value=!y(je)})},[p("i",{class:V(y(je)?"svgtofont-el-arrow-down":"svgtofont-el-arrow-right")},null,2),p("div",ge,g("更多设置，".concat(y(je)?"点击收回":"点击查看")),1)]),b(p("div",_e,[m(o,{label:"项目初始化命令",prop:"initialize"},{default:f(function(){return[m(l,{rows:3,modelValue:y($).initialize,"onUpdate:modelValue":t[23]||(t[23]=function(e){return y($).initialize=e}),type:"textarea",name:"initialize",width:"42rem",placeholder:"此处填写用于初始化项目的命令或脚本，常见的有项目数据库初始化操作等。例如：django常使用python manage.py makemigrations 和 python manage.py migrate 初始化数据库"},null,8,["modelValue"])]}),_:1})],512),[[h,y(je)]]),t[34]||(t[34]=p("ul",{class:"mt-[20px] leading-8 text-[1.2rem] list-disc ml-48px"},[p("li",null,"执行命令：请输入项目需要携带的参数，默认请输入执行文件名"),p("li",null,[x(" 通讯协议：wsgi：同步通讯，一次处理一个请求， asgi：异步处理，并发处理请求 "),p("br"),x(" 根据项目情况具体选择，例如: 传统Flask就是wsgi, Fastapi框架就是asgi, Django两者都可以支持 ")]),p("li",null,"项目初始化命令：初始化脚本会在创建虚拟环境，安装依赖库之后执行")],-1))],64)),y(N)?(s(),d(o,{key:4,label:" "},{default:f(function(){return[m(xe,{type:"primary",onClick:y(Ce)},{default:f(function(){return e(t[35]||(t[35]=[x("保存配置",-1)]))}),_:1},8,["onClick"])]}),_:1})):_("",!0)]}),_:1})}}}))}}})}();
