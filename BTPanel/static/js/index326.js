import{_ as a}from"./index103.js?v=1756369731";import{c as t,k as e,a5 as o,q as s,v as l,e as r,A as p,x as n,B as i,ah as d,af as m}from"./base-lib.js?v=1756369731";import{a6 as c,iw as u,e as h,ix as f,l as w}from"./utils-lib.js?v=1756369731";import{u as b}from"./column.js?v=1756369731";import"./__commonjsHelpers__.js?v=1756369731";import"./index104.js?v=1756369731";const y={class:"p-20px"},B=h(t({__name:"details",props:{compData:{}},setup(t){const i=t,d=e({task_id:i.compData.id,type:i.compData.type,value:"domain"===i.compData.type?i.compData.row.domain:i.compData.row.status,page:1,size:10}),{BtTable:m,BtPage:h,BtRefresh:f,BtTableCategory:w,BtRecommendSearch:b,BtColumn:B,BtBatch:_,BtErrorMask:g,refresh:D}=c({request:async a=>{let t={p:a.p,size:a.limit};Object.assign(o(d),t);const{data:e}=await u(o(d));return{data:e.data||[],total:e.total||0}},columns:[{prop:"domain"===d.type?"domain":"status",label:"domain"===d.type?"域名":"状态",width:"domain"===d.type?120:100,showOverflowTooltip:!0},{prop:"recipient",label:"收件人",width:160,showOverflowTooltip:!0},{prop:"dsn",label:"Dsn",width:60},{prop:"delays",label:"延迟",width:150},{prop:"relay",label:"中继",width:200,showOverflowTooltip:!0},{prop:"err_info",label:"错误信息",showOverflowTooltip:!0}]});return(t,e)=>{const o=a;return s(),l("div",y,[r(o,null,{content:p(()=>[r(n(m))]),"footer-right":p(()=>[r(n(h))]),_:1})])}}}),[["__scopeId","data-v-e052bccd"]]),_={class:"p-20px"},g=t({__name:"index",props:{compData:{}},setup(t){const u=t,h=e({task_id:u.compData.row.id,type:"domain"}),{BtTable:y,BtPage:g,BtRefresh:D,BtTableCategory:v,BtRecommendSearch:x,BtColumn:j,BtBatch:T,BtErrorMask:C,refresh:k}=c({request:async a=>{const{data:t}=await f(o(h));return{data:t||[],total:t.length||0}},columns:[{prop:"domain",label:"domain"===h.type?"域名":"状态",render:a=>"domain"===h.type?a.domain:a.status},{prop:"count",label:"数量"},b(a=>[{title:"详情",onClick:()=>{(a=>{w({title:"详情",area:98,component:B,compData:{row:a,id:u.compData.row.id,type:h.type}})})(a)}}])]});return(t,e)=>{const o=d,c=m,u=a;return s(),l("div",_,[r(u,null,{"header-left":p(()=>[r(c,{size:"default",modelValue:n(h).type,"onUpdate:modelValue":e[0]||(e[0]=a=>n(h).type=a),onChange:n(k)},{default:p(()=>[r(o,{label:"domain"},{default:p(()=>[...e[1]||(e[1]=[i("域名",-1)])]),_:1}),r(o,{label:"status"},{default:p(()=>[...e[2]||(e[2]=[i("状态",-1)])]),_:1})]),_:1},8,["modelValue","onChange"])]),content:p(()=>[r(n(y),{"max-height":340})]),_:1})])}}});export{g as default};
