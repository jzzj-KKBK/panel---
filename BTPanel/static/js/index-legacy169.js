!function(){function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t){return function(t){if(Array.isArray(t))return n(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return n(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach(function(e){a(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function a(e,n,r){return(n=function(e){var n=function(e,n){if("object"!=t(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,n||"default");if("object"!=t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==t(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function u(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var u=r&&r.prototype instanceof l?r:l,f=Object.create(u.prototype);return i(f,"_invoke",function(n,r,o){var a,u,i,l=0,f=o||[],s=!1,p={p:0,n:0,v:t,a:m,f:m.bind(t,4),d:function(e,n){return a=e,u=0,i=t,p.n=n,c}};function m(n,r){for(u=n,i=r,e=0;!s&&l&&!o&&e<f.length;e++){var o,a=f[e],m=p.p,d=a[2];n>3?(o=d===r)&&(i=a[(u=a[4])?5:(u=3,3)],a[4]=a[5]=t):a[0]<=m&&((o=n<2&&m<a[1])?(u=0,p.v=r,p.n=a[1]):m<d&&(o=n<3||a[0]>r||r>d)&&(a[4]=n,a[5]=r,p.n=d,u=0))}if(o||n>1)return c;throw s=!0,r}return function(o,f,d){if(l>1)throw TypeError("Generator is already running");for(s&&1===f&&m(f,d),u=f,i=d;(e=u<2?t:i)||!s;){a||(u?u<3?(u>1&&(p.n=-1),m(u,i)):p.n=i:p.v=i);try{if(l=2,a){if(u||(o="next"),e=a[o]){if(!(e=e.call(a,i)))throw TypeError("iterator result is not an object");if(!e.done)return e;i=e.value,u<2&&(u=0)}else 1===u&&(e=a.return)&&e.call(a),u<2&&(i=TypeError("The iterator does not provide a '"+o+"' method"),u=1);a=t}else if((e=(s=p.n<0)?i:n.call(r,p))!==c)break}catch(e){a=t,u=1,i=e}finally{l=1}}return{value:e,done:s}}}(n,o,a),!0),f}var c={};function l(){}function f(){}function s(){}e=Object.getPrototypeOf;var p=[][r]?e(e([][r]())):(i(e={},r,function(){return this}),e),m=s.prototype=l.prototype=Object.create(p);function d(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,i(t,o,"GeneratorFunction")),t.prototype=Object.create(m),t}return f.prototype=s,i(m,"constructor",s),i(s,"constructor",f),f.displayName="GeneratorFunction",i(s,o,"GeneratorFunction"),i(m),i(m,o,"Generator"),i(m,r,function(){return this}),i(m,"toString",function(){return"[object Generator]"}),(u=function(){return{w:a,m:d}})()}function i(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}i=function(t,e,n,r){function a(e,n){i(t,e,function(t){return this._invoke(e,n,t)})}e?o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(a("next",0),a("throw",1),a("return",2))},i(t,e,n,r)}function c(t,e,n,r,o,a,u){try{var i=t[a](u),c=i.value}catch(t){return void n(t)}i.done?e(c):Promise.resolve(c).then(r,o)}function l(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var a=t.apply(e,n);function u(t){c(a,r,o,u,i,"next",t)}function i(t){c(a,r,o,u,i,"throw",t)}u(void 0)})}}System.register(["./utils-lib-legacy.js?v=1756369731","./base-lib-legacy.js?v=1756369731","./index-legacy140.js?v=1756369731","./index-legacy103.js?v=1756369731","./index-legacy104.js?v=1756369731","./index.vue_vue_type_script_setup_true_lang-legacy7.js?v=1756369731","./index.vue_vue_type_script_setup_true_lang-legacy8.js?v=1756369731","./useStore-legacy8.js?v=1756369731","./column-legacy.js?v=1756369731","./index-legacy141.js?v=1756369731","./validator-legacy.js?v=1756369731","./index.vue_vue_type_style_index_0_scoped_b3c4124c_lang-legacy.js?v=1756369731","./__commonjsHelpers__-legacy.js?v=1756369731","./ace-legacy.js?v=1756369731","./index-legacy124.js?v=1756369731"],function(t,n){"use strict";var r,a,i,c,f,s,p,m,d,v,y,b,g,h,w,_,j,x,P,O,S,T,C,F,k,D,B,V,A,E,I,z,G,q,M,U,L,R,H,N,W,Z,K,$,J,Q,X,Y,tt,et,nt,rt,ot,at,ut,it,ct,lt,ft,st,pt,mt,dt,vt,yt,bt,gt,ht,wt,_t,jt,xt,Pt;return{setters:[function(t){r=t.u,a=t.aa,i=t.K,c=t.gw,f=t.bT,s=t.o,p=t.l,m=t.L,d=t.at,v=t.gx,y=t.aM,b=t.a6,g=t.R,h=t.a7,w=t.A,_=t.a8,j=t.j,x=t.W,P=t.al},function(t){O=t.r,S=t.k,T=t.c,C=t.s,F=t.e,k=t.w,D=t.p,B=t.G,V=t.q,A=t.M,E=t.A,I=t.y,z=t.x,G=t.z,q=t.B,M=t.H,U=t.v,L=t.P,R=t.aA,H=t.a9,N=t.D,W=t.a7,Z=t.al},function(t){K=t.B},function(t){$=t._},function(t){J=t._},function(t){Q=t.S,X=t._},function(t){Y=t.S,tt=t._},function(t){et=t.u,nt=t.a,rt=t.c,ot=t.d,at=t.e,ut=t.f,it=t.g,ct=t.h,lt=t.b,ft=t.i,st=t.j,pt=t.k,mt=t.s},function(t){dt=t.a,vt=t.i,yt=t.b,bt=t.j,gt=t.d,ht=t.k,wt=t.g,_t=t.u},function(t){jt=t.u},function(t){xt=t.D,Pt=t.p},null,null,null,null],execute:function(){var Ot=r(),St=Ot.payment,Tt=Ot.getGlobalInfo,Ct=et(),Ft=Ct.ftpPort,kt=Ct.rowData,Dt=nt().isEdit,Bt=Q(),Vt=Y(),At=O("service"),Et=O({}),It=O(!1),zt=function(){var t=l(u().m(function t(){var e;return u().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,Tt();case 1:t.n=3;break;case 2:t.p=2,e=t.v,d(e);case 3:return t.a(2)}},t,null,[[0,2]])}));return function(){return t.apply(this,arguments)}}(),Gt=O(),qt=S({port:Ft.value}),Mt=S({port:[a()]}),Ut=function(){var t=l(u().m(function t(){return u().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,Gt.value.validate();case 1:return t.n=2,i({loading:"正在修改FTP端口，请稍后...",request:c({port:qt.port}),data:{status:Boolean},message:!0});case 2:return t.a(2)}},t)}));return function(){return t.apply(this,arguments)}}(),Lt=O(!1),Rt=O(""),Ht=[{content:"此处为pure-ftpd主配置文件，若您不了解配置规则，请勿随意修改"}],Nt=function(){var t=l(u().m(function t(){return u().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,i({loading:"正在保存配置，请稍后...",request:f({path:"/www/server/pure-ftpd/etc/pure-ftpd.conf",data:Rt.value,encoding:"utf-8"}),message:!0});case 1:return t.a(2)}},t)}));return function(){return t.apply(this,arguments)}}(),Wt=function(){var t=l(u().m(function t(){return u().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,i({loading:Lt,request:v({path:"/www/server/pure-ftpd/etc/pure-ftpd.conf"}),data:{data:[String,Rt]}});case 1:return t.a(2)}},t)}));return function(){return t.apply(this,arguments)}}(),Zt=O(""),Kt=O([]),$t=O(!1),Jt=function(){var t=l(u().m(function t(e){return u().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,s({title:"".concat(e?"开启":"关闭","pure-ftpd日志管理"),content:"".concat(e?"开启":"关闭","pure-ftpd日志管理后，将").concat(e?"":"无法","记录所有FTP用户的登录、操作记录，是否继续操作？")});case 1:return t.n=2,i({loading:"正在".concat(e?"开启":"关闭","，请稍后..."),request:xt({exec_name:e?"start":"stop"}),message:!0,success:Qt});case 2:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}(),Qt=function(){var t=l(u().m(function t(){return u().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,i({loading:"正在获取日志状态，请稍后...",request:xt({exec_name:"getlog"}),success:function(t){$t.value="start"===t.msg}});case 1:return t.a(2)}},t)}));return function(){return t.apply(this,arguments)}}(),Xt=function(){var t=l(u().m(function t(e){var n;return u().w(function(t){for(;;)switch(t.n){case 0:At.value=e,n=e,t.n="manger"===n?1:"service"===n||"portConfig"===n?2:"config"===n?3:"logs"===n?4:5;break;case 1:return It.value=!0,t.a(3,5);case 2:return Yt(),t.a(3,5);case 3:return Wt(),t.a(3,5);case 4:return Qt(),t.a(3,5);case 5:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}(),Yt=function(t){t.id&&(Et.value=t);var e=o(o({},Et.value),{},{name:"pure-ftpd"});Bt.init(e),Vt.init(e),Zt.value=Et.value.version,Kt.value=Et.value.versions,zt()},te=function(t){return kt.value=t,Dt.value=!!t,p({title:"".concat(t?"修改FTP用户【".concat(t.name,"】"):"添加FTP用户"),area:50,btn:"保存",compData:t||{},component:function(){return m(function(){return n.import("./index-legacy302.js?v=1756369731")},void 0,n.meta.url)}})},ee=function(t){kt.value=t,p({title:"快速连接",area:48,compData:t,component:function(){return m(function(){return n.import("./index-legacy308.js?v=1756369731")},void 0,n.meta.url)}})},ne=function(t){"ltd"===St.value.authType?re(t):Pt({sourceId:52})},re=function(t){kt.value=t,p({title:"【".concat(t.name,"】FTP配额容量"),area:50,btn:!0,compData:t,component:function(){return m(function(){return n.import("./index-legacy304.js?v=1756369731")},void 0,n.meta.url)}})},oe=function(t){kt.value=t,p({title:"修改FTP权限配置-[".concat(t.name,"]"),area:72,btn:"保存",compData:t,component:function(){return m(function(){return n.import("./index-legacy307.js?v=1756369731")},void 0,n.meta.url)}})},ae=function(){var t=l(u().m(function t(e){return u().w(function(t){for(;;)switch(t.n){case 0:kt.value=e,p({title:"查看FTP日志【"+e.name+"】",area:[70,58],compData:e,component:function(){return m(function(){return n.import("./index-legacy310.js?v=1756369731")},void 0,n.meta.url)}});case 1:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}(),ue={class:"my-[10px]"},ie={class:"flex items-center mb-[20px]"};t("default",T({__name:"index",props:{compData:{default:{}}},setup:function(t){var o,a,i,c=t,f=r().serverIp,s=et(),d=s.rowData,v=s.ftpPort,S=s.isRefreshFtpList,T=s.pluginInfo,Y=C(Q()).compData,nt=O([]),xt=jt({key:"type_id",name:"FTP分类",options:function(){return[{label:"全部分类",value:"all"}]},event:{get:(o=l(u().m(function t(){var e;return u().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,rt();case 1:return e=t.v,nt.value=e,t.a(2,e)}},t)})),function(){return o.apply(this,arguments)}),add:ot,update:at,delete:ut}}),Pt=y({options:[{type:"button",label:"添加FTP",active:!0,onClick:function(){return te()}}]}).BtOperation,Ot=_([{label:"启用FTP",value:"start",event:pt},{label:"停用FTP",value:"stop",event:pt},{label:"改密FTP",value:"exitPaw",event:(i=l(u().m(function t(e,r,o,a,i){return u().w(function(t){for(;;)switch(t.n){case 0:return d.value={selectedList:o,clearSelection:i},t.n=1,p({title:"批量修改FTP密码",area:"auto",btn:!0,compData:{selectedList:o,clearSelection:i},component:function(){return m(function(){return n.import("./index-legacy309.js?v=1756369731")},void 0,n.meta.url)}});case 1:return t.a(2)}},t)})),function(t,e,n,r,o){return i.apply(this,arguments)})},{label:"设置分类",value:"setClass",event:(a=l(u().m(function t(e,n,r,o,a,i){return u().w(function(t){for(;;)switch(t.n){case 0:mt(r,a,nt,i);case 1:return t.a(2)}},t)})),function(t,e,n,r,o,u){return a.apply(this,arguments)})},{label:"删除FTP",value:"delete",event:pt}]),St=b({request:function(t){return"manger"!==At.value?Promise.resolve({data:[],total:0}):("all"===t.type_id&&(t.type_id=""),it(t))},columns:[dt(),{label:"用户名",prop:"name",minWidth:100},vt(),yt({event:ct,data:["已停用","已启用"],width:80}),bt({label:"快速连接",width:80,isCustom:!1,title:"复制快速连接信息",text:"点击查看",event:ee}),gt(),{label:"密码有效期",minWidth:100,isCustom:!1,title:"设置密码有效期",prop:"end_time",render:function(t){var e=lt(t),r=e.isOrange,o=e.isEnd;return F("span",{onClick:function(){d.value=t,function(t){p({title:"设置密码有效期",area:46,btn:!0,compData:t,component:function(){return m(function(){return n.import("./index-legacy303.js?v=1756369731")},void 0,n.meta.url)}})}(t)},title:"设置密码有效期",style:"color:#".concat(o?"ef0808":r?"f0ad4e":"20a53a",";cursor:pointer")},["0"!==t.end_time?g(Number(t.end_time),"yyyy-MM-dd"):"永久"])}},ht({isCustom:!1,event:ne}),wt({table:"ftps",width:100}),_t([{onClick:oe,title:"配置"},{onClick:te,title:"修改"},{onClick:ae,title:"日志"},{onClick:ft,title:"删除"}])],extension:[xt,Ot,h(S)]}),Tt=St.BtTable,Ct=St.BtPage,Ft=St.BtSearch,kt=St.BtRefresh,Dt=St.BtColumn,Bt=St.BtBatch,Vt=St.BtTableCategory,Et=St.refresh;return k(function(){return It.value},function(t){t&&Et()}),k(function(){return S.value},function(t){Et()},{immediate:!0,deep:!0}),D(function(){c.compData&&(T.value=c.compData),Yt(T.value),At.value="service",Y.value.refreshEvent=st}),function(t,n){var r=J,o=R,a=$,u=j,i=H,c=N,l=W,s=K,p=x,m=Z,d=P,y=B("bt-loading");return V(),A(d,{modelValue:z(At),"onUpdate:modelValue":n[4]||(n[4]=function(t){return L(At)?At.value=t:null}),type:"left-bg-card",position:"left",class:"h-full",onChange:z(Xt)},{default:E(function(){return[F(o,{label:"服务",name:"service",lazy:!0},{default:E(function(){return[I("div",null,[F(X),F(r,{direction:"horizontal"}),n[5]||(n[5]=I("span",null," 当前FTP地址为： ",-1)),I("span",{class:"cursor-pointer",title:"点击复制FTP路径",onClick:n[0]||(n[0]=function(t){return z(w)({value:"ftp://".concat(z(f)||"IP地址",":").concat(z(v)||"端口")})})}," ftp://"+G(z(f)||"IP地址")+":"+G(z(v)||"端口"),1),F(r),n[6]||(n[6]=I("span",{class:"bt-link"},[I("a",{target:"_self",href:"https://download.bt.cn/win/filezilla/FileZilla-setup.exe"}," 下载FTP连接工具(FileZilla, 免费开源) ")],-1)),F(tt)])]}),_:1}),F(o,{label:"用户管理",name:"manger",lazy:!0},{default:E(function(){return[F(a,null,{"header-left":E(function(){return[F(z(Pt))]}),"header-right":E(function(){return[F(z(Vt),{class:"!w-[140px] mr-[10px]"}),F(z(Ft),{class:"!w-[20rem] mr-[10px]",placeholder:"请输入用户名"}),F(z(kt),{class:"mr-[10px]"}),F(z(Dt))]}),content:E(function(){return[F(z(Tt),{"max-height":420})]}),"footer-left":E(function(){return[F(z(Bt))]}),"footer-right":E(function(){return[F(z(Ct))]}),_:1})]}),_:1}),F(o,{label:"端口配置",name:"portConfig",lazy:!0},{default:E(function(){return[F(l,{ref_key:"portFormRef",ref:Gt,model:z(qt),rules:z(Mt),"label-width":"80px",class:"-ml-2rem"},{default:E(function(){return[F(i,{label:"默认端口"},{default:E(function(){return[F(u,{type:"number",modelValue:z(qt).port,"onUpdate:modelValue":n[1]||(n[1]=function(t){return z(qt).port=t}),placeholder:"请输入端口",width:"14rem"},null,8,["modelValue"])]}),_:1}),F(i,{label:" "},{default:E(function(){return[F(c,{type:"primary",onClick:z(Ut)},{default:E(function(){return e(n[7]||(n[7]=[q("保存",-1)]))}),_:1},8,["onClick"])]}),_:1})]}),_:1},8,["model","rules"])]}),_:1}),F(o,{label:"配置文件",name:"config",lazy:!0},{default:E(function(){return[M((V(),U("div",null,[n[9]||(n[9]=I("span",{class:"my-[4px] text-[#666]"}," 提示：Ctrl+F 搜索关键字，Ctrl+S 保存，Ctrl+H 查找替换 ",-1)),I("div",ue,[F(s,{class:"!h-[40rem] !w-full",modelValue:z(Rt),"onUpdate:modelValue":n[2]||(n[2]=function(t){return L(Rt)?Rt.value=t:null}),id:"configContent",onSave:z(Nt)},null,8,["modelValue","onSave"])]),F(c,{type:"primary",onClick:z(Nt)},{default:E(function(){return e(n[8]||(n[8]=[q("保存",-1)]))}),_:1},8,["onClick"]),F(p,{options:z(Ht),class:"mt-1rem"},null,8,["options"])])),[[y,z(Lt)]])]}),_:1}),F(o,{label:"日志管理",name:"logs",lazy:!0},{default:E(function(){return[I("div",null,[I("div",ie,[n[10]||(n[10]=I("span",{class:"mr-[8px]"},"日志管理开关",-1)),F(m,{modelValue:z($t),"onUpdate:modelValue":n[3]||(n[3]=function(t){return L($t)?$t.value=t:null}),onChange:z(Jt)},null,8,["modelValue","onChange"])]),n[11]||(n[11]=I("ul",{class:"leading-8 text-[1.2rem] list-disc ml-[20px]"},[I("li",null,"开启后，将记录所有FTP用户的登录、操作记录")],-1))])]}),_:1})]}),_:1},8,["modelValue","onChange"])}}}))}}})}();
