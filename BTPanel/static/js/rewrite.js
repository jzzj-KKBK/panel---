import{G as s,l as e,c as a,W as l}from"./utils-lib.js?v=1756369731";import{c as t,p as o,G as n,q as r,v as i,H as u,x as p,e as m,A as c,F as d,a_ as f,M as y,y as b,z as v,Q as x,C as h,P as _,B as j,g as k,ai as w,aj as C,D as g}from"./base-lib.js?v=1756369731";import{B as V}from"./index140.js?v=1756369731";import{u as F}from"./useStore4.js?v=1756369731";import{i as q,t as B,o as D,e as A,f as G,a as H,h as S,s as T,b as U,c as z,d as E}from"./useController15.js?v=1756369731";import"./__commonjsHelpers__.js?v=1756369731";import"./ace.js?v=1756369731";import"./site.js?v=1756369731";const M={class:"h-full"},N={key:0,class:"flex items-center justify-between"},P={class:"flex items-center justify-between"},Q=["onClick"],R={class:"flex items-center"},W={class:"my-[12px]"},I=t({__name:"rewrite",setup(t){const{siteType:I}=F(),J=()=>{const{BtForm:a,submit:l}=s({options:()=>k(()=>[{type:"input",label:"模板名称",key:"name",attrs:{placeholder:"请输入模板名称"},rules:[{required:!0,message:"请输入模板名称",trigger:"blur"}]}]),submit:async(s,e)=>(await e(),await E(s.value))});e({title:"另存为模板",area:42,showFooter:!0,component:()=>m(a,{class:"p-2rem"},null),onConfirm:l})};return o(q),(s,e)=>{const t=w,o=C,k=a,F=V,q=g,E=l,K=n("bt-loading");return r(),i("div",M,[u((r(),i("div",null,[["php","proxy","phpasync"].includes(p(I))?(r(),i("div",N,[m(o,{class:"!w-[15rem]",modelValue:p(H),"onUpdate:modelValue":e[0]||(e[0]=s=>_(H)?H.value=s:null),onChange:p(S)},{default:c(()=>[(r(!0),i(d,null,f(p(D),(s,e)=>(r(),y(t,{key:e,value:s},{default:c(()=>[b("div",P,[b("span",null,v(s),1),p(A)(s)?(r(),i("span",{key:0,class:"el-icon-close cursor-pointer text-[1.4rem] ml-1rem",onClick:x(e=>p(G)({name:s}),["stop"])},null,8,Q)):h("",!0)])]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue","onChange"]),b("span",R,[e[5]||(e[5]=j("规则转换工具： ",-1)),m(k,{href:"https://www.bt.cn/Tools",target:"_blank"},{default:c(()=>[...e[4]||(e[4]=[j("Apache转Nginx ",-1),b("i",{class:"svgtofont-el-link"},null,-1)])]),_:1})])])):h("",!0),b("div",W,[m(F,{id:"staticContentRef",request:!1,class:"!h-[40rem] !w-full border border-[#DCDFE6] rounded-[4px]",modelValue:p(T),"onUpdate:modelValue":e[1]||(e[1]=s=>_(T)?T.value=s:null),onSave:e[2]||(e[2]=s=>p(U)())},null,8,["modelValue"])]),b("div",null,[m(q,{type:"primary",onClick:e[3]||(e[3]=s=>p(U)())},{default:c(()=>[...e[6]||(e[6]=[j("保存",-1)])]),_:1}),["php","proxy"].includes(p(I))?(r(),y(q,{key:0,onClick:J},{default:c(()=>[...e[7]||(e[7]=[j("另存为模板",-1)])]),_:1})):h("",!0)]),m(E,{options:p(z),class:"ml-[20px] mt-[20px]"},null,8,["options"])])),[[K,p(B)],[K,"正在加载内容，请稍候...","title"]])])}}});export{I as default};
