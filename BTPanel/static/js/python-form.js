import{c as e,s,ay as a,g as r,e as t,B as o,H as l,bx as p,ax as i,D as u,c2 as m,p as n,q as c,v as d,x as v}from"./base-lib.js?v=1756369731";import{G as g,j as f}from"./utils-lib.js?v=1756369731";import{b as h,k as x,a as j,h as y}from"./form-item.js?v=1756369731";import{p as b,q as w,r as _,v as C,w as q,x as k}from"./index200.js?v=1756369731";import"./__commonjsHelpers__.js?v=1756369731";import"./index104.js?v=1756369731";import"./index103.js?v=1756369731";import"./column.js?v=1756369731";import"./useController4.js?v=1756369731";import"./validator.js?v=1756369731";import"./useController5.js?v=1756369731";import"./site.js?v=1756369731";import"./useStore4.js?v=1756369731";import"./useController6.js?v=1756369731";import"./useMethod5.js?v=1756369731";const V={class:"p-[2rem] max-h-[60rem] overflow-auto"},F=e({__name:"python-form",setup(e,{expose:F}){const U=b(),{versionOptions:B,extendOptions:H,popoverFocus:M,isEdit:O}=s(U),z=a("popupClose",()=>{}),{BtForm:D,submit:E,param:G}=g({data:w,options:e=>r(()=>[h("名称","name",{attrs:{class:"!w-[320px]",placeholder:"请输入环境名称",disabled:O.value},rules:[{required:!0,message:"请输入环境名称",trigger:"blur"}]}),x("版本","version",B.value,{attrs:{class:"!w-[22rem]",disabled:O.value},rules:[{required:!0,message:"请选择Python版本",trigger:"change"}]}),j("运行目录","path",{attrs:{class:"!w-[320px]",placeholder:"请选择运行目录"},rules:[{required:!0,message:"请选择运行目录",trigger:"change"}],icon:"icon-file_mode",iconClick:()=>{_(e)}}),y("启动命令",()=>t(i,{ref:"pythonpopover",placement:"top-start","popper-class":"green-tips-popover !p-0",title:"",width:"440",visible:M.value,"onUpdate:visible":e=>M.value=e,"trigger-keys":[],trigger:"focus"},{default:()=>t("div",{class:"!p-[12px] bg-[#20a53a] text-white"},[o("请填写完整启动命令，如：python main.py")]),reference:()=>l(t(f,{modelValue:e.value.command,"onUpdate:modelValue":s=>e.value.command=s,type:"textarea",width:"52rem",rows:7,resize:"none",onFocus:()=>{M.value=!0},placeholder:"请填写完整启动命令，如：python main.py"},null),[[p,"pythonpopover"]])}),"command",{attrs:{class:"!w-[52rem]"},rules:[{required:!0,message:"请填写完整启动命令，如：python main.py",trigger:"change"}]}),...e.value.port&&e.value.port.length>0?[C(e.value.port),y(" ",()=>t(u,{type:"default",onClick:()=>{e.value.port.push({server:"",con:"",output:!1,protocol:["tcp"],id:1})}},{default:()=>[o("添加")]}))]:[y("端口",()=>t(u,{type:"default",onClick:()=>{e.value.port.push({server:"",con:"",output:!1,protocol:["tcp"],id:1e3*Math.random()})}},{default:()=>[o("添加")]}))],y("镜像源",()=>t(m,{modelValue:e.value.repo_url,"onUpdate:modelValue":s=>e.value.repo_url=s,class:"!w-[32rem]",placeholder:"请选择或输入镜像源","fetch-suggestions":(e,s)=>{s(H.value)},"popper-class":"my-extautocomplete"},{default:({item:s})=>t("div",{class:s.value===e.value.repo_url?"bg-[#f5f7fa] flex items-center justify-between px-[2rem]":"flex items-center justify-between px-[2rem]"},[t("div",{class:s.value===e.value.repo_url?"bt-link w-[38rem] truncate":"w-[38rem] truncate"},[s.label])])}),"repo_url",{attrs:{class:"!w-[22rem]"},rules:[{required:!0,message:"请输入或选择镜像源",trigger:"change"}]})]),submit:async(e,s,a)=>{await s(),q(e.value,z)}});return n(()=>{k(G)}),F({onConfirm:E}),(e,s)=>(c(),d("div",V,[t(v(D))]))}});export{F as default};
