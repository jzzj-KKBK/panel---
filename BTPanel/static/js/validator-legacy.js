!function(){function e(n){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(n)}function n(e){return a(e)||s(e)||c(e)||r()}function t(e,n){return a(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,a,u,i,o=[],c=!0,s=!1;try{if(u=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=u.call(t)).done)&&(o.push(r.value),o.length!==n);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(s)throw a}}return o}}(e,n)||c(e,n)||r()}function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e){if(Array.isArray(e))return e}function u(n){if(null!=n){var t=n["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],r=0;if(t)return t.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length))return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}}}throw new TypeError(e(n)+" is not iterable")}function i(e){var n=Object(e),t=[];for(var r in n)t.unshift(r);return function e(){for(;t.length;)if((r=t.pop())in n)return e.value=r,e.done=!1,e;return e.done=!0,e}}function o(e){return function(e){if(Array.isArray(e))return l(e)}(e)||s(e)||c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,n){if(e){if("string"==typeof e)return l(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?l(e,n):void 0}}function s(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function l(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function p(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,n,t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",a=t.toStringTag||"@@toStringTag";function u(t,r,a,u){var c=r&&r.prototype instanceof o?r:o,s=Object.create(c.prototype);return f(s,"_invoke",function(t,r,a){var u,o,c,s=0,l=a||[],p=!1,f={p:0,n:0,v:e,a:v,f:v.bind(e,4),d:function(n,t){return u=n,o=0,c=e,f.n=t,i}};function v(t,r){for(o=t,c=r,n=0;!p&&s&&!a&&n<l.length;n++){var a,u=l[n],v=f.p,d=u[2];t>3?(a=d===r)&&(c=u[(o=u[4])?5:(o=3,3)],u[4]=u[5]=e):u[0]<=v&&((a=t<2&&v<u[1])?(o=0,f.v=r,f.n=u[1]):v<d&&(a=t<3||u[0]>r||r>d)&&(u[4]=t,u[5]=r,f.n=d,o=0))}if(a||t>1)return i;throw p=!0,r}return function(a,l,d){if(s>1)throw TypeError("Generator is already running");for(p&&1===l&&v(l,d),o=l,c=d;(n=o<2?e:c)||!p;){u||(o?o<3?(o>1&&(f.n=-1),v(o,c)):f.n=c:f.v=c);try{if(s=2,u){if(o||(a="next"),n=u[a]){if(!(n=n.call(u,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,o<2&&(o=0)}else 1===o&&(n=u.return)&&n.call(u),o<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),o=1);u=e}else if((n=(p=f.n<0)?c:t.call(r,f))!==i)break}catch(n){u=e,o=1,c=n}finally{s=1}}return{value:n,done:p}}}(t,a,u),!0),s}var i={};function o(){}function c(){}function s(){}n=Object.getPrototypeOf;var l=[][r]?n(n([][r]())):(f(n={},r,function(){return this}),n),v=s.prototype=o.prototype=Object.create(l);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,f(e,a,"GeneratorFunction")),e.prototype=Object.create(v),e}return c.prototype=s,f(v,"constructor",s),f(s,"constructor",c),c.displayName="GeneratorFunction",f(s,a,"GeneratorFunction"),f(v),f(v,a,"Generator"),f(v,r,function(){return this}),f(v,"toString",function(){return"[object Generator]"}),(p=function(){return{w:u,m:d}})()}function f(e,n,t,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}f=function(e,n,t,r){function u(n,t){f(e,n,function(e){return this._invoke(n,t,e)})}n?a?a(e,n,{value:t,enumerable:!r,configurable:!r,writable:!r}):e[n]=t:(u("next",0),u("throw",1),u("return",2))},f(e,n,t,r)}function v(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function d(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?v(Object(t),!0).forEach(function(n){m(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):v(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function m(n,t,r){return(t=function(n){var t=function(n,t){if("object"!=e(n)||!n)return n;var r=n[Symbol.toPrimitive];if(void 0!==r){var a=r.call(n,t||"default");if("object"!=e(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}(n,"string");return"symbol"==e(t)?t:t+""}(t))in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n}function h(e,n,t,r,a,u,i){try{var o=e[u](i),c=o.value}catch(e){return void t(e)}o.done?n(c):Promise.resolve(c).then(r,a)}function g(e){return function(){var n=this,t=arguments;return new Promise(function(r,a){var u=e.apply(n,t);function i(e){h(u,r,a,i,o,"next",e)}function o(e){h(u,r,a,i,o,"throw",e)}i(void 0)})}}System.register(["./utils-lib-legacy.js?v=1756369731","./base-lib-legacy.js?v=1756369731","./index-legacy104.js?v=1756369731","./column-legacy.js?v=1756369731"],function(e,r){"use strict";var a,c,s,l,f,v,h,y,b,w,k,_,S,j,P,x,T,L,C,I,O,D,E,N,V,A,q,H,F,M,G,R,U,z,B,J,$,W,Y,Q,Z,K,X,ee,ne,te,re,ae,ue,ie,oe,ce,se,le,pe,fe,ve,de,me,he,ge,ye,be,we,ke,_e,Se,je,Pe,xe,Te,Le,Ce,Ie,Oe,De,Ee,Ne,Ve,Ae,qe,He,Fe,Me;return{setters:[function(e){a=e.n,c=e.u,s=e.d,l=e.aV,f=e.R,v=e.o,h=e.M,y=e.aW,b=e.S,w=e.l,k=e.L,_=e.a4,S=e.aX,j=e.at,P=e.aY,x=e.ai,T=e.aZ,L=e.r,C=e.a_,I=e.N,O=e.a$,D=e.b0,E=e.b1,N=e.b2,V=e.O,A=e.I,q=e.aq,H=e.p,F=e.b3,M=e.b4,G=e.v,R=e.b5,U=e.b6,z=e.b7,B=e.b8,J=e.b9,$=e.ba,W=e.Z,Y=e.b,Q=e.C,Z=e.bb,K=e.bc,X=e.ag,ee=e.bd,ne=e.be,te=e.a3,re=e.bf,ae=e.bg,ue=e.bh,ie=e.bi},function(e){oe=e.e,ce=e.B,se=e.ax,le=e.al,pe=e.aE,fe=e.j,ve=e.s,de=e.r,me=e.U,he=e.k,ge=e.as,ye=e.t,be=e.g,we=e.F,ke=e.b,_e=e.bb,Se=e.b4,je=e.o,Pe=e.c,xe=e.W,Te=e.X,Le=e.p,Ce=e.G,Ie=e.H,Oe=e.x,De=e.q,Ee=e.M,Ne=e.w,Ve=e.n,Ae=e.m},function(e){qe=e._},function(e){He=e.o,Fe=e.a,Me=e.c}],execute:function(){var Ge=function(e){return a.post("plugin/get_soft_list",{data:e,customType:"default"})},Re=function(){return a.post("plugin/push_plugin",{customType:"default",check:"array"})},Ue=function(){return a.post("plugin/get_usually_plugin",{customType:"default",check:"array"})},ze=function(e){return a.post("plugin/uninstall_plugin",{data:e,loading:"正在卸载，请稍候...",customType:"default",check:"msg"})},Be=function(e){return a.post("plugin/save_plugin_settings",{data:e,customType:"default",check:"msg"})},Je=function(e){return a.post("plugin/add_index",{data:e,customType:"default",check:"msg"})},$e=function(e){return a.post("plugin/remove_index",{data:e,customType:"default",check:"msg"})},We=function(e){return a.post("deployment/GetList",{data:e,customType:"default",check:"object"})},Ye=function(e){return a.post("deployment/DelPackage",{data:e,customType:"default",check:"msg"})},Qe=function(e){return a.post("plugin/get_score",{data:e,customType:"default",check:"array"})},Ze=function(e){return a.post("plugin/set_score",{data:e,customType:"default",check:"msg"})},Ke=(e("ay",function(){return a.post("site/GetPHPVersion",{customType:"default",check:"array"})}),e("aC",function(e){return a.post("site/AddSite",{data:e,customType:"default",check:"object"})}),e("az",function(e){return a.post("deployment/SetupPackage",{data:e,customType:"default",check:"msg"})}),function(e){return a.post("auth/create_plugin_other_order",{data:e,loading:"正在获取支付信息，请稍候...",customType:"default",check:"object"})}),Xe=(e("V",function(e){return a.post("files/GetFileBody",{data:e})}),e("U",function(e){return a.post("plugin/install_plugin",{data:e,check:"object"})})),en=(e("W",function(e){return a.post("ajax/GetOpeLogs",{data:e,check:"msg"})}),e("D",function(e){return a.post("ftp/set_ftp_logs",{data:e,check:"msg"})}),e("Y",function(){return a.post("ajax/GetMemcachedStatus",{})}),e("X",function(e){return a.post("ajax/SetMemcachedCache",{data:e,check:"msg"})}),e("a0",function(){return a.post("ajax/GetNginxStatus",{check:"object"})}),e("$",function(){return a.post("config/GetNginxValue",{check:"array"})}),e("Z",function(e){return a.post("config/SetNginxValue",{data:e,check:"msg"})}),e("a1",function(){return a.post("config/get_ols_value",{})}),e("a2",function(e){return a.post("config/set_ols_value",{data:e,check:"msg"})}),e("R",function(){return a.post("database/GetRunStatus",{check:"object"})}),e("J",function(e){return a.post("database/GetErrorLog",{data:e,check:"string"})}),e("H",function(e){return a.post("database/GetErrorLog",{data:e,check:"msg"})}),e("K",function(e){return a.post("database/GetSlowLogs",{data:e,check:"msg"})}),e("M",function(){return a.post("database/GetMySQLBinlogs",{check:"msg"})}),e("L",function(e){return a.post("database/BinLog",{data:e,check:"msg"})}),e("E",function(e){return a.post("database/ClearMySQLBinlog",{data:e,check:"msg"})}),e("F",function(){return a.post("database/GetMySQLInfo",{check:"object"})}),e("Q",function(e){return a.post("database/SetDataDir",{data:e,check:"msg"})}),e("P",function(e){return a.post("database/SetMySQLPort",{data:e,check:"msg"})}),e("O",function(e){return a.post("database/mysql_oom_adj",{data:e,check:"msg"})}),e("T",function(){return a.post("database/GetDbStatus",{check:"object"})}),e("G",function(e){return a.post("database/SetDbConf",{data:e,check:"msg"})}),e("a7",function(e){return a.post("ajax/GetPHPConfig",{data:e,check:"object"})}),e("a5",function(e){return a.post("files/UninstallSoft",{data:e,check:"msg"})}),e("a6",function(e){return a.post("files/InstallSoft",{data:e,check:"msg"})}),e("a9",function(e){return a.post("config/GetPHPConf",{data:e})}),e("a8",function(e){return a.post("config/SetPHPConf",{data:e,check:"msg"})}),e("an",function(e){return a.post("config/setPHPDisable",{data:e,check:"msg"})}),e("ao",function(e){return a.post("config/getFpmConfig",{data:e,check:"object"})}),e("aa",function(e){return a.post("config/setFpmConfig",{data:e,check:"msg"})}),e("am",function(e){return a.post("ajax/GetPHPStatus",{data:e,check:"object"})}),e("a3",function(e){return a.post("ajax/GetFpmSlowLogs",{data:e,check:"object"})}),e("a4",function(e){return a.post("ajax/GetFpmLogs",{data:e,check:"msg"})}),e("ap",function(e){return a.post("config/GetSessionConf",{data:e,check:"object"})}),e("ad",function(e){return a.post("config/GetSessionCount",{data:e,check:"object"})}),e("ab",function(e){return a.post("config/SetSessionConf",{data:e,check:"msg"})}),e("ac",function(){return a.post("config/DelOldSession",{check:"msg"})}),e("ae",function(e){return a.post("ajax/GetPHPInfo",{data:e,check:"string"})}),e("aq",function(e){return a.post("ajax/php_info",{data:e,check:"object"})}),e("aj",function(e){return a.post("config/get_php_config",{data:e,check:"object"})}),e("al",function(e){return a.post("config/setPHPMaxSize",{data:e,check:"msg"})}),e("ak",function(e){return a.post("config/setPHPMaxTime",{data:e,check:"msg"})}),e("aw",function(){return a.post("ajax/GetApacheStatus",{check:"object"})}),e("as",function(e){return a.post("site/set_restart_task",{data:e,check:"msg"})}),e("au",function(){return a.post("site/get_restart_task",{check:"msg"})}),e("av",function(){return a.post("config/GetApacheValue",{check:"array"})}),e("at",function(e){return a.post("config/SetApacheValue",{data:e,check:"msg"})}),function(e){return a.post("auth/get_order_stat",{data:e,check:"number"})}),nn=(e("N",function(e){return a.post("files/DeleteFile",{data:e,check:"msg"})}),e("aF",function(){return a.post("deployment/check_project_env",{check:"object"})}),e("aB",function(e){return a.post("deployment/GetJarPath",{data:e,check:"object"})}),e("aE",function(e){return a.post("/mod/java/project/create_project",{data:e,check:"object",customType:"model"})}),e("aD",function(e){return a.post("/mod/php/php_async/create_project",{data:e,customType:"model",check:"object"})}),e("ax",function(){return a.post("/mod/java/project/get_system_info",{check:"msg",customType:"model"})}),e("aA",function(){return a.post("deployment/GetInLog",{check:"msg"})}),e("aM",function(){return a.post("database/GetmvDataDirSpeed",{check:"object"})}),e("af",function(){return a.post("plugin/RegetCloudPHPExt",{check:"object"})}),e("ar",function(e){return a.post("config/phpPeclUninstall",{data:e,check:"msg"})}),e("ag",function(e){return a.post("config/phpPeclInstall",{data:e,check:"msg"})}),e("ah",function(e){return a.post("config/GetPeclInstallList",{data:e,check:"array"})}),e("ai",function(e){return a.post("config/GetPhpPeclLog",{data:e,check:"msg"})}),c()),tn=nn.setAuthState,rn=nn.enterpriseRec,an=nn.payment,un=function(e){var n=e.type;return{label:"app"===n?"软件名称":"名称",prop:"title",width:250,sortable:e.sortable,showOverflowTooltip:!1,render:function(t){var r,a="soft_ico/ico-"+((null===(r=t.name)||void 0===r?void 0:r.indexOf("php-"))>-1?"php":t.name)+".png",u="/dep_ico/".concat(t.name,".png"),i=t.title.indexOf("PHP-")>-1?"PHP":t.title;return oe("div",{class:"whitespace-normal inline-flex items-center p-[2px] ".concat(t.setup?"cursor-pointer":""),title:t.setup?"打开插件":"".concat(i," ").concat(t.version),onClick:function(){return e.onClick(t)}},[oe(s,{src:"app"===n?a:u,class:"".concat(10===t.type?"!h-[20px] !w-[22px]":""," soft-ico-img"),type:"img"},{error:function(){return oe("img",{src:"/static/images/soft_ico/icon_plug.svg",alt:""},null)}}),oe("span",null,["".concat(t.setup?i:t.title," ").concat(t.version||"")]),oe("span",{class:"text-[#FC6D26] ".concat(t.is_beta?"":"hidden")},[ce("[测试版]")])])}}},on=function(){return{label:"开发商",width:80,render:function(e){return oe("span",{class:"truncate inline-block w-[8rem]"},[ce(" "),e.author||"官方"])}}},cn=function(e){return{label:"app"===e?"说明":"介绍",showOverflowTooltip:!1,render:function(e){return oe("div",{class:"leading-[16px]",innerHTML:e.ps},null)}}},sn=function(e){var n=e.onClick;return{label:"评分",prop:"score",width:80,sortable:e.sortable,render:function(e){return e.hasOwnProperty("score")?oe("span",{class:"bt-link inline-block w-[4rem]",onClick:function(){return n(e)}},[e.score?e.score:"无评分"]):oe("span",null,[ce("--")])}}},ln=function(){return{label:"价格/天",width:70,render:function(e){return e.price>0?oe("span",{class:"text-[#fc6d26]"},["≈".concat((e.price/("btiplibrary"===e.name?365:30)).toFixed(2),"元"),ce(" ")]):oe("span",{class:"text-[#666]"},[ce("免费")])}}},pn=function(e){return{label:"到期时间",width:130,showOverflowTooltip:!1,render:function(n){var t=n.endtime?f(n.endtime,"yyyy-MM-dd"):"--",r=oe("span",{class:"bt-link",onClick:function(){return e.onClick(n)}},[ce("(续费)")]);return n.price>0&&0===n.endtime&&!an.value.bindUser?oe("span",null,[ce("--")]):(n.price>0?[0,-1].includes(n.endtime)?(r=oe("i",null,null),t=0===n.endtime?"永久":"未开通"):[1,-2].includes(n.endtime)&&(t=n.endtime>1?t:"已到期"):(t="--",r=oe("i",null,null)),oe("span",null,[t,r]))}}},fn=function(){return{label:"位置",width:50,render:function(e){return e.setup?oe("span",{class:"flex"},[oe("i",{title:"打开插件文件目录",class:"text-[#efc566] cursor-pointer svgtofont-folder-open !text-[1.8rem]",onClick:function(){return He({path:e.install_checks})}},null)]):oe("span",null,[ce("--")])}}},vn=function(e){return{label:"首页显示",prop:"labels",width:80,render:function(n){return n.setup?oe(le,{size:"small",modelValue:n.index_display,"onUpdate:modelValue":function(e){return n.index_display=e},onChange:function(t){return e.onChange(n,Boolean(t))}},null):oe("span",null,[ce("--")])}}},dn=function(e){return{label:"操作",align:"right",width:175,showOverflowTooltip:!1,render:function(n,t){var r,a="soft_ico/ico-".concat(null!=n&&null!==(r=n.name)&&void 0!==r&&r.includes("php-")?"php":n.name,".png"),u=e,i="/dep_ico/".concat(n.name,".png");l(e)&&(u=e(n));var o=![5,6,13,7,8,12,10,11].includes(n.type);return oe(se,{popperClass:"el-popover-shadow el-light-popover !py-[6px]",trigger:"hover",placement:"top-start",enterable:!1,"show-after":200,"hide-after":0,width:"auto"},{default:function(){return[oe("div",{class:"flex items-center p-[2px] whitespace-nowrap"},[oe(s,{src:o?i:a,class:"".concat(o?"":"!h-[20px] !w-[22px]"," soft-ico-img"),type:"img"},{error:function(){return oe("img",{src:"/static/images/soft_ico/icon_plug.svg",alt:""},null)}}),oe("span",null,["".concat(n.title," ").concat(n.version)]),oe("span",{class:"text-[#FC6D26] ".concat(n.is_beta?"":"hidden")},[ce("[测试版]")])])]},reference:function(){return oe("div",{class:"text-right w-full"},[u.map(function(e,t){if(!(e.isHide&&e.isHide(n)||"更新"===e.title&&"tomcat"===n.name))return oe("span",{class:"soft-link"},[oe("span",{class:"bt-link",title:e.title,onClick:function(t){return"pay"==e.type&&10===n.type?(0,jn().buyThirdPluginView)(n):(e.onClick(n,e.type,e.sourceId),!1)}},[e.title]),t!==u.length-1?oe(qe,null,null):""])})])}})}}},mn=function(){var e=g(p().m(function e(n,t){var r,a,u,i,o,c,s,l;return p().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,ht();case 1:if(!e.v){e.n=2;break}return e.a(2);case 2:r="i",l=t,e.n="install"===l?3:"update"===l?4:"repair"===l?5:6;break;case 3:return r="i",e.a(3,6);case 4:return r="u",e.a(3,6);case 5:return r="r",e.a(3,6);case 6:if(10===n.type){e.n=8;break}return a=d(d({},n),{},{callback:function(){(0,Tn().refreshRouteData)("1")}}),e.n=7,ut({name:n.name,type:r,pluginInfo:a});case 7:e.n=14;break;case 8:return e.n=9,v({title:"安装第三方插件",content:"您真的要安装[".concat(n.title,"]插件吗？"),icon:"question-filled"});case 9:return u=h.load("正在获取插件信息，请稍后..."),e.n=10,wn(n);case 10:if((i=e.v).status){e.n=11;break}return e.a(2,h.error(i.msg));case 11:return e.n=12,Xe({sName:n.name,version:n.versions[0].m_version,min_version:n.versions[0].version});case 12:if(o=e.v,c=o.data,u.close(),!c.hasOwnProperty("status")||c.status){e.n=13;break}return e.a(2,h.error(c.msg));case 13:s=jn(),(0,s.installOtherEvent)(c);case 14:e.n=16;break;case 15:e.p=15,e.v;case 16:return e.a(2)}},e,null,[[0,15]])}));return function(n,t){return e.apply(this,arguments)}}(),hn=function(){var e=g(p().m(function e(n,t){var r,a;return p().w(function(e){for(;;)switch(e.n){case 0:if(!t){e.n=2;break}return e.n=1,Je({sName:n.name});case 1:a=e.v,e.n=4;break;case 2:return e.n=3,$e({sName:n.name});case 3:a=e.v;case 4:return r=a,h.request(r),e.a(2,r)}},e)}));return function(n,t){return e.apply(this,arguments)}}(),gn=(e("y",function(e){window.open(e,"_blank","noopener,noreferrer")}),function(){var e=g(p().m(function e(n){var t,r,a,u,i,c,s,l,f,v;return p().w(function(e){for(;;)if(0===e.n)return t=new y(n,{"list.data":[Array,"softList"],"list.page":b(),ltd:Number,pro:Number,search_history:[Array,"historyList"],m_list:Array,type:[Array,"typeList"],is_force:[Number,function(e){return{isForce:Boolean(e)}}]}).exportData(),r=t.softList,a=t.total,u=t.historyList,i=t.ltd,c=t.pro,s=t.m_list,l=t.typeList,f=t.isForce,tn([0,c,i]),v=[].concat(o(r),o(o(s).map(function(e){return d(d({},e),{},{is_docker:1})}))),e.a(2,{softList:v,total:a,historyList:u,typeList:l,isForce:f})},e)}));return function(n){return e.apply(this,arguments)}}()),yn=function(e){var n="";n=e?"软件列表更新成功":e||rn.value?"云端连接失败，无法获取最新软件列表，请检查网络或稍后重试":"未绑定宝塔官网账号，无法获取最新软件列表",h.msg({dangerouslyUseHTMLString:!e,message:n,type:e?"success":"warning",duration:2e3})},bn=function(e){window.open(e.preview_url,"_blank","noopener,noreferrer")},wn=function(){var e=g(p().m(function e(n){var t,r;return p().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,Ke({pid:n.pid,cycle:"1",type:0});case 1:return t=e.v,r=t.data,t.msg,t.status,e.a(2,r);case 2:e.p=2,e.v;case 3:return e.a(2)}},e,null,[[0,2]])}));return function(n){return e.apply(this,arguments)}}(),kn=function(){var e=g(p().m(function e(n,t,r){var a,u,i,o,s;return p().w(function(e){for(;;)switch(e.n){case 0:return a=c(),u=a.authExpirationTime,i=a.forceLtd,o=a.aliyunEcsLtd,s={disablePro:8!==n.type,compulsionLtd:8!==n.type,sourceId:r,plugin:!0,pluginInfo:n},-2===Number(u.value)&&(r=32),(i.value||o.value)&&(s={disablePro:!0,compulsionLtd:!0,sourceId:r,plugin:!0,pluginInfo:n}),e.n=1,at(s);case 1:return e.a(2)}},e)}));return function(n,t,r){return e.apply(this,arguments)}}(),_n=function(e){pe().push({path:e.route})},Sn=function(){var e=g(p().m(function e(n){var t,r,a,u,i;return p().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,ht();case 1:if(t=e.v,n.setup&&!t){e.n=2;break}return e.a(2);case 2:if(!([8,12].includes(n.type)&&n.endtime<0)){e.n=3;break}return e.a(2,h.error("加载失败：该插件未购买或已到期"));case 3:if(r=["mysql","pureftpd","nginx","apache","tomcat","memcached","openlitespeed","phpmyadmin"].includes(n.name),a=-1!==n.name.indexOf("php-"),!r&&!a){e.n=4;break}return e.a(2,it({pluginInfo:n}));case 4:return e.n=5,Dt(n.name);case 5:if(e.v){e.n=6;break}return e.a(2,!1);case 6:sessionStorage.setItem("pluginViewInfo",JSON.stringify(d(d({},n),{},{built:n.built?"1":"0"}))),u=c(),(i=u.pluginInfo).value.visible=!0,i.value.id=n.name,i.value.name=n.title,i.value.callback=(null==n?void 0:n.callback)||null;case 7:return e.a(2)}},e)}));return function(n){return e.apply(this,arguments)}}(),jn=e("x",fe("SOFT-OTHER-STORE",function(){var e=c().payment,n=ve(Tn()),t=n.searchVal,a=n.historyList,u=n.showNpsCollect,i=n.isLoading,o=n.inputZipFlag,s=n.speedInstallView,l=Tn(),f=l.scoreEvent,v=l.unInstallPlugin,d=de(),m=de(null),y=me([]),b=de({total:0,page:1,row:15}),x=function(e){d.value=e,w({title:"安装第三方插件包",area:50,btn:["确定安装","取消"],component:function(){return k(function(){return r.import("./index-legacy148.js?v=1756369731")},void 0,r.meta.url)}})},T=function(){var e=g(p().m(function e(n){return p().w(function(e){for(;;)switch(e.n){case 0:d.value=n,m.value=w({title:"".concat(n.title,"购买"),area:50,component:function(){return k(function(){return r.import("./index-legacy149.js?v=1756369731")},void 0,r.meta.url)}});case 1:return e.a(2)}},e)}));return function(n){return e.apply(this,arguments)}}(),L=function(){return me([un({type:"app",onClick:function(e){return Sn(e)}}),on(),cn("app"),ln(),pn({onClick:T}),fn(),sn({onClick:f}),vn({onChange:(n=g(p().m(function e(n,t){return p().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,hn(n,t);case 1:e.v.status||O("0");case 2:return e.a(2)}},e)})),function(e,t){return n.apply(this,arguments)})}),dn(function(n){var t=[],r=!function(e){return e.endtime<0}(n);if(t.push({onClick:T,title:-1!==n.endtime?"立即续费":"立即购买",isHide:function(){return r}}),n.setup&&!r&&t.push({onClick:v,title:"卸载"}),!r)return t;if(n.setup){var a=Nt(n);t.push({onClick:function(e){return mn(e,"update")},title:"更新",isHide:function(){return!a}}),t.push({onClick:Sn,title:"设置"}),t.push({onClick:v,title:"卸载"})}else n.price>0&&!e.value.bindUser?t.push({onClick:function(){return rt()},title:"立即购买"}):t.push({onClick:mn,title:"安装"});return t})]);var n},C=function(){var e=g(p().m(function e(){var n,r,o,c,s,l,f,v,d,m=arguments;return p().w(function(e){for(;;)switch(e.p=e.n){case 0:return n=m.length>0&&void 0!==m[0]?m[0]:{type:10,query:t.value,p:b.value.page,row:b.value.row,force:"0"},e.p=1,n.query=t.value||"",e.n=2,Ge(n);case 2:return r=e.v,o=r.data,e.n=3,gn(o);case 3:c=e.v,s=c.softList,l=c.total,f=c.historyList,(v=c.isForce)&&yn(v),u.value=!s.length,y.value=s,a.value=f,b.value.total=l,e.n=5;break;case 4:e.p=4,d=e.v,j(d,"getSoftListData");case 5:return e.p=5,i.value=!1,e.f(5);case 6:return e.a(2)}},e,null,[[1,4,5,6]])}));return function(){return e.apply(this,arguments)}}(),I=L(),O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0";I=L(),C({type:10,query:t.value,p:b.value.page,row:b.value.row,force:e})},D=he({bugTime:"1",qrcode:"https://www.bt.cn",qrcodeSize:160}),E=de(0),N=de("0"),V=de(0),A=function(){var e=g(p().m(function e(){var n,t;return p().w(function(e){for(;;)switch(e.n){case 0:return clearTimeout(V.value),N.value=(d.value.price*Number(D.bugTime)).toFixed(2),e.n=1,Ke({pid:d.value.pid,cycle:D.bugTime,type:-1===d.value.endtime?0:1});case 1:if(n=e.v,null!=(t=n.data)&&t.msg.code){e.n=3;break}return h.request(t),e.n=2,m.value;case 2:return e.v.unmount(),e.a(2);case 3:D.qrcode=t.msg.code,E.value=t.msg.oid,q();case 4:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),q=function(){var e=g(p().m(function e(){return p().w(function(e){for(;;)switch(e.n){case 0:clearTimeout(V.value),V.value=setTimeout(g(p().m(function e(){var n;return p().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,en({oid:E.value,type:-1===d.value.endtime?0:1});case 1:if(n=e.v,0===n.data){e.n=3;break}return O("1"),e.n=2,m.value;case 2:return e.v.unmount(),e.a(2,h.success(-1!==d.value.endtime?"续费成功":"购买成功"));case 3:q();case 4:return e.a(2)}},e)})),1e3);case 1:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),H=de(!1),F=function(){var e=g(p().m(function e(n){var t,r,a;return p().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,H.value=!0,e.n=1,P({plugin_name:d.value.name,tmp_path:d.value.tmp_path});case 1:t=e.v,r=t.status,a=t.msg,o.value=!1,h.request({status:r,msg:null==a?void 0:a.replace(/<br>/g,"\n")}),s.value=!1,H.value=!1,O("0"),n(),e.n=3;break;case 2:e.p=2,e.v;case 3:return e.a(2)}},e,null,[[0,2]])}));return function(n){return e.apply(this,arguments)}}();return{searchVal:t,softTableList:y,tablePageConfig:b,TableColumn:I,importOtherEvent:function(){var e=document.createElement("input");e.type="file",e.style.display="none",e.accept=".zip,.tar.gz",e.id="update_zip",e.multiple=!0,e.addEventListener("change",g(p().m(function n(){var t,r,a,u;return p().w(function(n){for(;;)switch(n.n){case 0:if(0!==(t=e.files||[]).length){n.n=1;break}return n.a(2);case 1:return(r=new FormData).append("plugin_zip",t[0]),a={headers:{"Content-Type":"multipart/form-data","x-http-token":window.vite_public_request_token}},n.n=2,_.post("/plugin?action=update_zip",r,a);case 2:if(u=n.v,!S("status",u.data)||!S("msg",u.data)||u.data.status){n.n=3;break}return n.a(2,h.error(u.data.msg));case 3:x(u.data);case 4:return n.a(2)}},n)}))),e.click()},pageChangeEvent:function(e,n){b.value.page=e,b.value.row=n,O("0")},getSoftListData:C,refreshList:O,buyThirdPluginView:T,$reset:function(){t.value="",y.value=[],b.value.page=1},plugin:D,oid:E,price:N,buyPopup:m,getRenewOrder:A,getOrderStatus:q,$reset_buy:function(){clearTimeout(V.value),E.value=0},rowData:d,isShowSpeedVisible:H,installThirdPlugin:F,cancelInstall:function(){H.value=!1,h.error("已取消安装!")},installOtherEvent:x,$reset_install:function(){d.value={}}}})),Pn=e("w",fe("SOFT-PLUGIN-STORE",function(){var e=he({total:0,page:1,row:15}),n=ge("softTypeList",[]),t=de([]),a=ve(Tn()),u=a.isSpecial,i=a.searchVal,s=a.isLoading,l=a.tabTypeActive,v=a.showNpsCollect,m=a.historyList,y=Tn().unInstallPlugin,b=c(),_=b.payment,S=b.forceLtd,P=b.aliyunEcsLtd,C=ye(_.value),I=C.authType,O=C.authExpirationTime,D=he({upgrades:[],version:"",options:[],info:{}}),E=de(),N=de(),V=[{title:"5分钟极速响应",icon:"free-time-icon"},{title:"15天无理由退款",icon:"free-refund-icon"},{title:"30+款付费插件",icon:"free-plunge-icon"},{title:"20+企业版专享功能",icon:"free-function-icon"},{title:"1000条免费短信（年付）",icon:"free-message-icon"},{title:"2张SSL商用证书（年付）",icon:"free-certificate-icon"}],A=[{title:"更换授权IP",icon:"free-ip-icon"},{title:"客服优先响应",icon:"contact-customer"},{title:"15+款付费插件",icon:"free-fifteen-icon"},{title:"商用防火墙授权",icon:"icon-file-lock"}],q=be(function(){return O.value>=0&&"free"!==I.value}),H=be(function(){return 12===l.value}),F=be(function(){return 8===l.value}),M=be(function(){return q.value&&!(H.value&&"pro"===I.value)}),G=be(function(){return!(!S.value&&!P.value)||(!!(H.value||q.value&&"ltd"===I.value)||!(!F.value&&q.value&&"pro"===I.value)&&!F.value)}),R=be(function(){return f(O.value,"yyyy-MM-dd")}),U=be(function(){var e=(new Date).getTime()/1e3,n=O.value-e;return Math.ceil(n/86400)}),z=be(function(){return G.value?"#966000":"#f1ad29"}),B=be(function(){return H.value||G.value?V:A}),J=be(function(){return[{title:"全部",id:0},{title:"已安装",id:-1}].concat(o(n.value)).filter(function(e){return 11!=e.id&&10!=e.id})}),$=function(){var e=g(p().m(function e(n){return p().w(function(e){for(;;)switch(e.n){case 0:-2===O.value&&(n=32),at({sourceId:n,disablePro:G.value,compulsionLtd:G.value});case 1:return e.a(2)}},e)}));return function(n){return e.apply(this,arguments)}}(),W=function(){var r=g(p().m(function r(){var a,u,o,c,f,d,h,g,y,b,w=arguments;return p().w(function(r){for(;;)switch(r.p=r.n){case 0:return a=w.length>0&&void 0!==w[0]?w[0]:{type:l.value,query:i.value,p:e.page,row:e.row,force:"0"},r.p=1,s.value=!0,a.query=i.value||"",r.n=2,Ge(a);case 2:return u=r.v,o=u.data,r.n=3,gn(o);case 3:c=r.v,f=c.softList,d=c.total,h=c.historyList,g=c.typeList,y=c.isForce,"1"==a.force&&yn(y),v.value=!d,t.value=f,m.value=h,n.value=g,e.total=d,r.n=5;break;case 4:r.p=4,b=r.v,j(b,"getSoftListData");case 5:return r.p=5,s.value=!1,r.f(5);case 6:return r.a(2)}},r,null,[[1,4,5,6]])}));return function(){return r.apply(this,arguments)}}(),Y=function(){return me([un({type:"app",onClick:function(e){return Sn(e)}}),on(),cn("app"),ln(),pn({onClick:function(e){10!=e.type&&kn(e,"",34)}}),fn(),{label:"状态",prop:"gateway",width:50,render:function(e){if(5!==e.type)return oe("span",null,[ce("--")]);var n="phpmyadmin"===e.name||e.status?"svgtofont-icon-start text-[#20a53a]":"svgtofont-icon-stop text-danger";return e.setup?oe("span",{class:"flex"},[oe("i",{class:n},null)]):oe("span",null,[ce("--")])}},vn({onChange:(e=g(p().m(function e(n,t){return p().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,hn(n,t);case 1:e.v.status||ee("0");case 2:return e.a(2)}},e)})),function(n,t){return e.apply(this,arguments)})}),dn(function(e){var n=[],t=x(Vt(e.task)),r=Et(e,I.value),a=x(null==e?void 0:e.preview_url)&&""!=e.preview_url&&!r,u=!!e.route,i=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return!1};return n.push({title:e,onClick:t,isHide:r})};if(!r)return i("立即跳转",_n,function(){return!u}),i(Vt(e.task),et,function(){return!t}),i("预览",bn,function(){return!a}),i(-1!==e.endtime?"立即续费":"立即购买",function(e){return kn(e,e.type,-1!==e.endtime?34:31)},function(){return r}),i("卸载",y,function(){return!(!r&&e.setup)}),n;var o=Nt(e),c=5!==e.type;return e.setup?(i("更新",function(e){return mn(e,"update")},function(){return!o}),i("设置",Sn),i("修复",ne,function(){return!c}),i("卸载",y)):e.is_docker?i("立即前往",function(){L.push({name:"docker"})}):i("安装",mn),n})]);var e},Q=function(){var e=g(p().m(function e(){var n,t,r,a,i,o;return p().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,T({plugin_name:E.value.name,show:1});case 1:(n=e.v).status?(D.upgrades=n.data,t=D.upgrades.at(-1)||{beta:!1},r=t.beta?t:{},a=D.upgrades.at(0),D.info=E.value.is_beta?r:a,D.info||(i=E.value.version,D.info={beta:2,m_version:i.split[0],update_msg:0,update_time:0,version:i.split[1]}),u&&(D.options=D.upgrades.map(function(e){return{label:e.m_version+"."+e.version+(e.beta?"bate":"Stable"),value:e.m_version+"."+e.version}}),D.version="".concat((null===(o=D.options.at(0))||void 0===o?void 0:o.value)||""))):h.error(n.msg);case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=g(p().m(function e(){return p().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,N.value;case 1:e.v.unmount(),mn(E.value,"repair");case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),K=function(){var e=g(p().m(function e(){return p().w(function(e){for(;;)switch(e.n){case 0:mn(d(d({},E.value),{version:D.version}),"repair");case 1:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),X=Y(),ee=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0";X=Y(),W({type:l.value,query:i.value,p:e.page,row:e.row,force:n})},ne=function(){var e=g(p().m(function e(n){return p().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,ht();case 1:if(!e.v){e.n=2;break}return e.a(2);case 2:E.value=n,N.value=w({title:"".concat(n.title,"v").concat(n.version,"-修复插件"),area:50,component:function(){return k(function(){return r.import("./index-legacy150.js?v=1756369731")},void 0,r.meta.url)}});case 3:return e.a(2)}},e)}));return function(n){return e.apply(this,arguments)}}();return{TableColumn:X,searchVal:i,tablePage:e,softTableList:t,typeList:J,refreshPluginList:ee,getSoftListData:W,openNpsEvent:function(){return nt({type:16,id:993,isNoRate:!0})},toggleClassEvent:function(n){l.value=n,sessionStorage.setItem("SOFT-PLUGIN-TYPE",String(n)),e.page=1,ee("0")},isPay:q,isActiveLtd:H,isActivePro:F,isActivePay:M,isShowType:G,isExpTime:R,isDistanceDays:U,isShowColor:z,recomList:B,pluginPayEvent:$,plugin:D,helpList:[{content:"无法修复？请尝试切换下版本。"}],getPluginInfo:Q,cutVersionEvent:K,repairPluginEvent:Z,softData:E,$reset:function(){i.value="",t.value=[],n.value=[],e.page=1,E.value={},D.options=[],D.version="",D.upgrades=[],X.value=[]}}})),xn=e("z",fe("SOFT-DEPLOY-STORE",function(){var e,n=ve(Tn()),t=n.tabDeployActive,a=n.isLoading,u=n.searchVal,i=Tn().scoreEvent,c=de(null),s=de(),l=de(),f=de({total:0,page:1,row:15}),d=ge("deployTypeList",[]),m=me([]),y=me([]),b=de("all"),S=be(function(){return[{title:"全部",tid:0}].concat(o(d.value))}),P=function(e){c.value=e||null,w({title:"".concat(e?"更新":"导入","一键部署项目包").concat(e?"【".concat(e.title,"】"):""),area:60,btn:["提交","取消"],component:function(){return k(function(){return r.import("./import-legacy.js?v=1756369731")},void 0,r.meta.url)},showClose:!0})},x=function(){var e=g(p().m(function e(n){return p().w(function(e){for(;;)switch(e.n){case 0:n.official?window.open(n.official,"_blank","noopener,noreferrer"):location.reload();case 1:return e.a(2)}},e)}));return function(n){return e.apply(this,arguments)}}(),T=function(){var e;y.value=(e={list:m.value,limit:f.value.row,p:f.value.page},O(e.limit,e.list)[e.p-1]||[])},L=function(){var e=g(p().m(function e(n){var t,r,u,i,o,c,s,l;return p().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,n.search||delete n.search,a.value=!0,e.n=1,We(n);case 1:t=e.v,r=t.data,u=t.status,i=C(r),o=r.list,c=r.dep_type,1===Number(n.force)&&yn(u),s="all"===b.value?"":b.value,i("list")&&I(o)&&(m.value=s?o.filter(function(e){switch(s){case"php":return null===e.project_type||e.project_type===s||0===e.project_type&&0===e.install_type;case"php_async":return e.project_type===s||0===e.project_type&&1===e.install_type;case"java":return e.project_type===s||1===e.project_type;default:return e.project_type===s}}):o,f.value.total=m.value.length,T()),i("dep_type")&&I(c)&&(d.value=c,d.value.push({tid:100,title:"其他"})),e.n=3;break;case 2:e.p=2,l=e.v,j(l);case 3:return e.p=3,a.value=!1,e.f(3);case 4:return e.a(2)}},e,null,[[0,2,3,4]])}));return function(n){return e.apply(this,arguments)}}(),D=me([Fe({isHide:100!=t.value,type:"page",key:"name"}),un({type:"deploy",sortable:!0,onClick:function(e){return E(e)}}),{label:"版本",prop:"version"},cn("deploy"),{label:"项目类型",width:90,render:function(e){if(100===t.value){var n={php_async:"异步项目",java:"Java项目",default:"PHP项目"};return n[e.project_type]||n.default}var r={1:"Java项目",0:"PHP项目"};return r[e.project_type]||r.default}},{label:"支持版本",render:function(e){var n=e.php,t=e.java,r=e.project_type,a=1===r||"java"===r?"JDK版本：":"PHP版本：",u=n||t;return oe("span",{title:"支持的".concat(a).concat(u)},[a,u])}},{label:"提供者",prop:"author",render:function(e){var n="--";if("宝塔"===e.author)n=e.title;else n=e.author;return oe("span",{class:"bt-link",onClick:function(){return x(e)}},[n])}},sn({onClick:function(e){return i(e)},sortable:!0}),dn(function(e){var n=[{onClick:E,title:"一键部署"}];return 0===e.id&&(n.push({onClick:P,title:"更新"}),n.push({onClick:A,title:"删除"})),n})]),E=function(){var e=g(p().m(function e(n){return p().w(function(e){for(;;)if(0===e.n)return c.value=n,s.value=w({title:"【".concat(n.title,"】一键部署"),area:60,btn:["提交","取消"],component:function(){return k(function(){return r.import("./index-legacy151.js?v=1756369731").then(function(e){return e.i})},void 0,r.meta.url)},showClose:!0}),e.a(2,s.value)},e)}));return function(n){return e.apply(this,arguments)}}(),N=[{label:"删除自定义项目",value:"delete",event:(e=g(p().m(function e(n,r){var a;return p().w(function(e){for(;;)switch(e.n){case 0:return a=function(){var e=g(p().m(function e(n){return p().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Ye({dname:n.name});case 1:return e.a(2,e.v)}},e)}));return function(n){return e.apply(this,arguments)}}(),e.n=1,n({title:"批量删除",content:"即将删除所选中的项目，是否继续操作?",column:[{prop:"name",label:"项目名称"},Me()],onConfirm:function(){var e=g(p().m(function e(){return p().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,r(a);case 1:return L({type:t.value,search:u.value}),e.a(2,!1)}},e)}));return function(){return e.apply(this,arguments)}}()});case 1:return e.a(2)}},e)})),function(n,t){return e.apply(this,arguments)})}],V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0";L({type:t.value,search:u.value,force:e})},A=function(){var e=g(p().m(function e(n){var t;return p().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,v({title:"删除自定义项目",type:"calc",icon:"warning-filled",content:"您真的要删除【".concat(n.name,"】吗？")});case 1:return e.n=2,Ye({dname:n.name});case 2:(t=e.v).status?(h.success(t.msg),V()):h.error(t.msg),e.n=4;break;case 3:e.p=3,e.v;case 4:return e.a(2)}},e,null,[[0,3]])}));return function(n){return e.apply(this,arguments)}}(),q=he({name:"",title:"",php:"",enable_functions:"",version:"",ps:"",file:null,project_type:"php",mysql_version:"",java_version:""}),H=de("未选择任何文件"),F=de(),M=[{content:function(){return oe(we,null,[oe("span",{class:"text-danger"},[ce("请上传zip格式的项目包")]),ce(",里面必需包含auto_install.json配置文件")])}}],G=function(){var e=g(p().m(function e(n){var r,a,u,i;return p().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,F.value.validate();case 1:if(q.file){e.n=2;break}return h.error("请上传项目包"),e.a(2);case 2:if(q.file.name.endsWith(".zip")){e.n=3;break}return h.error("请上传zip格式的项目包"),e.a(2);case 3:return(r=new FormData).append("name",q.name),r.append("title",q.title),"php"===q.project_type?(r.append("php",q.php),r.append("enable_functions",q.enable_functions)):(r.append("mysql_version",q.mysql_version),r.append("java_version",q.java_version),r.append("project_type",q.project_type)),r.append("version",q.version),r.append("ps",q.ps),r.append("dep_zip",q.file),a={headers:{"Content-Type":"multipart/form-data","x-http-token":window.vite_public_request_token}},u=h.load("正在导入项目，请稍后..."),e.n=4,_.post("/deployment?action=AddPackage",r,a);case 4:i=e.v,u.close(),i.data.status?(f.value.page=1,t.value=100,V(),n(),h.success(i.data.msg)):h.error(i.data.msg),e.n=6;break;case 5:e.p=5,e.v;case 6:return e.a(2)}},e,null,[[0,5]])}));return function(n){return e.apply(this,arguments)}}();return{searchVal:u,typeList:S,projectType:b,projectTypeOptions:[{label:"全部项目",value:"all"},{label:"PHP项目",value:"php"},{label:"异步项目",value:"php_async"},{label:"Java项目",value:"java"}],TableColumn:D,deployShowTableList:y,deployTableListRef:l,TableBatchOptions:N,tablePageConfig:f,getDeployListData:L,pageChangeEvent:function(e,n){f.value.page=e,f.value.row=n,T()},importProjectEvent:P,toggleClassEvent:function(e){t.value=e,sessionStorage.setItem("SOFT-DEPLOY-TYPE",String(e)),f.value.page=1,f.value.total=0,L({type:e,search:u.value}),D.value[0].isHide=100!=t.value},onChangeProjectType:function(e){f.value.page=1,L({type:t.value,search:u.value,force:"0"})},refreshDeployList:V,fileName:H,helpList:M,cmdForm:q,cmdRules:{name:[{required:!0,message:"请输入项目英文名称",trigger:["blur"]}],title:[{required:!0,message:"请输入项目中文名称",trigger:["blur"]}],php:[{required:!0,message:"请输入项目PHP版本",trigger:["blur"]}],version:[{required:!0,message:"请输入项目版本",trigger:["blur"]}],ps:[{required:!0,message:"请输入项目简介",trigger:["blur"]}],java_version:[{required:!0,message:"请输入JDK版本",trigger:["blur"]}],mysql_version:[{required:!0,message:"请输入Mysql版本",trigger:["blur"]}]},cmdFormRef:F,projectTypeRadio:[{label:"PHP",value:"php"},{label:"Java",value:"java"}],changeProjectType:function(e){F.value.resetFields(),q.project_type=e},importPlugin:function(){var e=document.createElement("input");e.type="file",e.style.display="none",e.accept=".zip",e.id="update_zip",e.multiple=!0,e.addEventListener("change",g(p().m(function n(){var t;return p().w(function(n){for(;;)switch(n.n){case 0:if(0!==(t=e.files||[]).length){n.n=1;break}return n.a(2);case 1:H.value=t[0].name,q.file=t[0];case 2:return n.a(2)}},n)}))),e.click()},onConfirm:G,initImportForm:function(){if(c.value){var e=c.value,n=e.name,t=e.title,r=e.php,a=e.enable_functions,u=e.version,i=e.ps,o=e.project_type,s=e.java,l=e.mysql;Object.assign(q,{name:n,title:t,php:r||"",enable_functions:a||"",version:u,ps:i,project_type:"java"===o?"java":"php",mysql_version:l||"",java_version:s||""})}},oneDeploy:s,rowData:c,$reset:function(){u.value="",b.value="all",m.value=[],y.value=[],f.value={total:0,page:1,row:10}},$reset_import_form:function(){c.value=null,H.value="未选择任何文件",Object.assign(q,{name:"",title:"",php:"",enable_functions:"",version:"",ps:"",file:null,project_type:"php",mysql_version:"",java_version:""})}}})),Tn=e("S",fe("SOFT-STORE",function(){var e=c().mainWidth,n=pe(),t=ke(),a=be(function(){var e;return(null===(e=ke())||void 0===e?void 0:e.name)||"plugin"}),u=sessionStorage.getItem("SOFT-PLUGIN-TYPE"),i=de(u?Number(u):0),s=sessionStorage.getItem("SOFT-DEPLOY-TYPE"),l=de(s?Number(s):0),f=de(!1),m=de(!1),y=de(!1),b=de(!1),_=de(!1),S=de([]),j=me([]),P=me([]),x=de(),T={name:"get_soft_list",key:"get_soft_list"},L=de(),C=be(function(){return"deployment"!==a.value}),O=be(function(){return"plugin"===a.value}),q=de(),H=de(),F=de(),M=be(function(){var e,n=null===(e=q.value)||void 0===e?void 0:e.name;return"total"===n||"rsync"===n||"syssafe"===n||"tamper_proof"===n}),G=de(!1),R=function(){var e=g(p().m(function e(n){var t;return p().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,n.value;case 1:(t=e.v)&&t.unmount();case 2:return e.a(2)}},e)}));return function(n){return e.apply(this,arguments)}}(),U=function(){var e,n;null!==(e=x.value)&&void 0!==e&&e.blur&&x.value.blur(),null!==(n=x.value)&&void 0!==n&&n.hidePopover&&x.value.hidePopover()},z=function(){var e;null!==(e=x.value)&&void 0!==e&&e.showPopover&&x.value.showPopover()},B=function(){var e=g(p().m(function e(){var n,t,r,u,i,o,c,s,l,f,v,d=arguments;return p().w(function(e){for(;;)switch(e.n){case 0:n=d.length>0&&void 0!==d[0]?d[0]:"0",t=d.length>1?d[1]:void 0,"other"===a.value?(r=jn(),u=ve(r),i=u.tablePageConfig,t&&(i.value.page=1),r.refreshList(n)):"plugin"===a.value?(o=Pn(),c=ve(o),s=c.tablePage,t&&(s.value.page=1),o.refreshPluginList(n)):"deployment"===a.value&&(l=xn(),f=ve(l),v=f.tablePageConfig,t&&(v.value.page=1),l.refreshDeployList(n));case 1:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),J=function(){var e=g(p().m(function e(n){var t,r=arguments;return p().w(function(e){for(;;)switch(e.n){case 0:t=r.length>1&&void 0!==r[1]?r[1]:22,U(),Ot({pluginName:n,source:t});case 1:return e.a(2)}},e)}));return function(n){return e.apply(this,arguments)}}(),$=function(){var e=g(p().m(function e(){var n,t,r,a;return p().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Re();case 1:n=e.v,t=n.data,I(t)&&2===t.length&&(j.value=(null===(r=t[0])||void 0===r?void 0:r.plugin)||[],P.value=(null===(a=t[1])||void 0===a?void 0:a.plugin)||[]);case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),W=function(){var e=g(p().m(function e(n,t){var r,a;return p().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.n=1,v({icon:"warning-filled",title:"删除搜索历史记录",content:"删除该条搜索历史【"+n+"】，是否继续？"});case 1:return r=D("正在删除指定搜索历史记录，请稍后..."),e.p=2,e.n=3,E(d(d({},{val:n}),T));case 3:(a=e.v).status&&S.value.splice(t,1),h.request(a),z(),e.n=5;break;case 4:e.p=4,e.v;case 5:return e.p=5,r.close(),e.f(5);case 6:return e.a(2)}},e,null,[[2,4,5,6]])}));return function(n,t){return e.apply(this,arguments)}}(),Y=function(){var e=g(p().m(function e(){var n,t;return p().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.n=1,v({icon:"warning-filled",title:"清空搜索历史",content:"清空所有搜索历史记录，是否继续？"});case 1:return n=D("正在清空搜索历史记录，请稍后..."),e.p=2,e.n=3,N(T);case 3:(t=e.v).status&&(S.value=[]),h.request(t),z(),e.n=5;break;case 4:e.p=4,e.v;case 5:return e.p=5,n.close(),e.f(5);case 6:return e.a(2)}},e,null,[[2,4,5,6]])}));return function(){return e.apply(this,arguments)}}(),Q=ge("softList",[]),Z=be(function(){return Q.value.slice(0,K.value)||[]}),K=be(function(){return e.value<=400?1:Math.floor((e.value-200)/120)}),X=function(){var e=g(p().m(function e(){var n,t;return p().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Ue();case 1:n=e.v,t=n.data,Q.value=t;case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),ee=de(!1),ne=de(5),te=me([{score:5,name:"力荐"},{score:4,name:"好"},{score:3,name:"一般"},{score:2,name:"差"},{score:1,name:"非常差"}]),re=he({count:0,total:0,avg:0,rate:0,starList:[]}),ae=function(){var e=g(p().m(function e(){var n,t,r,a;return p().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,ee.value=!0,e.n=1,Qe({pid:q.value.id,p:1});case 1:if((n=e.v).status){for(t=n.data.split.reverse(),r=n.data.total,re.avg=Number(((1*t[4]+2*t[3]+3*t[2]+4*t[1]+5*t[0])/r).toFixed(1)),re.count=q.value.count,re.total=r,re.rate=0!==r?Number((100*Number(((t[0]+t[1])/r).toFixed(2))).toFixed(0)):0,a=0;a<5;a++)re.starList.push(Number((100*Number((t[a]/r).toFixed(2))).toFixed(0)));ee.value=!1}e.n=3;break;case 2:e.p=2,e.v;case 3:return e.a(2)}},e,null,[[0,2]])}));return function(){return e.apply(this,arguments)}}(),ue=function(){var e=g(p().m(function e(){var n;return p().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,Ze({pid:q.value.id,num:ne.value,ps:"用户未做任何评价"});case 1:(n=e.v).status?(B(),R(H),h.success(n.msg)):h.error(n.msg),e.n=3;break;case 2:e.p=2,e.v;case 3:return e.a(2)}},e,null,[[0,2]])}));return function(){return e.apply(this,arguments)}}(),ie=function(){var e=g(p().m(function e(){var n,t,r,a;return p().w(function(e){for(;;)switch(e.n){case 0:n=q.value.version,t=0;case 1:if(!(t<q.value.versions.length)){e.n=3;break}if(!q.value.versions[t].setup||!q.value.version.includes(q.value.versions[t].m_version)){e.n=2;break}return(n=q.value.versions[t].m_version).indexOf(".")<0&&(n+="."+q.value.versions[t].version),e.a(3,3);case 2:t++,e.n=1;break;case 3:if(r=q.value.name,!M){e.n=9;break}if(!G.value){e.n=7;break}return e.n=4,Be({soft_name:r});case 4:if(!(a=e.v).status){e.n=5;break}return e.a(2,oe(r,n));case 5:h.error(a.msg);case 6:return e.a(2,a.status);case 7:return e.a(2,oe(r,n));case 8:e.n=10;break;case 9:return e.a(2,oe(r,n));case 10:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),oe=function(){var e=g(p().m(function e(n,t){var r,a,u;return p().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,ze({sName:n,version:t});case 1:return(u=e.v).status?(h.success(u.msg),B()):h.msg({dangerouslyUseHTMLString:!0,message:u.msg,type:"error",duration:0,showClose:!0}),null!==(r=q.value)&&void 0!==r&&r.callBack&&(null===(a=q.value)||void 0===a||a.callBack(u.status)),e.a(2,u.status)}},e)}));return function(n,t){return e.apply(this,arguments)}}(),ce=function(){var e=g(p().m(function e(){return p().w(function(e){for(;;)switch(e.n){case 0:if(t.name!==a.value){e.n=1;break}return e.a(2);case 1:n.push({name:a.value});case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),se=function(e){"refreshSoftTable"===e.data&&B()};return{tabActive:a,historyList:S,tabTypeActive:i,tabDeployActive:l,showNpsCollect:f,isLoading:m,inputZipFlag:y,speedInstallView:b,isResetDeployPage:_,isPluginView:O,redirectRouter:ce,cutTabsEvent:function(e){a.value=e,V("/soft/"+e)},initSoftView:function(){window.addEventListener("message",se)},$reset:function(){window.removeEventListener("message",se),A(["/plugin?action=get_soft_list","/plugin?action=push_plugin","/plugin?action=get_usually_plugin"])},refreshRouteData:B,searchRef:x,softSearchList:j,softRecommendList:P,handleOpenPluginEvent:J,getHotSoft:$,clearSoftHistory:function(e){S.value.splice(e,1),S.value=o(S.value)},clearFindHistoryEvent:W,inputHistoryEvent:function(e){L.value=e,U(),B("0")},clearAllHistoryEvent:Y,initHistory:function(){0===S.value.length&&U(),Tt({promises:[$],delay:100})},$reset_history:function(){L.value="",S.value=[],j.value=[],P.value=[],f.value=!1},showRefresh:C,triggerHideEvent:U,triggerShowEvent:z,openNPS:function(){nt({type:16,id:993,isNoRate:!0})},searchVal:L,initRecently:function(){Tt({promises:[X],delay:500})},handleOpenRecentEvent:function(e){Ot({pluginName:e.name,type:"default"})},getHistoryInfo:X,softNum:K,softList:Q,softListSliceData:Z,$reset_recently:function(){Q.value=[]},scoreEvent:function(e){q.value=e,H.value=w({title:"【".concat(e.title,"】评分"),area:55,component:function(){return k(function(){return r.import("./index-legacy152.js?v=1756369731")},void 0,r.meta.url)}})},loading:ee,pluginData:q,pluginScore:re,score:ne,getComment:function(e){return te.value.filter(function(n){return n.score===e})[0].name},getDetail:ae,onSubmitScore:ue,$reset_score:function(){q.value={},re.starList=[]},unInstallPlugin:function(e){q.value=e,F.value=w({showFooter:!0,title:"卸载",area:45,component:function(){return k(function(){return r.import("./index-legacy153.js?v=1756369731")},void 0,r.meta.url)}})},onUnInstall:ie,unInstall:oe,isSpecial:M,checked:G}})),Ln=Object.freeze(Object.defineProperty({__proto__:null,SOFT_STORE:Tn,useSoftStore:function(){var e=Tn();return d(d({},e),ve(e))}},Symbol.toStringTag,{value:"Module"}));e("aN",Ln);var Cn=function(e,n){return new Promise(function(e,t){w({title:"编译安装",area:45,btn:["提交并".concat(n),"取消"],component:function(){return k(function(){return r.import("./compile-install-legacy.js?v=1756369731")},void 0,r.meta.url)},onConfirm:function(){return e(!0)},onCancel:function(){return e(!1)}})})},In=(e("C",function(e){return w({title:"".concat(e.title,"- 更新日志"),area:52,component:function(){return k(function(){return r.import("./history-version-legacy.js?v=1756369731")},void 0,r.meta.url)},compData:{name:e.name,title:e.title}})}),c()),On=In.isRefreshSoftList,Dn=(In.isUpdatePayment,function(e,n,t){var r,a,u,i=e.title,o=e.name,c=e.ps,s=e.type,l=e.dependnet,p=e.other_php,f=e.versions,v=e.version,d=o.split("-")[0];t.title=i,t.name=o,t.isBeta=!!e.is_beta,t.ps=c,t.type=s,t.call=n,t.isInstall="i"===n,t.isUpdate="u"===n,t.isRepair="r"===n,t.isPHPInstall="php"===d&&"i"===n,t.isBeta=!!e.is_beta,t.isSystem=5===s,t.isPHPInstall="php"===d,t.isMysqlUpdate="mysql"===d&&("r"===n||"u"===n),t.isSpecialPlugins=["apache","nginx","mysql"].includes(o),t.introduction=(u=e.introduction)?u.split(";").map(function(e){return e.split("|")}):[],t.compile=["nginx","apache","mysql","php"].includes(d),t.currentVersion=v||"",t.otherPHP=p||[],t.versions=f||[],t.dependnet=l,t.isDependnet=!(null!=l&&null!==(r=l.need)&&void 0!==r&&r.length||null!=l&&null!==(a=l.selected)&&void 0!==a&&a.length)}),En=function(){var e=g(p().m(function e(n,t,r){var a,u,i;return p().w(function(e){for(;;)switch(e.n){case 0:if(!_e(n)||!S("name",n)){e.n=1;break}return Dn(n,t,r),e.a(2);case 1:return a=h.load("正在获取插件信息，请稍候..."),e.n=2,q({sName:n});case 2:u=e.v,i=u.data,a.close(),Dn(i,t,r);case 3:return e.a(2)}},e)}));return function(n,t,r){return e.apply(this,arguments)}}(),Nn=function(){var e=g(p().m(function e(n,t,r){var a,u,i,o,c,s,l,v,d;return p().w(function(e){for(;;)switch(e.n){case 0:if(a=H(r),u=n.versions[r||0],a&&n.isSystem&&(i=n.versions.findIndex(function(e){return n.currentVersion.indexOf(e.m_version)>-1}))>=0&&(u=n.versions[i]),!n.isPHPInstall){e.n=3;break}if(a&&(r=n.otherPHP.findIndex(function(e){return e.name===n.name})),u=n.otherPHP[r||0],n.name===u.name){e.n=2;break}return o=h.load("正在获取PHP版本信息，请稍候..."),e.n=1,q({sName:u.name});case 1:c=e.v,s=c.data,u=s.versions[0],o.close(),e.n=3;break;case 2:u=n.versions[0];case 3:if(n.isSystem||(t.updateTime=u.update_time?f(u.update_time,"yyyy/MM/dd"):"无",t.isBeta=!!u.beta,t.updateMsg=u.update_msg||"暂无内容"),t.mVersion=u.m_version,!n.isSystem||!n.isUpdate||n.isPHPInstall){e.n=6;break}return e.n=4,$n(n);case 4:if((d=e.v).length){e.n=5;break}return t.fullVersion="版本错误",e.a(2);case 5:t.version=null===(l=d[0])||void 0===l?void 0:l.version,t.fullVersion="".concat(null===(v=d[0])||void 0===v?void 0:v.m_version,".").concat(d[0].version),e.n=7;break;case 6:t.version=u.version,t.fullVersion="".concat(u.m_version).concat(u.version?"."+u.version:"");case 7:return e.a(2,t)}},e)}));return function(n,t,r){return e.apply(this,arguments)}}(),Vn=function(e,n){var t=[],r=e.versions,a=e.isPHPInstall,u=e.otherPHP;a?(u.map(function(e,n){t.push({title:e.name,key:n,disabled:e.status,data:e})}),n.value=u.findIndex(function(n){return n.name===e.name}),n.version=t):(r.map(function(n,r){var a=H(n.beta)?" Beta":" Stable",u=e.name+" ";e.isSystem?a="":u="",t.push({title:"".concat(u).concat(n.m_version).concat(""===n.version?"":".".concat(n.version)).concat(a),key:r,data:n})}),n.value=0,n.version=t)},An=function(e,n){return{sName:e.name,version:n.mVersion,min_version:n.version}},qn=function(){var e=g(p().m(function e(n){var t,r,a,u,i,o=arguments;return p().w(function(e){for(;;)switch(e.p=e.n){case 0:return t=o.length>1&&void 0!==o[1]?o[1]:1,r=o.length>2?o[2]:void 0,e.n=1,Wn(n);case 1:if(!e.v){e.n=2;break}return e.a(2);case 2:if(0!==t){e.n=5;break}return e.n=3,Hn(n,n.upgrade?"更新":"安装");case 3:if(e.v){e.n=4;break}return e.a(2);case 4:r();case 5:return a=h.load("正在添加安装任务，请稍候..."),e.p=6,e.n=7,Xe(d(d({},n),{},{type:t}));case 7:if(u=e.v,i=u.data,!S("status",i)||!S("msg",i)||i.status){e.n=8;break}return h.msg({dangerouslyUseHTMLString:!0,message:'<div style="line-height:22px;">'.concat(i.msg,"</div>"),type:"error",duration:2e3}),e.a(2);case 8:On.value=!0,et(),setTimeout(function(){h.request(i)},1e3),e.n=10;break;case 9:e.p=9,e.v;case 10:return e.p=10,a.close(),e.f(10);case 11:return e.a(2)}},e,null,[[6,9,10,11]])}));return function(n){return e.apply(this,arguments)}}(),Hn=function(){var e=g(p().m(function e(n,t){return p().w(function(e){for(;;)if(0===e.n)return e.a(2,Cn(n.sName,t))},e)}));return function(n,t){return e.apply(this,arguments)}}(),Fn=function(){var e=g(p().m(function e(n,t){var r,a,u;return p().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,zn({pluginTitle:t.title,pluginName:n.sName,fullVersion:t.fullVersion});case 1:return r=e.v,e.n=2,Xe(d({},n));case 2:if(a=e.v,u=a.data,r.unmount(),!S("status",u)||!S("msg",u)||u.status){e.n=3;break}return h.msg({message:'<div style="line-height:22px;">'.concat(u.msg,"</div>"),type:"error",duration:2e3,showClose:!0,dangerouslyUseHTMLString:!0}),e.a(2,!1);case 3:return e.a(2,u);case 4:e.p=4,e.v;case 5:return e.a(2)}},e,null,[[0,4]])}));return function(n,t){return e.apply(this,arguments)}}(),Mn=function(){var e=g(p().m(function e(n,t,r){var a,u,i,o,c,s=arguments;return p().w(function(e){for(;;)switch(e.n){case 0:return a=s.length>3&&void 0!==s[3]?s[3]:"",u={i:"安装",r:"修复",u:"更新"},e.n=1,Bn({title:"正在".concat(u[r],"插件：").concat(a,",请稍候..."),msg:"正在安装插件，请稍候..."});case 1:return i=e.v,e.n=2,M({plugin_name:n,tmp_path:t,install_opt:r});case 2:o=e.v,h.request(o),c=ve(Tn()),c.inputZipFlag.value=!0,i.unmount(),"/soft/plugin"!==location.pathname?window.location.reload():On.value=!0;case 3:return e.a(2)}},e)}));return function(n,t,r){return e.apply(this,arguments)}}(),Gn=function(){var e=g(p().m(function e(n,t){var r;return p().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Fn(n,t);case 1:if(r=e.v){e.n=2;break}return e.a(2,!1);case 2:r&&Mn(n.sName,r.tmp_path,"i",t.title);case 3:return e.a(2)}},e)}));return function(n,t){return e.apply(this,arguments)}}(),Rn=function(){var e=g(p().m(function e(n,t){var r;return p().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Fn(n,t);case 1:(r=e.v)&&Mn(n.sName,r.tmp_path,"u",t.title);case 2:return e.a(2)}},e)}));return function(n,t){return e.apply(this,arguments)}}(),Un=function(){var e=g(p().m(function e(n,t){var r;return p().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Fn(n,t);case 1:(r=e.v)&&Mn(n.sName,r.tmp_path,"r",t.title);case 2:return e.a(2)}},e)}));return function(n,t){return e.apply(this,arguments)}}(),zn=function(e){return function(e){var n=e.pluginTitle,t=e.pluginName,a=e.fullVersion;return ve(Yn()).downLoadPopup.value=w({area:45,component:function(){return k(function(){return r.import("./download-speed-legacy.js?v=1756369731")},void 0,r.meta.url)},compData:{pluginTitle:n,pluginName:t,fullVersion:a}})}({pluginTitle:e.pluginTitle,pluginName:e.pluginName,fullVersion:e.fullVersion})},Bn=function(e){return function(e){return ve(Yn()).compData.value={speedConfig:e},w({title:e.title||"正在执行安装脚本，请稍候...",area:[50,26.4],component:function(){return k(function(){return r.import("./speed-install-legacy.js?v=1756369731")},void 0,r.meta.url)},compData:e})}(e)},Jn=function(){var e=g(p().m(function e(n,t){return p().w(function(e){for(;;)switch(e.n){case 0:if(!n.isMysqlUpdate){e.n=1;break}return e.n=1,v({title:"更新[MySQL]",isHtml:!0,width:"40rem",content:'<div class="!text-[#666]">更新过程可能会导致服务中断,您真的现在就将[MySQL]更新到['.concat(t,']吗?</div>\n\t\t\t\t<div class="text-danger">更新数据库有风险,建议在更新前,先备份您的数据库</div>\n\t\t\t\t<div class="text-danger">若您的是云服务器,强烈建议您在更新前做一个快照</div>\n\t\t\t\t<div class="text-danger">建议您在服务器负载闲时进行软件更新</div>'),type:"calc"});case 1:return e.a(2)}},e)}));return function(n,t){return e.apply(this,arguments)}}(),$n=function(){var e=g(p().m(function e(n){var t,r,a,u,i;return p().w(function(e){for(;;)if(0===e.n)return r=[],a=null===(t=n.currentVersion)||void 0===t||null===(t=t.match(/(\d+\.\d+)/))||void 0===t?void 0:t.at(1),n.isMysqlUpdate?(i=null===(u=n.currentVersion.match(/(greatsql_\d+\.\d+|mariadb_\d+\.\d+|AliSQL)/))||void 0===u?void 0:u.at(1),r=n.versions.filter(function(e){return e.m_version===i||e.m_version===a})):r=n.versions.filter(function(e){return e.m_version===a}),e.a(2,r)},e)}));return function(n){return e.apply(this,arguments)}}(),Wn=function(){var e=g(p().m(function e(n){var t,r,a,u;return p().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,F();case 1:if(t=e.v,r=t.data,S("task",r)){e.n=2;break}return e.a(2,!1);case 2:if(a=r.task,!(n.sName.indexOf("php-")>-1)){e.n=3;break}if(!a.some(function(e){var t=e.name.match(/-(.*?)\]/)&&e.name.match(/-(.*?)\]/)[1]===n.version,r=e.name.indexOf("php-")>-1;return t&&r})){e.n=3;break}return h.error("正在安装相同版本的php插件，不可重复安装!"),e.a(2,!0);case 3:if(!(u=["nginx","apache","openlitespeed"]).includes(n.sName)){e.n=4;break}if(!a.some(function(e){return e.name.match(/\[(.*?)-/)&&u.includes(e.name.match(/\[(.*?)-/)[1])})){e.n=4;break}return h.error("正在安装同类型软件nginx,apache或openLiteSpeed，不可重复安装!"),e.a(2,!0);case 4:return e.a(2,!1)}},e)}));return function(n){return e.apply(this,arguments)}}(),Yn=e("I",fe("INSTALL-STORE",function(){var e,n=c().installInfo,t=de(),r=de(),a=[[7,"免","border-[#E1E1E1] text-[#9a9a9a]"],[8,"专","border-[#F9EE9E] text-[#FFC82F]"],[12,"企","border-[#E8D6B3] text-[#A3782F]"]],u=Se({title:"",name:"",ps:"",type:0,call:"i",isBeta:!1,isSystem:!1,isInstall:!1,isUpdate:!1,isRepair:!1,isSpecialPlugins:!1,isPHPInstall:!1,isMysqlUpdate:!1,otherPHP:[],compile:!1,currentVersion:"",versions:[],label:[],introduction:[],isDependnet:!1,dependnet:{need:[],selected:[]}}),i=he({fullVersion:"",mVersion:"",version:"",isBeta:!1,status:!1,updateTime:"",updateMsg:""}),o=Se({value:0,version:[]}),s=de(!1),l=de([]),f=de(!0),m=he({progress:0,done:0,total:0,estimated:0,speed:0}),y=["安装完成","Successify","complete"],b=de(null===(e=t.value)||void 0===e||null===(e=e.speedConfig)||void 0===e?void 0:e.msg),w=de(null),k=de({args_name:"",ps:"",args:"",init:"#在编译前执行的shell脚本内容，通常为第三方模块的依赖安装和源码下载等前置准备"}),_=de(),j=de(!1),P=be(function(){return u.title.indexOf("PHP-")>-1?"PHP":u.title}),x=be(function(){return a.find(function(e){return e[0]===u.type})||[]}),L=be(function(){var e;return"soft_ico/ico-"+((null===(e=u.name)||void 0===e?void 0:e.indexOf("php-"))>-1?"php":u.name)+".png"}),C=be(function(){return G(m.done)}),I=be(function(){return G(m.total)}),O=be(function(){return G(m.speed)}),D=de([{label:"模块名称",prop:"name"},{label:"模块描述",prop:"ps"},{label:"是否启用",render:function(e){return oe(le,{modelValue:e.checked,"onUpdate:modelValue":function(n){return e.checked=n},onChange:function(){H()}},null)}},{label:"操作",align:"right",render:function(e){return[oe("div",{class:"flex items-center justify-end"},[oe("span",{class:"bt-link",onClick:function(){return q(e)}},[ce("删除")])])]}}]),E=de([{name:"模块名称",ps:"模块描述"}]),N=me({args_name:[{required:!0,message:"请输入模块名称",trigger:"blur"}],args:[{required:!0,message:"请输入模块参数",trigger:"blur"}]}),V=function(){var e=g(p().m(function e(){var n,t;return p().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.n=1,null===(n=_.value)||void 0===n?void 0:n.validate();case 1:return e.p=1,j.value=!1,e.n=2,z(d({name:u.name},k.value));case 2:t=e.v,h.request(t),A(),e.n=4;break;case 3:e.p=3,e.v;case 4:return e.a(2)}},e,null,[[1,3]])}));return function(){return e.apply(this,arguments)}}(),A=function(){var e=g(p().m(function e(){var n,t;return p().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,B({name:u.name});case 1:n=e.v,E.value=n.data.args,t=n.data.config.split("\n"),E.value.forEach(function(e){t.includes(e.name)?e.checked=!0:e.checked=!1}),e.n=3;break;case 2:e.p=2,e.v;case 3:return e.a(2)}},e,null,[[0,2]])}));return function(){return e.apply(this,arguments)}}(),q=function(){var e=g(p().m(function e(n){var t;return p().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,v({content:"确认删除模块【 ".concat(n.name,"】 吗？"),title:"提示",icon:"warning-filled"});case 1:return e.n=2,R({name:u.name,args_name:n.name});case 2:t=e.v,A(),h.request(t),e.n=4;break;case 3:e.p=3,e.v;case 4:return e.a(2)}},e,null,[[0,3]])}));return function(n){return e.apply(this,arguments)}}(),H=function(){var e=g(p().m(function e(){var n,t,r;return p().w(function(e){for(;;)switch(e.p=e.n){case 0:return n=h.load("正在设置模块，请稍后..."),e.p=1,t=E.value.filter(function(e){return e.checked}).map(function(e){return e.name}).join("\n"),e.n=2,U({name:u.name,args_names:t});case 2:r=e.v,n.close(),h.request(r),A(),e.n=4;break;case 3:e.p=3,e.v;case 4:return e.p=4,n.close(),e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}));return function(){return e.apply(this,arguments)}}(),F=function(){var e=g(p().m(function e(){var n,t,r,a,u,i,o;return p().w(function(e){for(;;)switch(e.p=e.n){case 0:return n=ve(Tn()),t=n.inputZipFlag,r=n.speedInstallView,e.p=1,e.n=2,$({num:10,filename:"/tmp/panelShell.pl"});case 2:if(u=e.v,i=u.msg.trim().split("\n"),o=y.some(function(e){return i[i.length-1].includes(e)}),"Successify"!==i[i.length-1]&&!0!==t.value&&!o){e.n=3;break}return t.value=!1,r.value=!1,ue(),e.a(2,!1);case 3:b.value=u.msg,null!==(a=w.value)&&void 0!==a&&a.scrollHeight&&(w.value.scrollTop=w.value.scrollHeight),setTimeout(function(){F()},1e3),e.n=5;break;case 4:e.p=4,e.v;case 5:return e.a(2)}},e,null,[[1,4]])}));return function(){return e.apply(this,arguments)}}(),M=function(){var e=g(p().m(function e(){var n,t;return p().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,J({plugin_name:u.name});case 1:n=e.v,(t=n.data).status&&(m.done=t.down_size,m.total=t.total_size,m.progress=t.down_pre,m.estimated=t.need_time,m.speed=t.sec_speed),f.value&&setTimeout(function(){f.value&&M()},400),e.n=3;break;case 2:e.p=2,e.v;case 3:return e.a(2)}},e,null,[[0,2]])}));return function(){return e.apply(this,arguments)}}(),W=function(e){o.value=e,Nn(u,i,o.value)},Y=function(){var e=g(p().m(function e(){var n,r;return p().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,s.value=!0,e.n=1,T({plugin_name:t.value.name});case 1:n=e.v,r=n.data,l.value=r,s.value=!1,e.n=3;break;case 2:e.p=2,e.v;case 3:return e.a(2)}},e,null,[[0,2]])}));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=g(p().m(function e(){var t;return p().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,n.value;case 1:null==(t=e.v)||t.unmount();case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=g(p().m(function e(n){var t;return p().w(function(e){for(;;)switch(e.p=e.n){case 0:if(e.p=0,t=An(u,i),0!==n&&Q(),!u.isSystem){e.n=2;break}return e.n=1,qn(t,n,function(){return Q()});case 1:return e.a(2,e.v);case 2:return e.n=3,Gn(t,{title:u.title,fullVersion:i.fullVersion});case 3:if(e.v){e.n=4;break}return e.a(2,!1);case 4:K(),e.n=6;break;case 5:e.p=5,e.v;case 6:return e.a(2)}},e,null,[[0,5]])}));return function(n){return e.apply(this,arguments)}}(),K=function(){t.value.softData&&t.value.softData.callBack&&t.value.softData.callBack()},X=function(){var e=g(p().m(function e(){var n;return p().w(function(e){for(;;)switch(e.n){case 0:try{n=An(u,i),Q(),Un(n,{title:u.title,fullVersion:i.fullVersion})}catch(t){}case 1:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=g(p().m(function e(){var n;return p().w(function(e){for(;;)switch(e.p=e.n){case 0:if(e.p=0,(n=An(u,i)).upgrade=n.version,!u.isSystem&&Q(),!u.isSystem){e.n=3;break}return e.n=1,Jn(u,i.fullVersion);case 1:return e.n=2,qn(n,0,function(){return Q()});case 2:return e.a(2,e.v);case 3:Rn(n,{title:u.title,fullVersion:i.fullVersion}),e.n=5;break;case 4:e.p=4,e.v;case 5:return e.a(2)}},e,null,[[0,4]])}));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=g(p().m(function e(){var n;return p().w(function(e){for(;;)switch(e.n){case 0:if(t.value.name){e.n=1;break}return e.a(2);case 1:return n=S("name",t.value.pluginInfo)?t.value.pluginInfo:t.value.name,e.n=2,En(n,t.value.type,u);case 2:return e.n=3,Vn(u,o);case 3:return e.n=4,Nn(u,i);case 4:t.value.name&&"mysql"===t.value.name&&u.isInstall&&o.version.forEach(function(e,n){/^5\.7\.\d+/.test(e.title.replace("mysql","").trim())&&(o.value=n,W(n))});case 5:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),te=de(),re=function(){var e=g(p().m(function e(){return p().w(function(e){for(;;)switch(e.n){case 0:return f.value=!1,e.n=1,r.value;case 1:e.v.unmount();case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),ae=de(),ue=function(){te.value&&clearTimeout(te.value),ae.value&&clearTimeout(ae.value)};return{customFormRef:_,compData:t,$reset:function(){i.fullVersion="",i.mVersion="",i.version="",i.isBeta=!1,i.status=!1,i.updateTime="",i.updateMsg="暂无日志"},init:ne,pluginModuleInfo:u,pluginActiveInfo:i,versionModel:o,cutPluginActiveInfo:W,install:Z,repair:X,update:ee,clearTimeoutAll:ue,pluginImgSrc:L,pluginTitle:P,pluginLabel:x,pluginPictureSrc:function(e){var n=u.name.includes("php-")?"php":u.name,t=u.introduction[e];return"https://www.bt.cn/Public/new/plugin/".concat(n,"/").concat(t[1])},getHistoryVersion:Y,historyLoad:s,historyData:l,getSoftDownloadSpeed:M,downloadSpeed:m,doneSize:C,totalSize:I,speedSize:O,closeInstall:K,initDownLoad:function(){te.value=setTimeout(function(){M()},100)},downLoadPopup:r,closeDownLoad:re,initSpeed:function(){var e=ve(Tn()).speedInstallView;ae.value=setTimeout(function(){F(),e.value=!0},100)},speedMsg:b,getCustomModuleData:A,config:{mode:"ace/mode/nginx",theme:"ace/theme/chrome",wrap:!0,showInvisibles:!1,showFoldWidgets:!1,useSoftTabs:!0,tabSize:2,showPrintMargin:!1,readOnly:!1,fontSize:"12px"},customForm:k,customVisible:j,clearAddForm:function(){k.value={args_name:"",ps:"",args:"",init:"#在编译前执行的shell脚本内容，通常为第三方模块的依赖安装和源码下载等前置准备"}},rules:N,setCustomModuleData:H,tableColumn:D,handleAddCustomModule:function(){j.value=!0},customData:E,submitCustomModule:V}}));e("B",function(){return ve(Yn())})();var Qn=c(),Zn=Qn.forceLtd,Kn=Qn.aliyunEcsLtd,Xn=Qn.payment,et=e("m",function(){return w({title:"消息盒子",area:[72,56],component:function(){return k(function(){return r.import("./index-legacy154.js?v=1756369731")},void 0,r.meta.url)}})}),nt=(e("A",g(p().m(function e(){return p().w(function(e){for(;;)if(0===e.n)return e.a(2,w({title:"重启服务器或者面板",area:[33,11],component:function(){return k(function(){return r.import("./index-legacy155.js?v=1756369731")},void 0,r.meta.url)}}))},e)}))),e("a",function(){return w({title:"设置菜单显示隐藏",area:[35,40],component:function(){return k(function(){return r.import("./index-legacy156.js?v=1756369731")},void 0,r.meta.url)}})}),e("v",function(){return w({title:!1,area:20,component:function(){return k(function(){return r.import("./index-legacy157.js?v=1756369731")},void 0,r.meta.url)}})}),e("n",function(){return w({area:60,component:function(){return k(function(){return r.import("./index-legacy158.js?v=1756369731")},void 0,r.meta.url)}})}),e("e",function(e){return w({area:52,compData:e,component:function(){return k(function(){return r.import("./index-legacy159.js?v=1756369731")},void 0,r.meta.url)}})})),tt=(e("aK",function(){return w({area:60,component:function(){return k(function(){return r.import("./index-legacy160.js?v=1756369731")},void 0,r.meta.url)},cancel:function(){return g(p().m(function e(){return p().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Z({questions:JSON.stringify({25:"用户未填写任何信息"}),product_type:19,software_name:"Enterprise-Edition-Survey",rate:0});case 1:return e.a(2)}},e)}))()}})}),e("s",function(e){return w({title:"".concat(e.title,"配置"),area:54,compData:e,component:function(){return k(function(){return r.import("./index-legacy161.js?v=1756369731")},void 0,r.meta.url)}})})),rt=(e("f",function(e){return w({area:[75,68.6],compData:e,component:function(){return k(function(){return r.import("./index-legacy162.js?v=1756369731")},void 0,r.meta.url)}})}),e("b",g(p().m(function e(){var n,t,a,u,i,o,c,s,l=arguments;return p().w(function(e){for(;;)switch(e.p=e.n){case 0:if(n=l.length>0&&void 0!==l[0]?l[0]:"绑定宝塔账号，享受更多服务",t=l.length>1&&void 0!==l[1]?l[1]:"",!Zn.value&&!Kn.value){e.n=1;break}return e.a(2,Y().error("当前为企业版，无法切换账号。"));case 1:return a=function(){return k(function(){return r.import("./index-legacy106.js?v=1756369731")},void 0,r.meta.url)},e.p=2,u=de({client:0,login:0}),e.n=3,Q();case 3:if(!(i=e.v).status){e.n=6;break}if(0===(null===(o=i.data)||void 0===o?void 0:o.login)){e.n=6;break}u.value.client=i.data.client,u.value.login=i.data.login,s=null===(c=i.data)||void 0===c?void 0:c.client,e.n=1===s?4:2===s?5:6;break;case 4:return a=function(){return k(function(){return r.import("./tencent-bind-user-legacy.js?v=1756369731")},void 0,r.meta.url)},e.a(3,6);case 5:return a=function(){return k(function(){return r.import("./ali-bind-user-legacy.js?v=1756369731")},void 0,r.meta.url)},e.a(3,6);case 6:return e.a(2,w({area:40,component:a,compData:{authData:u.value,title:n,isDialog:!0,redirect:t}}));case 7:return e.p=7,e.v,e.a(2,w({area:40,component:function(){return k(function(){return r.import("./index-legacy106.js?v=1756369731")},void 0,r.meta.url)}}))}},e,null,[[2,7]])})))),at=(e("j",function(){return w({area:20,component:function(){return k(function(){return r.import("./index-legacy163.js?v=1756369731")},void 0,r.meta.url)}})}),e("t",function(){return w({area:20,component:function(){return k(function(){return r.import("./index-legacy164.js?v=1756369731")},void 0,r.meta.url)}})}),e("p",je(function(e){var n=Kn.value?[82,60]:[100,72],t=(!Kn.value||"ltd"===Xn.value.authType)&&(!W(e.showClose)||e.showClose);return w({area:n,showClose:t,compData:d(d({},e),{},{disablePro:!!H(e.disablePro)||e.disablePro}),component:function(){return k(function(){return r.import("./index-legacy165.js?v=1756369731")},void 0,r.meta.url)}})},1e3))),ut=e("k",function(){var e=g(p().m(function e(n){var t,a;return p().w(function(e){for(;;)if(0===e.n)return t=c(),(a=t.installInfo).value=w({area:63,compData:n,component:function(){return k(function(){return r.import("./index-legacy166.js?v=1756369731")},void 0,r.meta.url)}}),e.a(2,a.value)},e)}));return function(n){return e.apply(this,arguments)}}()),it=(e("q",function(e){var n=e.title,t=e.type,a=e.callback;return w({title:n,area:50,compData:{type:t,callback:a},component:function(){return k(function(){return r.import("./index-legacy167.js?v=1756369731")},void 0,r.meta.url)}})}),e("d",function(){var e=g(p().m(function e(n){var t,r,a,u,i,o,c,s,l,f,v,d,m,h;return p().w(function(e){for(;;)if(0===e.n)return t=n.id,r=void 0===t?999:t,a=n.type,u=n.name,i=n.softName,o=void 0===i?"panel":i,c=n.description,s=n.isNoRate,l=void 0!==s&&s,f=n.title,v=n.isCard,d=void 0===v||v,m=n.isShowPhone,h=void 0===m||m,e.a(2,nt({id:r,type:a,name:u,softName:o,description:c,isNoRate:l,title:f,isCard:d,isShowPhone:h}))},e)}));return function(n){return e.apply(this,arguments)}}()),function(){var e=g(p().m(function e(n){var t,r,a,u,i;return p().w(function(e){for(;;)switch(e.n){case 0:if(r=n.pluginInfo){e.n=2;break}return e.n=1,q({sName:n.name});case 1:a=e.v,u=a.data,n.pluginInfo=u;case 2:if(i={phpmyadmin:function(){return ot()},tomcat:function(){return lt(r)},pureftpd:function(){return ct(r)},memcached:function(){return pt(r)},nginx:function(){return ft(r)},mysql:function(){return st(r)},openlitespeed:function(){return vt(r)},php:function(){return dt(r)},apache:function(){return mt(r)}},!(null!==(t=r.name)&&void 0!==t&&t.includes("php-")||i[r.name])){e.n=4;break}if(!r.name.includes("php-")){e.n=3;break}return e.a(2,i.php());case 3:if(!i[r.name]){e.n=4;break}return e.a(2,i[r.name]());case 4:return e.a(2)}},e)}));return function(n){return e.apply(this,arguments)}}()),ot=function(){return w({isAsync:!0,title:"phpMyAdmin",area:74,component:function(){return k(function(){return r.import("./index-legacy168.js?v=1756369731")},void 0,r.meta.url)}})},ct=function(e){return w({isAsync:!0,title:"Ftp管理",area:[100,56],component:function(){return k(function(){return r.import("./index-legacy169.js?v=1756369731")},void 0,r.meta.url)},compData:e,showClose:!0})},st=function(e){return w({isAsync:!0,title:"Mysql",area:[80,65],component:function(){return k(function(){return r.import("./index-legacy170.js?v=1756369731")},void 0,r.meta.url)},compData:e,showClose:!0})},lt=function(e){return w({isAsync:!0,title:"Tomcat管理",area:[64,54],component:function(){return k(function(){return r.import("./index-legacy171.js?v=1756369731")},void 0,r.meta.url)},compData:e,showClose:!0})},pt=function(e){return w({isAsync:!0,title:"Memcached管理",area:[64,54],component:function(){return k(function(){return r.import("./index-legacy172.js?v=1756369731")},void 0,r.meta.url)},compData:e,showClose:!0})},ft=function(e){return w({isAsync:!0,title:"Nginx",area:[68,58],component:function(){return k(function(){return r.import("./index-legacy173.js?v=1756369731")},void 0,r.meta.url)},compData:e,showClose:!0})},vt=function(e){return w({isAsync:!0,title:"OpenLiteSpeed",area:[64,54],component:function(){return k(function(){return r.import("./index-legacy174.js?v=1756369731")},void 0,r.meta.url)},compData:e,showClose:!0})},dt=function(e){return w({isAsync:!0,title:"PHP-".concat(e.version,"管理"),area:[80,64],component:function(){return k(function(){return r.import("./index-legacy175.js?v=1756369731")},void 0,r.meta.url)},compData:e,showClose:!0})},mt=function(e){return w({isAsync:!0,title:"Apache",area:[68,58],component:function(){return k(function(){return r.import("./index-legacy176.js?v=1756369731")},void 0,r.meta.url)},compData:e,showClose:!0})},ht=(e("c",function(){var e=g(p().m(function e(n){var t,a,u,i;return p().w(function(e){for(;;)switch(e.n){case 0:return t=n.name,a=n.options,u=n.request,i=n.selectList,e.n=1,w({title:"批量设置".concat(t),area:"40",compData:{name:t,options:a,selectList:i,request:u},showFooter:!0,component:function(){return k(function(){return r.import("./index-legacy177.js?v=1756369731")},void 0,r.meta.url)}});case 1:return e.a(2)}},e)}));return function(n){return e.apply(this,arguments)}}()),e("r",function(){var e=g(p().m(function e(n){var t,a,u,i,o,c,s,l,f=arguments;return p().w(function(e){for(;;)switch(e.n){case 0:return t=f.length>1&&void 0!==f[1]?f[1]:"editor",a=f.length>2&&void 0!==f[2]?f[2]:"",e.n=1,k(function(){return r.import("./store-legacy.js?v=1756369731").then(function(e){return e.aV})},void 0,r.meta.url);case 1:return u=e.v,e.n=2,k(function(){return r.import("./store-legacy.js?v=1756369731").then(function(e){return e.aU})},void 0,r.meta.url);case 2:if(i=e.v,o=i.useCreateEditorTabs,c=i.editorExample,s=u.FilesAceEditor,l={path:n,title:n.split("/").pop(),type:t,mode:a},!c.value){e.n=3;break}return o(l),e.a(2);case 3:s(l);case 4:return e.a(2)}},e)}));return function(n){return e.apply(this,arguments)}}()),e("o",function(e,n){if(!e.length)return Y().error("操作失败，请重试");w({title:"批量".concat(n.title||"操作","结果"),area:42,component:function(){return k(function(){return r.import("./index-legacy118.js?v=1756369731")},void 0,r.meta.url)},compData:{resultData:e,resultTitle:n.title||"操作"}})}),e("u",g(p().m(function e(){var n,t,a;return p().w(function(e){for(;;)switch(e.p=e.n){case 0:if(!sessionStorage.getItem("diskWarn")){e.n=1;break}return e.a(2,!1);case 1:if(n=localStorage.getItem("checkWarnInfo"),!n){e.n=6;break}if(e.p=2,t=JSON.parse(n),a=t.byte_size,!(Number(a[0])-Number(a[1])<=524288e3)){e.n=4;break}return e.n=3,w({title:!1,showClose:!1,area:[40,36],component:function(){return k(function(){return r.import("./index-legacy178.js?v=1756369731")},void 0,r.meta.url)}});case 3:return e.a(2,!0);case 4:return sessionStorage.removeItem("diskWarn"),e.a(2,!1);case 5:return e.p=5,e.v,e.a(2,!1);case 6:return e.a(2,!1)}},e,null,[[2,5]])})))),gt=e("aH",Pe({__name:"index",props:xe({version:{},allAlarm:{type:Boolean,default:!1},multiple:{type:Boolean,default:function(){return!0}},limit:{default:function(){return[]}},options:{},isDefault:{type:Boolean,default:!1},isShowApi:{type:Boolean,default:!0}},{modelValue:{},modelModifiers:{}}),emits:xe(["change"],["update:modelValue"]),setup:function(e,n){var t=n.expose,r=n.emit,a=c(),s=a.getOldSenderAlarmListInfo,l=a.push,f=e,v=Y(),m=v.load,h=(v.error,de(!1)),y=Te(e,"modelValue"),b=["dingding","feishu","mail","weixin","wx_account","sms"],w=r,k=me([]),_=function(e){w("change",e)},S=function(){var e=g(p().m(function e(){var n,t,r,a,c,v;return p().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,h.value=!0,e.n=1,s();case 1:n=[],t=p().m(function e(){var t,a;return p().w(function(e){for(;;)switch(e.n){case 0:Object.prototype.hasOwnProperty.call(l.value.old,r)&&(t=l.value.old[r]).setup&&!f.limit.includes(t.name)&&(a=!("{}"===JSON.stringify(t.data)),t.isSetAlarm=a,n.push({label:t.title,value:t.name,disabled:!t.setup||!a,isSetAlarm:!a,render:function(){var e=!t.setup||!a;return oe("div",{class:"flex justify-between"},[oe("span",null,[t.title]),oe("span",{class:"".concat(e?"text-danger":"hover:text-primary"," cursor-pointer mr-[4px]")},[oe("span",{onClick:function(e){e.stopPropagation(),j(t)}},[e?"[未配置]":"[已配置]"])])])}}));case 1:return e.a(2)}},e)}),c=i(l.value.old);case 2:if((v=c()).done){e.n=4;break}return r=v.value,e.d(u(t()),3);case 3:e.n=2;break;case 4:k.value=n,f.options&&(k.value=[].concat(o(f.options),n)),f.isShowApi||(k.value=k.value.filter(function(e){return b.includes(e.value)})),f.allAlarm&&k.value.unshift({label:"全部",value:"all",disabled:!1,isSetAlarm:!1,render:function(){return oe("div",{class:"flex justify-between"},[ce("全部"),oe("span",null,null)])}}),Array.isArray(y.value)&&y.value.length?y.value.forEach(function(e){k.value.find(function(n){return n.value===e})||(y.value=y.value.filter(function(n){return n!==e}))}):x(y.value)&&y.value&&(k.value.find(function(e){return e.value===y.value})||(y.value="")),f.isDefault&&!y.value&&(a=n.filter(function(e){return!e.disabled})).length&&(y.value=f.multiple?[a[0].value]:a[0].value),e.n=6;break;case 5:e.p=5,e.v;case 6:return e.p=6,h.value=!1,e.f(6);case 7:return e.a(2)}},e,null,[[0,5,6,7]])}));return function(){return e.apply(this,arguments)}}(),j=function(){var e=g(p().m(function e(n){var t;return p().w(function(e){for(;;)switch(e.n){case 0:if(t=[{title:"钉钉机器人",type:"dingding"},{title:"飞书机器人",type:"feishu"},{title:"邮箱",type:"mail"},{title:"企业微信机器人",type:"weixin"},{title:"微信公众号",type:"wx_account"}].find(function(e){return e.type===n.name})||{title:"",type:"",data:{}},"wx_account"!==n.name||n.setup){e.n=1;break}return e.n=1,P(n.name);case 1:tt(d(d({},t),{},{callback:S}));case 2:return e.a(2)}},e)}));return function(n){return e.apply(this,arguments)}}(),P=function(){var e=g(p().m(function e(n){var t;return p().w(function(e){for(;;)switch(e.p=e.n){case 0:return t=m("正在安装模块，请稍后..."),e.p=1,e.n=2,K({name:n});case 2:e.n=4;break;case 3:e.p=3,e.v;case 4:return e.p=4,t.close(),e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}));return function(n){return e.apply(this,arguments)}}();return Le(S),t({refresh:S}),function(e,n){var t=X,r=Ce("bt-loading");return Ie((De(),Ee(t,{modelValue:y.value,"onUpdate:modelValue":n[0]||(n[0]=function(e){return y.value=e}),multiple:e.multiple,options:Oe(k),placeholder:"请选择告警方式",onChange:_},null,8,["modelValue","multiple","options"])),[[r,Oe(h)]])}}})),yt=e("_",Pe({__name:"index",props:xe({multiple:{type:Boolean,default:function(){return!0}},limit:{default:function(){return[]}}},{modelValue:{},modelModifiers:{}}),emits:xe(["change"],["update:modelValue"]),setup:function(e,n){var r=n.expose,a=n.emit,u=c(),i=u.getSenderAlarmListInfo,o=u.push,s=e,l=de(!1),f=Te(e,"modelValue"),v=a,m=me([]),h=function(e){v("change",e)},y=[{title:"钉钉",type:"dingding"},{title:"飞书",type:"feishu"},{title:"邮箱",type:"mail"},{title:"企业微信",type:"weixin"},{title:"微信公众号",type:"wx_account"},{title:"短信通知",type:"sms"},{title:"自定义消息通道",type:"webhook"}],b=function(){var e=g(p().m(function e(){var n,t,r;return p().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,n=[].concat(y),l.value=!0,e.n=1,i(!1);case 1:m.value=[],t=o.value.config.filter(function(e){return e.used&&!s.limit.includes(e.sender_type)}),r=n.filter(function(e){return!t.some(function(n){return n.sender_type===e.type})&&!s.limit.includes(e.type)}),t.forEach(function(e){var n,t=y.find(function(n){return n.type===e.sender_type}),r=null!==(n=e.data)&&void 0!==n&&n.title?e.data.title+(e.data.title?" (".concat((null==t?void 0:t.title)||"",")"):""):t.title;if("sms"===e.sender_type){if(!e.data.total)return!1;r="短信通知 (".concat(e.data.count,"条)")}m.value.push({label:r||t.title,value:e.id,disabled:!1,render:function(){return oe("div",{class:"flex justify-between"},[oe("span",{class:"mr-[10px]"},[r]),oe("span",{class:"hover:text-primary cursor-pointer mr-[4px]"},[oe("span",{onClick:function(n){n.stopPropagation(),w(d(d({},t),{},{data:e,name:e.sender_type,setup:!0,isSetAlarm:!0}))}},["sms"!==e.sender_type?"[已配置]":""])])])}})}),r.forEach(function(e){m.value.push({label:e.title,value:"",disabled:!0,render:function(){return oe("div",{class:"flex justify-between"},[oe("span",null,[e.title]),oe("span",{class:"text-danger cursor-pointer mr-[4px]",onClick:function(n){n.stopPropagation(),w(d(d({},e),{},{setup:!1,name:e.type,data:{},isSetAlarm:!1}))}},["sms"!==e.type?"[未配置]":""])])}})}),e.n=3;break;case 2:e.p=2,e.v;case 3:return e.p=3,l.value=!1,e.f(3);case 4:return e.a(2)}},e,null,[[0,2,3,4]])}));return function(){return e.apply(this,arguments)}}(),w=function(){var e=g(p().m(function e(n){var t;return p().w(function(e){for(;;)switch(e.n){case 0:t=[{title:"钉钉机器人",type:"dingding"},{title:"飞书机器人",type:"feishu"},{title:"邮箱",type:"mail"},{title:"企业微信机器人",type:"weixin"},{title:"微信公众号",type:"wx_account"},{title:"自定义消息通道",type:"webhook"},{title:"短信通知",type:"sms"}].find(function(e){return e.type===n.name})||{title:"",type:"",data:{}},tt(d(d({},t),{},{data:n}));case 1:return e.a(2)}},e)}));return function(n){return e.apply(this,arguments)}}();r({refresh:b}),Le(b);var k=be(function(){var e;return null!==(e=s.limit)&&void 0!==e&&e.length?m.value.filter(function(e){var n,t=null===(n=y.find(function(n){var t;return(null===(t=e.label)||void 0===t?void 0:t.includes(n.title))||"function"==typeof e.render&&e.render().toString().includes(n.title)}))||void 0===n?void 0:n.type;return!s.limit.includes(t)}):m.value});return Ne([function(){return s.limit},function(){return m.value}],function(e){var n=t(e,2),r=n[0],a=n[1];if(null!=r&&r.length&&f.value&&null!=a&&a.length)if(Array.isArray(f.value)){var u=k.value.map(function(e){return e.value});u.length>0&&(f.value=f.value.filter(function(e){return u.includes(e)}))}else k.value.some(function(e){return e.value===f.value})||(f.value=void 0)},{deep:!0,immediate:!0}),Ne(function(){return m.value},function(e){null!=e&&e.length&&f.value&&Ve(function(){var e=k.value.map(function(e){return e.value});Array.isArray(f.value)?f.value=f.value.filter(function(n){return e.includes(n)}):e.includes(f.value)||(f.value=void 0)})},{immediate:!0}),function(e,n){var t=X,r=Ce("bt-loading");return Ie((De(),Ee(t,{modelValue:f.value,"onUpdate:modelValue":n[0]||(n[0]=function(e){return f.value=e}),multiple:e.multiple,options:Oe(k),onChange:h,placeholder:"请选择告警方式"},null,8,["modelValue","multiple","options"])),[[r,Oe(l)]])}}})),bt=c(),wt=bt.payment,kt=bt.pluginInfo,_t=bt.forceLtd,St=bt.aliyunEcsLtd,jt=bt.resetAuthState,Pt=Y(),xt=function(){var e=g(p().m(function e(t,r){var a,u,i,o;return p().w(function(e){for(;;)switch(e.p=e.n){case 0:if(0!==t.length){e.n=1;break}return e.a(2,r&&r(!0));case 1:return a=n(t),u=a[0],i=a.slice(1),e.p=2,e.n=3,u();case 3:o=e.v,r&&r(o),e.n=5;break;case 4:e.p=4,e.v;case 5:return e.a(2,xt(i,r))}},e,null,[[2,4]])}));return function(n,t){return e.apply(this,arguments)}}(),Tt=e("g",function(){var e=g(p().m(function e(n){var t,r,a,u,i,o,c;return p().w(function(e){for(;;)switch(e.n){case 0:return t=n.promises,r=n.callback,a=n.delay,u=n.isRouter,i=n.check,o=window.location.pathname,c=function(){return new Promise(function(e){setTimeout(function(){u||(u=window.location.pathname),u&&!i?e(ne(u,o)):i&&i()?e(!0):e(!1)},a||0)})},e.n=1,c();case 1:if(e.v){e.n=2;break}return e.a(2,r&&r(!0));case 2:return e.a(2,xt(t,r))}},e)}));return function(n){return e.apply(this,arguments)}}()),Lt=function(){var e=g(p().m(function e(n){var t,r,a,u,i;return p().w(function(e){for(;;)switch(e.p=e.n){case 0:if(e.p=0,t=n.pluginName,r=n.pluginInfo,!H(t)||!H(r)){e.n=1;break}return Pt.error("缺少参数: options.name 或 options.pluginInfo"),e.a(2,Promise.reject(new Error("缺少参数: options.name 或 options.pluginInfo")));case 1:if(!te(r)){e.n=2;break}return e.a(2,r);case 2:return x(r)&&(t=r),e.n=3,q({sName:t});case 3:return a=e.v,u=a.data,r=u,e.a(2,r);case 4:return e.p=4,i=e.v,e.a(2,Promise.reject(i))}},e,null,[[0,4]])}));return function(n){return e.apply(this,arguments)}}(),Ct=function(){var e=g(p().m(function e(n){var t,r,a;return p().w(function(e){for(;;)switch(e.n){case 0:if(!("ltd"===wt.value.authType&&wt.value.authExpirationTime>0)){e.n=1;break}return e.a(2,{isPay:!0,type:"ltd",pluginInfo:te(n.pluginInfo)?n.pluginInfo:n.pluginName});case 1:return e.n=2,Lt(n);case 2:if(t=e.v,r=t.endtime,a=t.type,!("pro"===wt.value.authType&&wt.value.authExpirationTime>0&&8===a)){e.n=3;break}return e.a(2,{isPay:!0,type:"pro",pluginInfo:t});case 3:if(!(r>=0)){e.n=4;break}return e.a(2,{isPay:!0,type:"plugin",pluginInfo:t});case 4:return e.a(2,{isPay:!1,type:"free",pluginInfo:t})}},e)}));return function(n){return e.apply(this,arguments)}}(),It=function(){var e=g(p().m(function e(n){return p().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,ut(d(d({},n),{},{name:n.name||n.pluginInfo.name,type:"i"}));case 1:return e.a(2)}},e)}));return function(n){return e.apply(this,arguments)}}(),Ot=e("l",function(){var e=g(p().m(function e(n){var t,r,a,u;return p().w(function(e){for(;;)switch(e.n){case 0:return(n.name||n.softData)&&(n.pluginName=(null==n?void 0:n.name)||"",n.pluginInfo=(null==n?void 0:n.softData)||n.pluginInfo),e.n=1,Lt(n);case 1:return t=e.v,e.n=2,Ct({pluginInfo:t});case 2:if(r=e.v,r.isPay||![8,12].includes(t.type)){e.n=3;break}return e.a(2,at(d({disablePro:8!==t.type,compulsionLtd:8!==t.type,sourceId:n.source},null!=n&&n.plugin?{pluginInfo:t}:{})));case 3:if(t.setup){e.n=4;break}return e.a(2,It({pluginInfo:t}));case 4:if(a=["mysql","pureftpd","nginx","apache","tomcat","memcached","openlitespeed","phpmyadmin"].includes(t.name),u=-1!==t.name.indexOf("php-"),!a&&!u){e.n=5;break}return e.a(2,it({pluginInfo:t}));case 5:return e.n=6,Dt(t.name);case 6:if(e.v){e.n=7;break}return e.a(2,!1);case 7:sessionStorage.setItem("pluginViewInfo",JSON.stringify(d(d({},t),{},{built:n.pluginInfo?"1":"0"}))),kt.value.visible=!0,kt.value.id=t.name,kt.value.name=t.title,kt.value.callback=(null==n?void 0:n.callback)||null;case 8:return e.a(2)}},e)}));return function(n){return e.apply(this,arguments)}}()),Dt=function(){var e=g(p().m(function e(n){var t,r;return p().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,ee(n);case 1:if(t=e.v,!(r=t.data).msg||-1===r.msg.indexOf("您无操作此插件的权限")){e.n=2;break}return Pt.request(r),e.a(2,Promise.resolve(!1));case 2:return e.a(2,Promise.resolve(!0));case 3:e.p=3,e.v;case 4:return e.a(2)}},e,null,[[0,3]])}));return function(n){return e.apply(this,arguments)}}(),Et=(e("aJ",g(p().m(function e(){var n;return p().w(function(e){for(;;)switch(e.p=e.n){case 0:if(e.p=0,!_t.value&&!St.value){e.n=1;break}return e.a(2,Y().error("当前为企业版，无法解绑账号。"));case 1:return e.n=2,v({icon:"warning-filled",title:"解绑宝塔账号",width:"35rem",content:"解绑宝塔账号后，将无法正常使用面板功能，是否继续操作？"});case 2:return e.n=3,ue();case 3:n=e.v,jt(),Pt.request(n),n.status&&setTimeout(function(){return L.push({name:"bind-user"})},2e3),e.n=5;break;case 4:e.p=4,e.v;case 5:return e.a(2)}},e,null,[[0,4]])}))),e("aL",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{readonly:!1,theme:"chrome"};return{mode:"ace/mode/nginx",theme:"ace/theme/".concat(e.theme||"chrome"),wrap:!0,showInvisibles:!1,showFoldWidgets:!1,useSoftTabs:!0,tabSize:2,showPrintMargin:!1,readOnly:e.readonly,fontSize:"12px"}}),e("aG",function(e,n,t,r){return{type:"custom",key:n,rules:(null==t?void 0:t.rules)||{},render:function(a){var u=re({key:n},a);return oe(ae,{label:e,prop:u},{default:function(){return[oe(gt,Ae({modelValue:a.value[u],"onUpdate:modelValue":function(e){return a.value[u]=e}},(null==t?void 0:t.attrs)||{},{onChange:r}),null)]}})}}}),e("aI",function(e,n,t,r){return{type:"custom",key:n,rules:(null==t?void 0:t.rules)||{},render:function(a){var u,i=re({key:n},a);return oe(ae,{label:e,prop:i,"label-width":null==t||null===(u=t.attrs)||void 0===u?void 0:u.labelWidth},{default:function(){return[oe(yt,Ae({modelValue:a.value[i],"onUpdate:modelValue":function(e){return a.value[i]=e}},(null==t?void 0:t.attrs)||{},{onChange:r}),null)]}})}}}),e("h",function(e,n,t,r){try{var a={all:Number(t)||0,exclude_ids:[]};if(n&&te(n[0])?a.exclude_ids=n.map(function(e){return e.id}):a.exclude_ids=n,a.exclude_ids=JSON.stringify(a.exclude_ids),r&&r.params&&(a=d(d({},a),r.params)),t)return a;var u=L.currentRoute.value.meta.icon;return e&&I(e)&&(null==e||e.forEach(function(e){var n="".concat(u,"_list");a[n]||(a[n]=[]),a[n].push(m({id:e.id},(null==r?void 0:r.key)||"name",e[(null==r?void 0:r.key)||"name"]))}),a["".concat(u,"_list")]=JSON.stringify(a["".concat(u,"_list")])),a}catch(i){}}),e("i",function(e){try{var n,t,r,a,u,i,o={data:[],msg:(null==e?void 0:e.msg)||"操作成功！"};if(S("data",e)&&e.data||S("success",e)||S("error",e))S("data",e)&&e.data||(e.data={error:e.error||[],success:e.success||[]}),o.msg=e.msg||"操作完成！",te(null===(n=e.data)||void 0===n?void 0:n.error)&&(e.data.error=Object.entries(e.data.error).map(function(e){return{name:e[0],msg:e[1],status:!1}})),x(null===(t=e.data)||void 0===t?void 0:t.success[0])&&(e.data.success=e.data.success.map(function(e){return{name:e,msg:"操作成功！",status:!0}})),(null===(r=e.data)||void 0===r?void 0:r.error.length)>0&&(e.data.error=e.data.error.map(function(e){return S("status",e)||(e.status=!1),e})),(null===(a=e.data)||void 0===a?void 0:a.success.length)>0&&(e.data.success=e.data.success.map(function(e){return S("status",e)||(e.status=!0),e})),o.data=null===(u=e.data)||void 0===u?void 0:u.error.concat(null===(i=e.data)||void 0===i?void 0:i.success);else I(e)?o.data=e:Pt.request(e);return o}catch(c){}}),function(e,n){var t=e.endtime,r=e.type;return t>=0||"ltd"===n||("pro"===n&&12!==r||"free"===n&&12!==r&&8!==r)}),Nt=function(e){var n;if("phpmyadmin"===e.name)return!1;if(!e.versions)return!1;if((null===(n=e.versions)||void 0===n?void 0:n.length)>1){if(e.admin&&!["Redis"].includes(e.title)){var t=e.versions[0],r="".concat(t.m_version,".").concat(t.version),a=e.version!==r;if(e.is_beta){var u=e.versions[e.versions.length-1];if(1===u.beta){var i="".concat(u.m_version,".").concat(u.version);a=e.version!==i&&e.version<i}}if(a&&"mongodb"!==e.name)return!0}else for(var o=0;o<e.versions.length;o++){var c=e.versions[o];if(2===ie(e.version,"".concat(c.m_version,".").concat(c.version)))return!0}}else{var s=e.versions[0],l=!!s.beta;void 0===l&&(l=!1),void 0===e.is_beta&&(e.is_beta=!1);var p="".concat(s.m_version,".").concat(s.version);if(e.version!==p&&l===e.is_beta&&e.version<p)return!0}return!1},Vt=function(e){var n=!1;switch(e){case"-1":n="正在安装";break;case"0":n="等待安装";break;case"-2":n="正在更新"}return n}}}})}();
