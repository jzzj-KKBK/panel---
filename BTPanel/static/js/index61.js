import{u as e,aM as a,a6 as t,a7 as s,cv as l,L as i,l as o,eM as r,K as n,eN as d,a8 as c,e as p}from"./utils-lib.js?v=1756369731";import{_ as u}from"./index103.js?v=1756369731";import{u as m}from"./useStore9.js?v=1756369731";import{u as _}from"./index141.js?v=1756369731";import{s as v,j as f,r as y,c as b,e as g,B as h,p as k,n as x,q as j,v as E,x as C,A as B,J as D}from"./base-lib.js?v=1756369731";import"./validator.js?v=1756369731";import"./index.vue_vue_type_style_index_0_scoped_b3c4124c_lang.js?v=1756369731";import{a as O,u as H}from"./column.js?v=1756369731";import{g as R,a as T,b as L,c as N,d as A,e as I,r as P,s as S,f as w}from"./useController9.js?v=1756369731";const M=f("NODE-ADD-STORE",()=>{const a=e();v(a);const t=y(),s=y({address:"",api_key:"",category_id:"0",remarks:""});return{isEdit:y(!1),addNodeRef:t,nodeForm:s}}),V=()=>v(M()),q={class:"module-ui"},F=p(b({__name:"index",setup(p){const{mainHeight:v}=e(),{rowData:f,isRefreshNodeList:y,searchWidth:b,nodeStatus:M,nodeCategory:F,forcedFlushes:W,setNodeInfo:z}=m(),{isEdit:J}=V(),K=e=>"local"===e.api_key&&"local"===e.app_key,G=()=>W.value=1,Q=e=>(f.value=e,J.value=!!e,o({title:"".concat(e?"编辑节点【".concat(e.address,"】"):"添加节点"),area:50,btn:"".concat(e?"保存":"确认"),compData:e||{},component:()=>i(()=>import("./index339.js?v=1756369731"),__vite__mapDeps([]),import.meta.url)})),U=_({key:"category_id",name:"节点分类",field:"name",options:()=>[{label:"全部分类",value:"all"}],event:{get:N,add:r,delete:e=>n({request:d(e),success:()=>{M.value=[],y.value=!0}})},ignore:["0"],showEdit:!1}),{BtOperation:X}=a({options:[{type:"button",label:"添加节点",active:!0,onClick:()=>Q()}]}),Y=c([{label:"设置分类",value:"setClass",event:async(e,a,t,s,l,i)=>{S(t,l,oe,i)}},{label:"重启面板",value:"panel",event:w},{label:"重启服务器",value:"server",event:w},{label:"删除节点",value:"delete",event:w}]),{BtTable:Z,BtPage:$,BtSearch:ee,BtRefresh:ae,BtColumn:te,BtBatch:se,BtTableCategory:le,BtErrorMask:ie,classList:oe,config:re}=t({request:e=>("all"===e.category_id&&(e.category_id=""),1===W.value&&(e.refresh=1),R(e)),columns:[O({type:"page",key:"id"}),{label:"节点名称",width:"auto",prop:"remarks",isCustom:!0},{label:"地址",prop:"address",minWidth:120},T(),L(),{label:"分类",isCustom:!0,prop:"category_id",render:e=>{var a;return(null==(a=F.value.find(a=>Number(a.value)===Number(e.category_id)))?void 0:a.label)||"默认分类"}},H([{onClick:A,title:"访问",isHide:e=>"local"===e.api_key&&"local"===e.app_key||(""!==e.lpver||void 0)},{onClick:e=>(z.value=e,o({title:"".concat(e?"管理节点【".concat(e.address,"】"):"节点管理"),area:90,component:()=>i(()=>import("./index340.js?v=1756369731"),__vite__mapDeps([]),import.meta.url)})),title:"管理",isHide:K},{onClick:I,title:"删除",isHide:K},{isMore:!0,menu:[{key:"edit",title:"编辑",isHide:K},{key:"panel",title:"重启面板",isHide:K},{key:"server",title:"重启服务器",isHide:K}],isHide:K,onClick:(e,a)=>{if("edit"===e)Q(a);else P(a,e)}}])],extension:[U,Y,s(y),l()],empty:()=>g("span",null,[h("您的列表为空，您可以"),g("span",{class:"bt-link",onClick:()=>Q()},[h("创建一个节点")])])});return k(()=>{x(()=>{i(()=>import("./index340.js?v=1756369731"),__vite__mapDeps([]),import.meta.url),i(()=>import("./index341.js?v=1756369731"),__vite__mapDeps([]),import.meta.url)})}),(e,a)=>{const t=u;return j(),E("div",q,[g(C(ie)),g(t,null,{"header-left":B(()=>[g(C(X))]),"header-right":B(()=>[g(C(le),{class:"!w-[140px] mr-[10px]"}),g(C(ee),{class:D(["mr-[10px]","!w-[".concat(C(b),"px]")]),placeholder:"请输入节点名称"},null,8,["class"]),g(C(ae),{class:"mr-[10px]",onclick:G}),g(C(te))]),content:B(()=>[g(C(Z),{"min-height":C(v)},null,8,["min-height"])]),"footer-left":B(()=>[g(C(se))]),"footer-right":B(()=>[g(C($))]),_:1})])}}}),[["__scopeId","data-v-cd47157f"]]),W=Object.freeze(Object.defineProperty({__proto__:null,default:F},Symbol.toStringTag,{value:"Module"}));export{W as i,V as u};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
