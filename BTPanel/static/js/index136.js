import{c as s,k as a,r as e,p as r,q as o,v as t,e as d,A as i,x as l,Q as n,a9 as p,a7 as m}from"./base-lib.js?v=1756369731";import{_ as u}from"./index101.js?v=1756369731";import{setPgSqlPassword as c,getPgSqlPassword as g}from"./database.js?v=1756369731";import{w,K as f}from"./utils-lib.js?v=1756369731";import"./__commonjsHelpers__.js?v=1756369731";const _={class:"px-[20px] py-[20px]"},b=s({__name:"index",setup(s,{expose:b}){const x={password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码长度至少为6位",trigger:["blur","change"]}]},j=a({password:""}),v=e();return r(async()=>{const s=await f({loading:"正在获取密码，请稍后...",request:g(),data:{msg:String}});j.password=s.msg||""}),b({onConfirm:async s=>{await v.value.validate(),await f({loading:"正在设置密码...",request:c({data:JSON.stringify({password:j.password})}),message:!0,success:a=>{a.status&&s()}})}}),(s,a)=>{const e=u,r=p,c=m;return o(),t("div",_,[d(c,{model:l(j),ref_key:"adminPwdRef",ref:v,rules:x,onSubmit:a[2]||(a[2]=n(()=>{},["prevent"]))},{default:i(()=>[d(r,{label:"管理员密码",prop:"password"},{default:i(()=>[d(e,{icon:"el-refresh",modelValue:l(j).password,"onUpdate:modelValue":a[0]||(a[0]=s=>l(j).password=s),onIconClick:a[1]||(a[1]=()=>l(j).password=l(w)(16))},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])])}}});export{b as default};
