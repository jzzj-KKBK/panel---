import{M as e,T as l,K as a,E as t,j as s,c as n,h as o,e as u,t as r,A as i,l as c,L as d,U as p,V as m,d as v,W as f,k as y}from"./utils-lib.js?v=1756369731";import{c as x,r as _,w,q as b,v as h,e as V,A as S,x as E,B as g,y as k,Q as P,P as C,D as T,a9 as I,a7 as K,T as U,k as A,G as j,H as R,z as D,F as N,C as L,a_ as M,M as q,al as z,aW as F,aj as Y,ag as B,af as G,aQ as Q,ai as O}from"./base-lib.js?v=1756369731";import{g as H}from"./useStore.js?v=1756369731";import{Q as W,R as X,S as J,T as Z,U as $,V as ee}from"./config.js?v=1756369731";import{C as le}from"./index111.js?v=1756369731";import{_ as ae}from"./index103.js?v=1756369731";import{_ as te}from"./index102.js?v=1756369731";const se={class:"p-[2rem]"},ne={class:"text-[1.2rem] flex items-center"},oe=u(x({__name:"index",setup(u){const{refs:{safeConfig:r,openPortPopup:i}}=H(),c=_(8888),d=_(!1),p=_(!1),m=()=>{p.value=!0,c.value=r.value.port},v=async()=>{await a({loading:"正在设置面板端口，请稍候...",request:W({port:c.value}),message:!0}),t("".concat(location.protocol,"//").concat(location.hostname,":").concat(c.value).concat(location.pathname),2e3)};return w(()=>i,e=>{e&&(m(),i.value=!1)},{deep:!0}),(a,t)=>{const u=s,i=T,f=I,y=K,x=n,_=U,w=o;return b(),h("div",null,[V(E(le),{label:"面板端口"},{value:S(()=>[V(u,{modelValue:E(r).port,"onUpdate:modelValue":t[0]||(t[0]=e=>E(r).port=e),disabled:"",class:"!w-[26rem]"},null,8,["modelValue"]),V(i,{type:"primary",class:"!ml-12px",onClick:m},{default:S(()=>[...t[6]||(t[6]=[g("设置",-1)])]),_:1})]),desc:S(()=>[...t[7]||(t[7]=[k("span",null,[k("span",null,"建议端口范围8888 - 65535，"),k("span",{class:"text-danger"},"注意：有安全组的服务器请提前在安全组放行新端口")],-1)])]),_:1}),V(w,{title:"设置面板端口",modelValue:E(p),"onUpdate:modelValue":t[4]||(t[4]=e=>C(p)?p.value=e:null),area:40,"show-footer":!0,onConfirm:t[5]||(t[5]=a=>(()=>{if(!d.value)return e.error("请勾选同意协议"),!1;const a=Number(c.value);if(!l(a))return e.error("端口格式错误，请重新输入");p.value=!1,v()})())},{default:S(()=>[k("div",se,[t[10]||(t[10]=k("ul",{class:"help-list"},[k("li",null,"建议端口范围8888 - 65535，"),k("li",null,"注意：有安全组的服务器请提前在安全组放行新端口"),k("li",null,"如果修改端口导致面板无法访问，请在SSH命令行通过bt命令改回原来的端口")],-1)),V(y,{id:"panelPostFrom",class:"mt-[24px] flex justify-center","label-position":"left",onSubmit:t[2]||(t[2]=P(()=>{},["prevent"]))},{default:S(()=>[V(f,{label:"面板端口"},{default:S(()=>[V(u,{modelValue:E(c),"onUpdate:modelValue":t[1]||(t[1]=e=>C(c)?c.value=e:null),class:"w-[21rem] edit-input"},null,8,["modelValue"])]),_:1})]),_:1}),V(_,{modelValue:E(d),"onUpdate:modelValue":t[3]||(t[3]=e=>C(d)?d.value=e:null),class:"pl-16px"},{default:S(()=>[k("div",ne,[t[9]||(t[9]=g("我已了解,",-1)),V(x,{href:"https://www.bt.cn/bbs/thread-40037-1-1.html"},{default:S(()=>[...t[8]||(t[8]=[g("如何放行端口？",-1)])]),_:1})])]),_:1},8,["modelValue"])])]),_:1},8,["modelValue"])])}}}),[["__scopeId","data-v-e584a975"]]),ue={class:"p-[2.8rem]"},re=u(x({__name:"index",setup(e){const{refs:{safeConfig:l}}=H(),t=_(""),n=_(!1),u=()=>{t.value=l.value.admin_path,n.value=!0},i=async e=>{e=await r(e),await a({request:X({admin_path:e}),message:!0,loading:"正在设置安全入口，请稍候..."})};return(e,a)=>{const r=s,c=T,d=I,p=K,m=o;return b(),h("div",null,[V(E(le),{label:"安全入口"},{value:S(()=>[V(r,{modelValue:E(l).admin_path,"onUpdate:modelValue":a[0]||(a[0]=e=>E(l).admin_path=e),disabled:"",class:"!w-[26rem]"},null,8,["modelValue"]),V(c,{type:"primary",class:"!ml-12px",onClick:u},{default:S(()=>[...a[5]||(a[5]=[g("设置",-1)])]),_:1})]),desc:S(()=>[...a[6]||(a[6]=[k("span",null,"面板管理入口，设置后只能通过指定安全入口登录面板,如: /www_bt_cn",-1)])]),_:1}),V(m,{title:"设置面板安全入口",modelValue:E(n),"onUpdate:modelValue":a[2]||(a[2]=e=>C(n)?n.value=e:null),area:40,"show-footer":"",onConfirm:a[3]||(a[3]=e=>(l.value.admin_path=t.value,i(t.value),void(n.value=!1))),onSubmit:a[4]||(a[4]=P(()=>{},["prevent"]))},{default:S(()=>[k("div",ue,[V(p,{class:"flex justify-center","label-position":"right"},{default:S(()=>[V(d,{label:"安全入口"},{default:S(()=>[V(r,{modelValue:E(t),"onUpdate:modelValue":a[1]||(a[1]=e=>C(t)?t.value=e:null),class:"!w-[24rem]"},null,8,["modelValue"])]),_:1})]),_:1})])]),_:1},8,["modelValue"])])}}}),[["__scopeId","data-v-60dff4cb"]]),ie={class:"p-[24px]"},ce={class:"inline-block mr-[32px]"},de={class:"font-bold text-[1.2rem]"},pe={class:"inline-block mr-[32px]"},me={class:"font-bold text-[1.2rem]"},ve={class:"inline-block mr-[32px]"},fe={class:"font-bold text-[1.2rem]"},ye={class:"mt-2 flex items-center"},xe={class:"w-[20rem] flex"},_e={class:"mt-2 flex items-center"},we={class:"mt-6 sslPanel"},be={class:"flex justify-between"},he={class:"flex items-center w-full"},Ve={class:"flex mt-[12px]"},Se={class:"flex-1 mr-[20px]"},Ee={class:"flex-1"},ge={class:"list-disc text-[#777] px-[20px] pt-[12px] leading-8"},ke={class:"flex items-center"},Pe={class:"pt-[20px] flex flex-col"},Ce={class:"flex items-center mt-[12px] ml-[4px] px-[20px]"},Te={class:"bg-[#f6f8f8] footer-btn flex items-center justify-end mt-[20px] p-[12px] w-full"},Ie={class:"p-[2rem]"},Ke={class:"flex items-center justify-center mb-[16px]"},Ue={class:"flex flex-col bg-[#f7f7f7] p-[20px]"},Ae={key:1},je={class:"w-[24rem]"},Re={class:"w-[24rem]"},De={class:"list-disc ml-[20px] mt-[12px] leading-10 text-[#666]"},Ne={class:"flex items-center"},Le={class:"p-[1.5rem]"},Me={class:"max-h-[38rem] overflow-auto"},qe=u(x({__name:"index",setup(l){var t;const{refs:{safeConfig:u,noPortConfig:r,openSSLPopup:x}}=H(),P=_(!1),W=_(!1),X=_(!1),se=_(!1),ne=_(),oe=_(5),ue=_({sllType:1,privateKey:"",certPem:"",checked:!1,email:"",resource:"http"}),re=_({cert_type:"",domain:"",email:""}),qe=_(!1),ze=_({certPem:"",download_root:!1,info:{},privateKey:"",rep:!1,root_password:""}),Fe=[{title:"自签证书",key:1,disabled:!1},{title:"Let's Encrypt",key:2,disabled:!u.value.domain},{title:"其他证书",key:3,disabled:!1}],Ye=_([]),Be=A({index:"",cert_type:"",privateKey:"",certPem:"",email:"",auth_type:""}),Ge=_(!1),Qe=[{content:"解析域名需要一定时间来生效,完成所以上所有解析操作后,请等待1分钟后再点击验证按钮"},{content:"可通过CMD命令来手动验证域名解析是否生效:\n\t\t nslookup -q=txt _acme-challenge.".concat(null==(t=u.value.domain)?void 0:t.replace("*.",""))},{content:"若您使用的是宝塔云解析插件,阿里云DNS,DnsPod作为DNS,可使用DNS接口自动解析"}],Oe=[{label:"解析域名",prop:"domain"},{label:"记录值",showOverflowTooltip:!0,render(e){const l="dns"===ue.value.resource?e.auth_value:e.file_path;return V("div",{class:"flex items-center"},[V("div",{class:"truncate w-[15rem]"},[l]),V("span",{class:"svgtofont-icon-copy ml-[4px] text-[#666] text-[1.6rem] w-[1.6rem] cursor-pointer",onClick:()=>i({value:l})},null)])}},{label:"类型",render:e=>"dns"===ue.value.resource?V("span",null,[e.type]):V("div",{class:"flex items-center"},[V("div",{class:"truncate w-[15rem]"},[e.content]),V("span",{class:"svgtofont-icon-copy ml-[4px] text-[#666] text-[1.6rem] w-[1.6rem] cursor-pointer",onClick:()=>i({value:e.content})},null)])},{label:"必需",prop:"must",width:100}],He=async()=>{try{const l=await sl(),{data:a}=await J(Be);null==l||l.close(),e.request(a),a.status&&tl(a)}catch(l){}finally{Ge.value=!1}},We=e=>{window.open(e,"_blank","noopener,noreferrer")},Xe=async(l,a)=>{if(!a)try{const a=await navigator.clipboard.readText(),t="key"===l?[/-----BEGIN PRIVATE KEY-----[\s\S]*?-----END PRIVATE KEY-----/,/-----BEGIN RSA PRIVATE KEY-----[\s\S]*?-----END RSA PRIVATE KEY-----/,/-----BEGIN EC PRIVATE KEY-----[\s\S]*?-----END EC PRIVATE KEY-----/]:[/-----BEGIN CERTIFICATE-----[\s\S]*?-----END CERTIFICATE-----/,/-----BEGIN CERTIFICATE REQUEST-----[\s\S]*?-----END CERTIFICATE REQUEST-----/];for(const s of t){const t=a.match(s);if(t&&t[0])switch(e.success("已从粘贴板检测到".concat("key"===l?"密钥":"证书")),l){case"key":ze.value.privateKey=t[0];break;case"cert":ze.value.certPem=t[0]}}}catch(t){}},Je=e=>{ue.value.sllType=e},Ze=async()=>{qe.value=!0;try{await a({loading:"正在保存面板证书配置，请稍候...",request:Z({privateKey:ze.value.privateKey,certPem:ze.value.certPem}),message:!0,success:el})}catch(e){}finally{qe.value=!1}},$e=()=>{c({title:"证书夹",area:70,compData:{onRefresh:e=>{ze.value.certPem=(null==e?void 0:e.fullchain)||"",ze.value.privateKey=(null==e?void 0:e.privkey)||"",ze.value.info=(null==e?void 0:e.info)||{}}},component:()=>d(()=>import("./cert-folder.js?v=1756369731"),__vite__mapDeps([]),import.meta.url)})},el=async()=>{qe.value=!0;try{await a({loading:"正在获取面板证书配置，请稍候...",request:$(),success:e=>{var l,a;ze.value=e.data,ue.value.privateKey=null==(l=e.data)?void 0:l.privateKey,ue.value.certPem=null==(a=e.data)?void 0:a.certPem}})}catch(e){}finally{qe.value=!1}},ll=async()=>{try{const{data:e}=await ee();re.value=e}catch(e){}},al=async(l,a,t)=>{try{const s={cert_type:l,privateKey:a,certPem:t};let n,o,u;0===l&&(delete s.cert_type,s.privateKey,s.certPem),2===ue.value.sllType&&(s.email=ue.value.email,s.auth_type=ue.value.resource),2===ue.value.sllType?setTimeout(async()=>{n=await sl()},500):o=e.load("正在设置面板证书配置，请稍候...");u=(await J(s)).data,null==n||n.close(),null==o||o.close(),await tl(u,s)}catch(s){}finally{qe.value=!1,X.value=!1}},tl=async(l,a)=>{if(l.status){const l=e.load("正在刷新页面，请稍候...");await new Promise(e=>setTimeout(e,2e3)),l.close(),p(),sessionStorage.clear(),window.location.href="".concat("http:"===location.protocol?"https":"http","://").concat(window.location.host).concat(u.value.admin_path),qe.value=!1}else{const{certPem:e,cert_type:t,privateKey:s}=a;u.value.panelSSl=!u.value.panelSSl,m(l,"auths")&&(Ye.value=l.auths,Be.index=l.index,Be.certPem=e,Be.cert_type=t,Be.privateKey=s,Be.email=ue.value.email,Be.auth_type=ue.value.resource,Ge.value=!0)}e.request(l)},sl=()=>c({area:[50,25],component:()=>d(()=>import("./cert-progress.js?v=1756369731"),__vite__mapDeps([]),import.meta.url)});w(r,e=>{e.value&&(ze.value.privateKey=r.value.key,ze.value.certPem=r.value.cert,ze.value.info.subject=r.value.certInfo.subject,ze.value.info.issuer=r.value.certInfo.issuer,ze.value.info.notAfter=r.value.certInfo.notAfter)}),w(x,e=>{e&&(X.value=!0,ll(),x.value=!1)},{deep:!0});const nl=e=>{(e?X:W).value&&(e?X.value=!1:W.value=!1,u.value.panelSSl=!u.value.panelSSl)},ol=l=>{(l?X:W).value&&(l=>{if(!se.value&&!l)return e.error("请勾选并同意承担风险");l?al(1,ue.value.privateKey,ue.value.certPem):(al(0),W.value=!1)})(l)};return(l,a)=>{const t=z,r=T,c=n,d=F,p=s,m=o,x=U,_=te,w=v,A=Q,H=O,J=Y,Z=I,$=B,ee=G,re=K,Be=y,tl=ae,sl=f,ul=j("bt-loading");return b(),h("div",null,[V(E(le),{label:"面板SSL"},{value:S(()=>[V(t,{modelValue:E(u).panelSSl,"onUpdate:modelValue":a[0]||(a[0]=e=>E(u).panelSSl=e),onChange:a[1]||(a[1]=e=>{return(l=E(u).panelSSl)?(X.value=!0,ll()):W.value=!0,void(l?(clearInterval(ne.value),ne.value=null,oe.value=5):(ne.value&&clearInterval(ne.value),ne.value=setInterval(()=>{oe.value--,oe.value<=0&&(clearInterval(ne.value),ne.value=null,oe.value=5)},1e3)));var l})},null,8,["modelValue"]),V(r,{size:"small",class:"!ml-[12px]",onClick:a[2]||(a[2]=e=>(P.value=!0,void el()))},{default:S(()=>[...a[27]||(a[27]=[g(" 面板SSL配置 ",-1)])]),_:1})]),desc:S(()=>[a[29]||(a[29]=k("span",null,"为面板设置https协议访问，提升面板访问安全性，",-1)),V(c,{href:"https://www.bt.cn/bbs/thread-105443-1-1.html"},{default:S(()=>[...a[28]||(a[28]=[g("了解详情",-1)])]),_:1})]),_:1}),V(m,{title:"自定义面板证书",modelValue:E(P),"onUpdate:modelValue":a[13]||(a[13]=e=>C(P)?P.value=e:null),area:[70]},{default:S(()=>[R((b(),h("div",ie,[V(d,{type:"success",closable:!1},{default:S(()=>[k("div",ce,[a[30]||(a[30]=g(" 认证域名：",-1)),k("span",de,D(E(ze).info.subject),1)]),k("div",pe,[a[31]||(a[31]=g(" 证书品牌：",-1)),k("span",me,D(E(ze).info.issuer),1)]),k("div",ve,[a[32]||(a[32]=g(" 到期时间： ",-1)),k("span",fe,D(E(ze).info.notAfter),1)])]),_:1}),a[50]||(a[50]=k("div",{class:"mt-6 flex items-center text-[#20a53a] font-bold"},[k("span",null,"堡塔APP IOS端使用https证书需要使用非自签证书")],-1)),E(ze).download_root?(b(),h(N,{key:0},[k("div",ye,[a[36]||(a[36]=k("span",null,"温馨提示：当前证书为自签证书，需要安装本地根证书，",-1)),V(r,{size:"small",type:"primary",class:"mr-[8px]",onClick:a[3]||(a[3]=e=>We("/download?filename=/www/server/panel/ssl/baota_root.pfx"))},{default:S(()=>[...a[33]||(a[33]=[g(" 下载根证书 ",-1)])]),_:1}),E(ze).root_password?(b(),h(N,{key:0},[a[35]||(a[35]=k("span",null,"证书密码：",-1)),k("div",xe,[V(p,{modelValue:E(ze).root_password,"onUpdate:modelValue":a[4]||(a[4]=e=>E(ze).root_password=e),disabled:!0,placeholder:"密码为空"},null,8,["modelValue"]),V(r,{type:"primary",class:"align-sub",onClick:a[5]||(a[5]=l=>(l=>{if(!l)return e.error("当前密码为空，无法复制！");i({value:l})})(E(ze).root_password||""))},{default:S(()=>[...a[34]||(a[34]=[g("复制 ",-1)])]),_:1})])],64)):L("",!0)]),k("div",_e,[a[38]||(a[38]=k("span",null,[k("span",{class:"text-danger"},"MAC"),g("专用本地根证书：")],-1)),V(r,{size:"small",type:"primary",class:"mr-[8px]",onClick:a[6]||(a[6]=e=>We("/download?filename=/www/server/panel/ssl/baota_root.crt"))},{default:S(()=>[...a[37]||(a[37]=[g(" 下载根证书 ",-1)])]),_:1}),a[39]||(a[39]=k("span",null,[g("* 无密码 "),k("span",{class:"text-danger"},"MAC"),g("需要设置信任此证书")],-1))])],64)):L("",!0),k("div",we,[k("div",be,[k("div",he,[a[41]||(a[41]=k("span",{class:"mr-4px"},"面板SSL",-1)),V(t,{modelValue:E(u).panelSSl,"onUpdate:modelValue":a[7]||(a[7]=e=>E(u).panelSSl=e),onChange:a[8]||(a[8]=e=>{return l=E(u).panelSSl,void al(l?1:0,ze.value.privateKey,ze.value.certPem);var l})},null,8,["modelValue"]),V(c,{href:"https://www.bt.cn/bbs/thread-105443-1-1.html",class:"ml-[12px]"},{default:S(()=>[...a[40]||(a[40]=[g(" 如何开启证书？ ",-1)])]),_:1})]),V(r,{size:"small",class:"float-right",onClick:$e},{default:S(()=>[...a[42]||(a[42]=[g("证书夹",-1)])]),_:1})]),k("div",Ve,[k("div",Se,[a[43]||(a[43]=k("div",{class:"text-[1.2rem] mb-[8px]"},"密钥(KEY)",-1)),V(p,{class:"text-[1.2rem]",type:"textarea",modelValue:E(ze).privateKey,"onUpdate:modelValue":a[9]||(a[9]=e=>E(ze).privateKey=e),rows:13,size:"small",onFocus:a[10]||(a[10]=e=>Xe("key",E(ze).privateKey))},null,8,["modelValue"])]),k("div",Ee,[a[44]||(a[44]=k("div",{class:"text-[1.2rem] mb-[8px]"},"证书(PEM格式)",-1)),V(p,{type:"textarea",modelValue:E(ze).certPem,"onUpdate:modelValue":a[11]||(a[11]=e=>E(ze).certPem=e),rows:13,size:"small",onFocus:a[12]||(a[12]=e=>Xe("cert",E(ze).certPem))},null,8,["modelValue"])])]),V(r,{type:"primary",class:"!mt-4",onClick:Ze},{default:S(()=>[...a[45]||(a[45]=[g("保存",-1)])]),_:1})]),k("ul",ge,[k("li",null,[k("div",ke,[a[47]||(a[47]=g(" 粘贴您的*.key以及*.pem内容，然后保存即可 ",-1)),V(c,{href:"https://www.bt.cn/bbs/thread-105443-1-1.html"},{default:S(()=>[...a[46]||(a[46]=[g("帮助",-1)])]),_:1})])]),a[48]||(a[48]=k("li",null,"如果浏览器提示证书链不完整,请检查是否正确拼接PEM证书",-1)),a[49]||(a[49]=k("li",null,"PEM格式证书 = 域名证书.crt + 根证书(root_bundle).crt",-1))])])),[[ul,E(qe)],[ul,"正在获取证书信息，请稍候...","title"]])]),_:1},8,["modelValue"]),V(m,{title:"关闭面板SSL",area:38,modelValue:E(W),"onUpdate:modelValue":a[17]||(a[17]=e=>C(W)?W.value=e:null),onCancel:a[18]||(a[18]=e=>nl(!1))},{default:S(()=>[k("div",Pe,[a[53]||(a[53]=k("div",{class:"flex items-center px-[20px]"},[k("i",{class:"svgtofont-el-warning-filled text-[#e6a23c] !text-[4rem] pr-4"}),k("span",{class:"text-[1.4rem] leading-10 text-danger"},"关闭SSL后请使用安全登录模式进行登录，否则会存在“重放攻击”风险，是否确定关闭？")],-1)),k("div",Ce,[V(x,{modelValue:E(se),"onUpdate:modelValue":a[14]||(a[14]=e=>C(se)?se.value=e:null),class:"!mr-[4px]"},null,8,["modelValue"]),a[51]||(a[51]=g(" 我已了解风险，确认关闭 ",-1))]),k("div",Te,[V(r,{type:"warning",onClick:a[15]||(a[15]=e=>nl(!1))},{default:S(()=>[...a[52]||(a[52]=[g("取消",-1)])]),_:1}),V(r,{type:"danger",onClick:a[16]||(a[16]=e=>ol(!1)),disabled:!!E(ne)||!E(se)},{default:S(()=>[g("确认关闭SSL "+D(E(ne)?"（剩余".concat(E(oe),"秒可操作）"):""),1)]),_:1},8,["disabled"])])])]),_:1},8,["modelValue"]),V(m,{title:"面板证书SSL",area:[54],modelValue:E(X),"onUpdate:modelValue":a[23]||(a[23]=e=>C(X)?X.value=e:null),"show-footer":!0,onConfirm:a[24]||(a[24]=e=>ol(!0)),onCancel:a[25]||(a[25]=e=>nl(!0))},{default:S(()=>[k("div",Ie,[k("div",Ke,[V(_,{name:"scanning-success",size:"3.2"}),a[54]||(a[54]=k("p",{class:"text-[2.1rem] ml-[4px]"},"立即【开启SSL证书】保护面板安全",-1))]),k("div",Ue,[a[55]||(a[55]=k("span",null,"访问步骤：",-1)),a[56]||(a[56]=k("ul",{class:"list-decimal ml-[20px] mt-[4px] leading-10"},[k("li",null,"开启https"),k("li",null,"使用https网站访问面板"),k("li",null,"如提醒风险（正常现象）点击【高级】或【详情】如下图"),k("li",null,"【继续访问】或【接受风险并继续】")],-1)),V(w,{src:"/other/bt-https.png",class:"block mt-[4px] h-[18rem] w-[28rem]"})]),V(re,{ref:"form",model:E(ue),class:"my-6"},{default:S(()=>[V(Z,{label:"类型"},{default:S(()=>[V(J,{modelValue:E(ue).sllType,"onUpdate:modelValue":a[19]||(a[19]=e=>E(ue).sllType=e),class:"!w-[28rem]",onChange:Je},{default:S(()=>[(b(),h(N,null,M(Fe,e=>V(H,{key:e.key,label:e.title,value:e.key,disabled:e.disabled},{default:S(()=>[2!==e.key||E(u).domain?(b(),h("span",Ae,D(e.title),1)):(b(),q(A,{key:0,class:"item",effect:"dark",content:"Let's Encrypt证书类型需要绑定域名才能选择",placement:"top-start"},{default:S(()=>[k("span",null,D(e.title),1)]),_:2},1024))]),_:2},1032,["label","value","disabled"])),64))]),_:1},8,["modelValue"])]),_:1}),2==E(ue).sllType?(b(),q(Z,{key:0,label:"验证方法"},{default:S(()=>[V(ee,{modelValue:E(ue).resource,"onUpdate:modelValue":a[20]||(a[20]=e=>E(ue).resource=e)},{default:S(()=>[V($,{label:"http",value:"http"},{default:S(()=>[...a[57]||(a[57]=[g("文件验证",-1)])]),_:1}),V($,{label:"dns",value:"dns"},{default:S(()=>[...a[58]||(a[58]=[g("DNS验证",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1})):L("",!0),3==E(ue).sllType?(b(),q(Z,{key:1,label:"密钥(KEY)"},{default:S(()=>[k("div",je,[V(p,{modelValue:E(ue).privateKey,"onUpdate:modelValue":a[21]||(a[21]=e=>E(ue).privateKey=e),type:"textarea",rows:4},null,8,["modelValue"])])]),_:1})):L("",!0),3==E(ue).sllType?(b(),q(Z,{key:2,label:"证书(PEM格式)"},{default:S(()=>[k("div",Re,[V(p,{modelValue:E(ue).certPem,"onUpdate:modelValue":a[22]||(a[22]=e=>E(ue).certPem=e),type:"textarea",rows:4},null,8,["modelValue"])])]),_:1})):L("",!0)]),_:1},8,["model"]),k("ul",De,[k("li",null,[k("div",Ne,[a[60]||(a[60]=g("开启后导致面板不能访问，可以点击查看",-1)),V(c,{href:"https://www.bt.cn/bbs/thread-117246-1-1.html"},{default:S(()=>[...a[59]||(a[59]=[g("解决方法",-1)])]),_:1})])]),a[61]||(a[61]=k("li",null,"自签证书不被浏览器信任，显示不安全是正常现象",-1))])])]),_:1},8,["modelValue"]),V(m,{modelValue:E(Ge),"onUpdate:modelValue":a[26]||(a[26]=e=>C(Ge)?Ge.value=e:null),area:70,title:"手动".concat("dns"===E(ue).resource?"解析TXT记录":"创建验证文件")},{default:S(()=>[k("div",Le,[a[63]||(a[63]=g(" 请按以下列表做TXT解析: ",-1)),V(tl,null,{content:S(()=>[k("div",Me,[(b(!0),h(N,null,M(E(Ye),(e,l)=>(b(),h(N,null,[e.data.length?(b(),h("div",{key:l},[k("span",null,"验证域名："+D(e.domain),1),V(Be,{class:"my-[1rem]",column:Oe,data:e.data},null,8,["data"])])):L("",!0)],64))),256))])]),"footer-right":S(()=>[V(r,{onClick:He},{default:S(()=>[...a[62]||(a[62]=[g("验证",-1)])]),_:1})]),_:1}),V(sl,{options:Qe,listStyle:"disc",class:"ml-[20px]"})])]),_:1},8,["modelValue","title"])])}}}),[["__scopeId","data-v-af7384fa"]]),ze={class:"w-[26rem]"},Fe=x({__name:"index",setup(e){const{refs:{safeConfig:l},saveConfig:a}=H();return(e,t)=>{const n=s,o=T;return b(),q(E(le),{label:"绑定域名"},{value:S(()=>[k("div",ze,[V(n,{modelValue:E(l).domain,"onUpdate:modelValue":t[0]||(t[0]=e=>E(l).domain=e)},null,8,["modelValue"])]),V(o,{type:"primary",class:"!ml-12px",onClick:t[1]||(t[1]=e=>{a("正在绑定域名，请稍候...")})},{default:S(()=>[...t[2]||(t[2]=[g("保存",-1)])]),_:1})]),desc:S(()=>[...t[3]||(t[3]=[k("span",null,"为面板绑定一个访问域名，",-1),k("span",{class:"text-danger"},"注意：一旦绑定域名，只能通过域名访问面板",-1)])]),_:1})}}});export{oe as P,re as S,Fe as _,qe as a};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
