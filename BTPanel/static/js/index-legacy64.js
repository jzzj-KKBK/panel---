!function(){function e(n){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(n)}function n(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(e){if("string"==typeof e)return t(e,n);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function r(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,n,t="function"==typeof Symbol?Symbol:{},o=t.iterator||"@@iterator",u=t.toStringTag||"@@toStringTag";function i(t,r,o,u){var i=r&&r.prototype instanceof c?r:c,s=Object.create(i.prototype);return a(s,"_invoke",function(t,r,a){var o,u,i,c=0,s=a||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(n,t){return o=n,u=0,i=e,p.n=t,l}};function d(t,r){for(u=t,i=r,n=0;!f&&c&&!a&&n<s.length;n++){var a,o=s[n],d=p.p,v=o[2];t>3?(a=v===r)&&(i=o[(u=o[4])?5:(u=3,3)],o[4]=o[5]=e):o[0]<=d&&((a=t<2&&d<o[1])?(u=0,p.v=r,p.n=o[1]):d<v&&(a=t<3||o[0]>r||r>v)&&(o[4]=t,o[5]=r,p.n=v,u=0))}if(a||t>1)return l;throw f=!0,r}return function(a,s,v){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,v),u=s,i=v;(n=u<2?e:i)||!f;){o||(u?u<3?(u>1&&(p.n=-1),d(u,i)):p.n=i:p.v=i);try{if(c=2,o){if(u||(a="next"),n=o[a]){if(!(n=n.call(o,i)))throw TypeError("iterator result is not an object");if(!n.done)return n;i=n.value,u<2&&(u=0)}else 1===u&&(n=o.return)&&n.call(o),u<2&&(i=TypeError("The iterator does not provide a '"+a+"' method"),u=1);o=e}else if((n=(f=p.n<0)?i:t.call(r,p))!==l)break}catch(n){o=e,u=1,i=n}finally{c=1}}return{value:n,done:f}}}(t,o,u),!0),s}var l={};function c(){}function s(){}function f(){}n=Object.getPrototypeOf;var p=[][o]?n(n([][o]())):(a(n={},o,function(){return this}),n),d=f.prototype=c.prototype=Object.create(p);function v(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,a(e,u,"GeneratorFunction")),e.prototype=Object.create(d),e}return s.prototype=f,a(d,"constructor",f),a(f,"constructor",s),s.displayName="GeneratorFunction",a(f,u,"GeneratorFunction"),a(d),a(d,u,"Generator"),a(d,o,function(){return this}),a(d,"toString",function(){return"[object Generator]"}),(r=function(){return{w:i,m:v}})()}function a(e,n,t,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}a=function(e,n,t,r){function u(n,t){a(e,n,function(e){return this._invoke(n,t,e)})}n?o?o(e,n,{value:t,enumerable:!r,configurable:!r,writable:!r}):e[n]=t:(u("next",0),u("throw",1),u("return",2))},a(e,n,t,r)}function o(e,n,t,r,a,o,u){try{var i=e[o](u),l=i.value}catch(e){return void t(e)}i.done?n(l):Promise.resolve(l).then(r,a)}function u(e){return function(){var n=this,t=arguments;return new Promise(function(r,a){var u=e.apply(n,t);function i(e){o(u,r,a,i,l,"next",e)}function l(e){o(u,r,a,i,l,"throw",e)}i(void 0)})}}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach(function(n){c(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function c(n,t,r){return(t=function(n){var t=function(n,t){if("object"!=e(n)||!n)return n;var r=n[Symbol.toPrimitive];if(void 0!==r){var a=r.call(n,t||"default");if("object"!=e(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}(n,"string");return"symbol"==e(t)?t:t+""}(t))in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n}System.register(["./base-lib-legacy.js?v=1756369731","./file-icon-legacy.js?v=1756369731","./utils-lib-legacy.js?v=1756369731","./column-legacy.js?v=1756369731","./form-item-legacy.js?v=1756369731","./store-legacy.js?v=1756369731","./index-legacy103.js?v=1756369731","./files-path-legacy.js?v=1756369731","./useStore-legacy9.js?v=1756369731","./__commonjsHelpers__-legacy.js?v=1756369731","./index-legacy104.js?v=1756369731","./files-legacy.js?v=1756369731","./validator-legacy.js?v=1756369731","./store-legacy2.js?v=1756369731","./index-legacy101.js?v=1756369731"],function(e,t){"use strict";var a,o,i,c,s,f,p,d,v,m,h,y,g,b,w,_,j,k,x,S,P,T,O,N,I,C,L,z,A,D,R,E,q,F,G,B,V,M,H,J,K,Q,U,W,Z,$,X,Y,ee,ne,te;return{setters:[function(e){a=e.r,o=e.o,i=e.g,c=e.e,s=e.ar,f=e.c,p=e.ay,d=e.Z,v=e.w,m=e.B,h=e.q,y=e.v,g=e.y,b=e.A,w=e.F,_=e.a_,j=e.x,k=e.K,x=e.z,S=e.Q,P=e.aj,T=e.D,O=e.aQ,N=e.M,I=e.ai,C=e.bI,L=e.p},null,function(e){z=e.K,A=e.f7,D=e.o,R=e.f8,E=e.l,q=e.L,F=e.G,G=e.b,B=e.ah,V=e.f9,M=e.fa,H=e.aj,J=e.fb,K=e.u,Q=e.v,U=e.a6,W=e.e},function(e){Z=e.a,$=e.u},function(e){X=e.b},function(e){Y=e.V},function(e){ee=e._},function(e){ne=e.F},function(e){te=e.u},null,null,null,null,null,null],execute:function(){var re=G(),ae=function(e){return e.map(function(e){return l(l({},e),{},{isLocal:"local"===e.api_key&&"local"===e.app_key,label:e.remarks,value:e.id})})},oe=function(){var e=u(r().m(function e(n){var t,a,o,u,i,c,f,p,d,v,m,h,y,g,b,w,_,j,k,x;return r().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t=n.nodeId,a=n.path,o=n.p,u=n.showRow,i=n.search,t){e.n=1;break}return e.a(2,{data:[]});case 1:return e.p=1,e.n=2,z({request:M({p:o,showRow:u,node_id:t,path:a,search:i})});case 2:for(c=e.v,f=c.data,p=f.path,d=f.dir,v=f.files,m=f.bt_sync,h=f.tamper_data,g=(y=h||{dirs:[],files:[],msg:""}).dirs,b=y.files,w=y.msg,_=new Array(d.length+v.length),j=0,k=0;k<d.length;k++)_[j++]=l(l({},Y("dir",d[k],w?"":g[k],p,m)),{},{vid:"dir".concat(j),nodeId:t,loading:s(!1)});for(x=0;x<v.length;x++)_[j++]=l(l({},Y("file",v[x],w?"":b[x],p)),{},{vid:"file".concat(j),nodeId:t});return e.a(2,{data:_,total:H(f.page),path:p});case 3:return e.p=3,e.v,e.a(2,{data:[],path:a})}},e,null,[[1,3]])}));return function(n){return e.apply(this,arguments)}}(),ue=function(){var e=u(r().m(function e(n){var t,a;return r().w(function(e){for(;;)switch(e.p=e.n){case 0:if(!n.loading&&!n.dirSize){e.n=1;break}return e.a(2);case 1:return e.p=1,n.loading=!0,e.n=2,z({request:A({node_id:n.nodeId,path:n.path})});case 2:t=e.v,a=t.data,n.dirSize=a.size,n.loading=!1,e.n=4;break;case 3:e.p=3,e.v,n.loading=!1;case 4:return e.a(2)}},e,null,[[1,3]])}));return function(n){return e.apply(this,arguments)}}(),ie=function(){var e=u(r().m(function e(n,t){return r().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,D({title:"删除文件",content:'确定要删除文件 "'.concat(n.fileName,'" 吗？')});case 1:return e.n=2,z({message:!0,loading:"删除中...",request:R({node_id:n.nodeId,path:n.path,is_dir:n.isFile?0:1})});case 2:t();case 3:return e.a(2)}},e)}));return function(n,t){return e.apply(this,arguments)}}(),le=a(null),ce=o(function(){re.error("不能直接上传文件到系统根目录!")},2e3),se=function(e,n,t,r){var a,o;(e.preventDefault(),"/"!==n)?null!=e&&null!==(a=e.dataTransfer)&&void 0!==a&&a.items&&Array.from(null==e||null===(o=e.dataTransfer)||void 0===o?void 0:o.items).some(function(e){return"file"===e.kind})&&(le.value||fe(n,t,r)):ce()},fe=function(e,n,r){"/"!==e?le.value=E({title:"上传文件到【".concat(e,"】"),area:"72",component:function(){return q(function(){return t.import("./node-upload-legacy.js?v=1756369731")},void 0,t.meta.url)},compData:{path:e,nodeId:n,refresh:r},onCancel:function(){r(),le.value=null}}):re.error("不能直接上传文件到系统根目录!")},pe=function(e,n){var t="node_file_path_".concat(e);return void 0!==n?(localStorage.setItem(t,n),n):localStorage.getItem(t)||"/"},de=function(e){return!!e.lpver},ve=null,me=function(){var e=u(r().m(function e(n){var t,a;return r().w(function(e){for(;;)switch(e.p=e.n){case 0:if(e.p=0,!de(n.sourceNode)||!de(n.targetNode)){e.n=1;break}return re.error("当前两节点均为1panel节点，无法创建文件分发任务"),n.callback(),e.a(2);case 1:return e.n=2,ye(n);case 2:return t=e.v,e.n=3,z({message:!0,loading:"创建传输任务...",request:J({source_node_id:n.sourceNode.id,target_node_id:n.targetNode.id,source_path_list:JSON.stringify(n.sourcePathList.value.map(function(e){return{path:e.path,is_dir:!e.isFile,size:e.size}})),target_path:n.targetPath,default_mode:t})});case 3:a=e.v,n.callback(),a.status&&he(n.complete),e.n=5;break;case 4:e.p=4,e.v,n.callback();case 5:return e.a(2)}},e,null,[[0,4]])}));return function(n){return e.apply(this,arguments)}}(),he=function(){var e=u(r().m(function e(n){var o,i,c,s,f,p,d=arguments;return r().w(function(e){for(;;)switch(e.n){case 0:o=d.length>1&&void 0!==d[1]&&d[1],i=a({source_path:"",target_path:"",target_node:"",source_node:"",file_count:0,file_complete:0,file_error:0,fileList:[]}),c=null,s=function(){var e,t;null===(e=ve)||void 0===e||e.close(),null===(t=ve=B({route:"/ws_modsoc",onMessage:function(e,t){var r,a=JSON.parse(t.data);if("end"===a.type)return null===(r=ve)||void 0===r||r.close(),c&&c.unmount(),void(o||(i.value=l(l({},a.task),{},{fileList:a.file_status_list}),p(),re.success("文件传输完成"),n()));"error"===a.type&&re.error(a.msg),c||f(),a.task&&(i.value=l(l({},a.task),{},{fileList:a.file_status_list}))}}))||void 0===t||t.send({mod_name:"node",sub_mod_name:"file_transfer",def_name:"transfer_status",callback:"xxxxxxo",data:{}})},f=function(){var e=u(r().m(function e(){return r().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,E({title:"文件传输日志",area:75,component:function(){return q(function(){return t.import("./index-legacy354.js?v=1756369731")},void 0,t.meta.url)},compData:i,onCancel:function(){var e;null===(e=ve)||void 0===e||e.close(),c=null},btns:!1});case 1:c=e.v;case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),p=function(){var e=u(r().m(function e(){var n,o,u,l;return r().w(function(e){for(;;)switch(e.n){case 0:n=0,o=0,u=[],l=[],i.value.fileList.forEach(function(e){"complete"===e.status?(n++,l.push(e)):(o++,u.push(e))}),E({title:"文件传输结果",area:45,component:function(){return q(function(){return t.import("./transfer-result-legacy.js?v=1756369731")},void 0,t.meta.url)},compData:{success:n,fail:o,sendList:a([].concat(u,l))}});case 1:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),s();case 1:return e.a(2)}},e)}));return function(n){return e.apply(this,arguments)}}(),ye=function(){var e=u(r().m(function e(n){return r().w(function(e){for(;;)if(0===e.n)return e.a(2,new Promise(function(e,r){E({title:"文件传输",area:45,component:function(){return q(function(){return t.import("./transfer-confirm-legacy.js?v=1756369731")},void 0,t.meta.url)},btn:!0,compData:l(l({},n),{},{complete:function(n){e(n)}}),onCancel:function(){r(!1)}})}))},e)}));return function(n){return e.apply(this,arguments)}}(),ge=function(){var e=u(r().m(function e(n,t,a){var o,l,s,f,p;return r().w(function(e){for(;;)switch(e.n){case 0:return o=function(){var e=u(r().m(function e(o){return r().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,z({message:!0,loading:"创建中...",request:V({node_id:t.toString(),path:"".concat(n,"/").concat(o.value.name).replace(/\/\//g,"/")})});case 1:return e.a(2,!0);case 2:return e.p=2,e.v,e.a(2,!1);case 3:return e.p=3,a(),e.f(3);case 4:return e.a(2)}},e,null,[[0,2,3,4]])}));return function(n){return e.apply(this,arguments)}}(),l=null,s=F({data:function(){return{name:""}},options:function(e){return i(function(){return[X("名称","name",{attrs:{class:"!w-[23rem]",placeholder:"请输入文件夹名称",onkeydown:(e=u(r().m(function e(n){var t;return r().w(function(e){for(;;)switch(e.n){case 0:if("Enter"!==n.key){e.n=2;break}return n.preventDefault(),n.stopPropagation(),e.n=1,p();case 1:e.v&&(null===(t=l)||void 0===t||t.unmount());case 2:return e.a(2)}},e)})),function(n){return e.apply(this,arguments)})},rules:[{required:!0,message:"请输入文件夹名称"},{validator:function(e,n,t){RegExp(/[\*\|\:\\\"\/\<\>\?]+/).test(n)?t(new Error("文件夹名称不能包含特殊字符")):t()},trigger:["blur","change"]}]})];var e})},submit:function(){var e=u(r().m(function e(n,t,a){return r().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,t();case 1:return e.n=2,o(n);case 2:return e.a(2,e.v);case 3:return e.p=3,e.v,e.a(2,!1)}},e,null,[[0,3]])}));return function(n,t,r){return e.apply(this,arguments)}}()}),f=s.BtForm,p=s.submit,e.n=1,E({title:"新建文件夹【".concat(n,"】"),area:45,component:function(){return c("div",{class:"p-[2rem]"},[c(f,null,null)])},btn:!0,onConfirm:p});case 1:l=e.v;case 2:return e.a(2)}},e)}));return function(n,t,r){return e.apply(this,arguments)}}(),be={class:"flex items-center mb-[1.6rem]"},we={class:"flex flex-col !h-[5rem] pt-[1rem]"},_e={class:"mb-0 leading-[1.2rem] !vertical-middle"},je={class:"text-[#999] text-[1rem]"},ke={class:"flex items-center gap-3"},xe={class:"flex items-center gap-3"},Se={class:"text-[#999]"},Pe=f({__name:"files-list-card",props:{panelType:{type:String,required:!0}},setup:function(e,t){var o=t.expose,i=e,l=K().mainHeight,C=te().currentNodes,L=a([]),z=p("nodeList",a([])),A=p("createTask",function(e,n,t){}),D=a([]),R=a(pe(C.value[i.panelType]));d("currentPath",R);var E=a({p:1,showRow:200,path:s(R),search:""}),q=function(e){switch(i.panelType){case"source":return e===C.value.target;case"target":return e===C.value.source}},F=function(e){D.value=e?z.value.filter(function(n){return n.label.includes(e)||n.server_ip.includes(e)}):z.value};v(z,function(e){D.value=e}),v(function(){return C.value[i.panelType]},function(){B(),re.value.limit=100,le(pe(C.value[i.panelType])),X()});var G,B=function(){var e=C.value[i.panelType];e&&localStorage.setItem("fileTransfer_".concat(i.panelType,"_nodeId"),e)},V=[Z({key:"vid"}),{label:"文件名称",prop:"name",minWidth:200,showOverflowTooltip:!0,render:function(e){return c("div",{class:"flex items-center files-list"},[c("i",{class:"icon-bg ".concat(["zip","rar","7z","gz","tar.gz","tgz","war"].includes(e.ext)?"compress":e.ext,"-icon")},null),c("span",{onClick:function(){return ce(e)},class:"cursor-pointer hover:text-primary truncate ml-[4px] fileName ".concat(e.isReName?"hidden":""),title:e.fileName+e.isLink},[e.fileName+e.isLink])])}},{label:"文件大小",prop:"size",width:120,render:function(e){return"folder"===e.ext?c(me,{row:e},null):Q(e.size)}},$([{title:"source"===i.panelType?"发送到右侧":"发送到左侧",width:100,onClick:function(e){return de(e)}},{title:"删除",onClick:function(e){return ie(e,X)}}])],M=U({request:(G=u(r().m(function e(n){var t,a,o,u;return r().w(function(e){for(;;)switch(e.n){case 0:return t=n.p,a=n.limit,o=n.search,e.n=1,oe({nodeId:C.value[i.panelType],path:E.value.path,p:t,showRow:a,search:o});case 1:return u=e.v,pe(C.value[i.panelType],u.path),le(u.path),Y.value.clearAllSelect(),e.a(2,u)}},e)})),function(e){return G.apply(this,arguments)}),columns:V,extension:[]}),H=M.BtTable,J=M.BtSearch,W=M.BtPage,X=(M.BtColumn,M.refresh),Y=M.ref,re=M.param,ae=function(){var e=u(r().m(function e(n){return r().w(function(e){for(;;)switch(e.n){case 0:le(n),X();case 1:return e.a(2)}},e)}));return function(n){return e.apply(this,arguments)}}(),le=function(e){switch(R.value=e,i.panelType){case"source":C.value.sourcePath=e;break;case"target":C.value.targetPath=e}},ce=function(e){e.isFile||(R.value="".concat(e.path),X())},de=function(){var e=u(r().m(function e(n){var t;return r().w(function(e){for(;;)switch(e.n){case 0:try{t="all"===n?L.value:[n],A(i.panelType,t,function(){Y.value.clearAllSelect()})}catch(r){Y.value.clearAllSelect()}case 1:return e.a(2)}},e)}));return function(n){return e.apply(this,arguments)}}(),ve=function(e){L.value=e},me=f({props:{row:{type:Object,required:!0}},setup:function(e){return function(){return c("a",{class:"flex items-center",title:"点击计算大小",onClick:function(){return ue(e.row)}},[e.row.loading&&c("span",{class:"svgtofont-el-loading animate-spin mr-2px"},null),e.row.loading&&c("span",{class:""},[m("计算中")]),!e.row.loading&&c("div",{class:"text-primary cursor-pointer"},[void 0===e.row.dirSize?"计算":e.row.dirSize])])}}});return o({refresh:X}),function(e,t){var r=I,a=P,o=T,u=O;return h(),y("div",{class:"rounded-[.5rem] module-ui shadow-[0 1px 3px 1px rgba(0, 0, 0, 0.05)]",onDragenter:t[4]||(t[4]=S(function(){},["prevent"])),onDragover:t[5]||(t[5]=S(function(e){return j(se)(e,j(R),j(C)[i.panelType],j(X))},["prevent"]))},[g("div",be,[c(a,{class:"!w-[16rem] mr-[1.6rem]",modelValue:j(C)[i.panelType],"onUpdate:modelValue":t[0]||(t[0]=function(e){return j(C)[i.panelType]=e}),filterable:"","filter-method":F,onChange:e.handleNodeChange},{default:b(function(){return[(h(!0),y(w,null,_(j(D),function(e){return h(),N(r,{class:"!h-[5rem]",key:e.value,label:e.label,value:e.value,disabled:q(e.value)},{default:b(function(){return[g("div",we,[g("span",_e,x(e.label),1),g("span",je,x(e.server_ip),1)])]}),_:2},1032,["label","value","disabled"])}),128))]}),_:1},8,["modelValue","onChange"]),c(ne,{initialPath:j(R),onPathChange:ae,onRefresh:j(X)},null,8,["initialPath","onRefresh"])]),c(j(ee),null,{"header-left":b(function(){return[c(o,{type:"primary",onClick:t[1]||(t[1]=function(e){return j(fe)(j(R),j(C)[i.panelType],j(X))})},{default:b(function(){return n(t[6]||(t[6]=[m(" 上传文件 ",-1)]))}),_:1}),c(o,{type:"default",onClick:t[2]||(t[2]=function(e){return j(ge)(j(R),j(C)[i.panelType],j(X))})},{default:b(function(){return n(t[7]||(t[7]=[m(" 新建文件夹 ",-1)]))}),_:1})]}),"header-right":b(function(){return[g("div",ke,[c(j(J),{placeholder:"请输入文件名称"})])]}),content:b(function(){return[c(j(H),{style:k("height:".concat(j(l)-290,"px")),onSelectionChange:ve},null,8,["style"])]}),"footer-left":b(function(){return[g("div",xe,[c(u,{content:"请先选择文件",placement:"top",disabled:j(L).length>0},{default:b(function(){return[c(o,{type:"primary",disabled:0===j(L).length,onClick:t[3]||(t[3]=function(e){return de("all")})},{default:b(function(){return[m("发送到"+x("source"===i.panelType?"右侧":"左侧"),1)]}),_:1},8,["disabled"])]}),_:1},8,["disabled"]),g("span",Se,"当前选中"+x(j(L).length)+"个文件",1)])]}),"footer-right":b(function(){return[c(j(W),{layout:"prev, pager, next"})]}),_:1})],32)}}}),Te={class:"file-transfer"},Oe={class:"transfer-container"},Ne={class:"transfer-panel left-panel"},Ie={class:"transfer-panel right-panel"},Ce=f({__name:"index",setup:function(e){var n=te(),t=n.getNodeList,o=n.currentNodes,i=G(),l=a([]);d("nodeList",l);var f=C("leftPanelRef"),p=C("rightPanelRef"),v=function(){var e=u(r().m(function e(){var n,a,u,i,c,s,f;return r().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,t();case 1:for(n=e.v,l.value=ae(n.data),a=Number(localStorage.getItem("fileTransfer_source_nodeId")),u=Number(localStorage.getItem("fileTransfer_target_nodeId")),i=null,c=null,s=null,f=0;f<l.value.length;f++)l.value[f].isLocal?(s=l.value[f].id,o.value.localNodeId=s):c||(c=l.value[f].id),l.value[f].id===a&&(i=l.value[f].id),l.value[f].id===u&&(c=l.value[f].id);i||(i=s),o.value.source=i,o.value.target=c;case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),m=function(){var e=u(r().m(function e(n,t,a){var u,c,d,v,m;return r().w(function(e){for(;;)switch(e.n){case 0:u=o.value[n],c=o.value["source"===n?"target":"source"],d=null,v=null,m=0;case 1:if(!(m<l.value.length)){e.n=3;break}if(l.value[m].id===u&&(d=l.value[m]),l.value[m].id===c&&(v=l.value[m]),!d||!v){e.n=2;break}return e.a(3,3);case 2:m++,e.n=1;break;case 3:if(v){e.n=4;break}return i.error("请选择目标节点"),a(),e.a(2);case 4:me({sourceNode:d,targetNode:v,sourcePathList:s(t),targetPath:o.value["source"===n?"targetPath":"sourcePath"],callback:a,complete:function(){var e,t;"source"===n?null===(e=p.value)||void 0===e||e.refresh():null===(t=f.value)||void 0===t||t.refresh()}});case 5:return e.a(2)}},e)}));return function(n,t,r){return e.apply(this,arguments)}}();return d("refreshNodeList",v),d("createTask",m),L(function(){v(),he(function(){},!0)}),function(e,n){return h(),y("div",Te,[g("div",Oe,[g("div",Ne,[c(Pe,{ref_key:"leftPanelRef",ref:f,"panel-type":"source"},null,512)]),g("div",Ie,[c(Pe,{ref_key:"rightPanelRef",ref:p,"panel-type":"target"},null,512)])])])}}});e("default",W(Ce,[["__scopeId","data-v-358159e0"]]))}}})}();
