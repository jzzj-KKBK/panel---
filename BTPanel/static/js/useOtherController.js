import{editAgainVerify as t}from"./site.js?v=1756369731";import{_ as s}from"./index104.js?v=1756369731";import{A as e,K as l}from"./utils-lib.js?v=1756369731";import{r as a,e as r,B as n}from"./base-lib.js?v=1756369731";import{_ as i,$ as o}from"./useController13.js?v=1756369731";import{u,S as p}from"./useStore12.js?v=1756369731";const{certVerifyInfo:c}=u(),{verifyBusCertEvent:d}=p(),f=async s=>{try{const e={oid:c.value.oid,dcvMethod:s.value.dcvMethod,pid:c.value.pid,cert_ssl_type:c.value.certType},a=await l({loading:"正在更改验证方式，请稍后...",request:t(e),message:!0});return(null==a?void 0:a.status)&&m(e.oid,e.cert_ssl_type,e.pid),a.status}catch(e){return!1}},m=async(t,s,e)=>{const{data:l}=await d(t,s,e);l&&o({...l,cert_ssl_type:s,certType:s,pid:e})},b=a([{label:"URL",prop:"url",showOverflowTooltip:!0},{label:"验证结果",prop:"status",width:100,render:t=>1==t.status?r("span",{class:"text-[#20a53a]"},[n("通过")]):r("span",{class:"text-[red] flex item-center"},[r("span",null,[n("失败["),t.status,n("]")]),r("a",{href:"https://www.bt.cn/bbs/thread-56802-1-1.html",target:"_blank",class:"svgtofont-el-question-filled text-warning ml-[2px]"},null)])},{label:"操作",align:"right",width:160,render:(t,l)=>r("div",{class:"flex items-center justify-end"},[r("span",{class:"cursor-pointer bt-link",onClick:()=>e({value:t.url})},[n("复制")]),r(s,null,null),r("a",{class:"bt-link",href:t.url,target:"_blank"},[n("打开")]),r(s,null,null),r("span",{class:"cursor-pointer bt-link",onClick:()=>i(t,l)},[n("重新验证")])])}]);export{f as o,b as t};
