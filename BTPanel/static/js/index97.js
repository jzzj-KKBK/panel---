import{c as e,r as a,w as t,aG as s,aD as l,p as o,H as n,I as i,x as r,q as c,v as u,e as m,m as p,aQ as d,i as v,A as f,y,B as b,aR as g,aS as h,g as w,b as _,t as x,aT as k,a0 as j,aU as A,D as B,aV as C,aW as I,a7 as M,a9 as E,ap as T,ao as S,an as z,aX as P,ax as O,aw as R,S as D,au as N,aj as F,ai as L,k as Z,z as V,C as q,aM as Q,aN as U,M as G,N as J,K as X,aY as K,aZ as H,J as W,F as Y,a_ as $,Q as ee,a4 as ae}from"./base-lib.js?v=1756369731";import{u as te,i as se,b as le,g as oe,_ as ne,c as ie,d as re,e as ce,f as ue,s as me,h as pe,j as de,k as ve,l as fe,n as ye,o as be,M as ge,p as he,q as we,t as _e,v as xe,w as ke,x as je,y as Ae,z as Be,A as Ce,r as Ie,B as Me}from"./utils-lib.js?v=1756369731";import{B as Ee}from"./index100.js?v=1756369731";import{n as Te,f as Se,p as ze,m as Pe,a as Oe}from"./validator.js?v=1756369731";import{u as Re}from"./hooks.js?v=1756369731";import{_ as De}from"./index101.js?v=1756369731";import{_ as Ne}from"./index102.js?v=1756369731";import{_ as Fe}from"./index103.js?v=1756369731";import{_ as Le}from"./index104.js?v=1756369731";import{_ as Ze}from"./index105.js?v=1756369731";import"./__commonjsHelpers__.js?v=1756369731";import"./column.js?v=1756369731";const Ve=["src"],qe=e({__name:"index",setup(e){const{pluginInfo:m}=te(),p=le(),d=a(),v=a(0),f=a();return t(()=>m.value.visible,e=>{e?f.value=p.load("正在加载插件数据，请稍候..."):f.value.close()}),s(()=>{m.value.visible&&m.value.init&&(()=>{const{id:e,name:a,built:t}=m.value;if(t)m.value.visible=!1;else{const s={pluginName:e,pluginTitle:a,pluginBuilt:t};d.value.contentWindow.postMessage("".concat(JSON.stringify(s)),"*"),"function"==typeof m.value.callback&&m.value.callback(d.value.contentWindow)}})()}),l(()=>{v.value&&clearInterval(v.value)}),o(()=>{window.addEventListener("message",async e=>{var a,t;let s=e.data;switch("string"==typeof e.data&&-1!==(null==(a=e.data)?void 0:a.indexOf("&"))&&(s=e.data.split("&")[0]),s){case"closePlugin":if(m.value.visible=!1,document.getElementById("app-container").style.position="relative",m.value.visible=!1,-1!==(null==(t=e.data)?void 0:t.indexOf("&"))){const a=e.data.split("&");let t=!1;"success"===String(a[2])&&(t=!0),p.request({status:t,msg:String(a[1])}),m.value.visible=!1}break;case"refreshMain":window.location.reload();break;case"pluginLoad":f.value.close()}}),d.value.onload=()=>{m.value.init=!0}}),(e,a)=>n((c(),u("iframe",{ref_key:"iframeRef",ref:d,src:r(se)?"/software.html":"/software",class:"w-full h-full !fixed z-999999 min-h-[45rem] top-0"},null,8,Ve)),[[i,r(m).visible]])}});const Qe=e({name:"BtTooltip",setup:(e,{attrs:a,slots:t})=>()=>{return m(d,p(a,e),"function"==typeof(s=t)||"[object Object]"===Object.prototype.toString.call(s)&&!v(s)?t:{default:()=>[t]});var s}}),Ue={class:"toolbar-right"},Ge={class:"customer-title"},Je={class:"flex border-solid border-b-1 border-[#20a53a] text-[#20a53a] justify-center items-center"},Xe={class:"qrcode-wechat w-[128px] h-[128px] mt-[8px] mb-[4px]"},Ke={id:"wechatCustomerQrcode"},He=ce(e({__name:"index",setup(e){const{panel:t}=te(),s=a(!0),l=a(!1),p=a(!1);let d=0;const v=()=>{if(p.value)return!1;clearTimeout(d),s.value=!1,l.value=!0},g=()=>!p.value&&(0!==d?(s.value=!0,l.value=!1,void(d=0)):void(d=setTimeout(()=>{s.value=!0,l.value=!1},500))),h=()=>{s.value=!0,l.value=!0,p.value=!0},w=()=>{s.value=!0,l.value=!1,setTimeout(()=>{p.value=!1},500)};return o(async()=>{if(!t.value.panelNps){const e=await oe({version:"v2",productType:0,softwareName:"panel"});e.data.nps&&e.data.safe_day>=15&&Te()}}),(e,a)=>{const t=ne,s=ie,o=re,d=Ee,_=Qe;return c(),u("div",Ue,[m(d,{placement:"left",effect:"light","popper-class":"!p-0",visible:r(l),trigger:"hover",width:"160px"},{reference:f(()=>[y("div",{class:"icon-menu",onMouseover:v,onMouseleave:g,onClick:h},[m(t,{icon:"customer-service",size:45,color:"#20a53a"})],32)]),default:f(()=>[y("div",{id:"wechat-customer",class:"wechat-customer",onMouseover:v,onMouseleave:g},[y("div",Ge,[m(s,{target:"_blank",href:"https://www.bt.cn/new/wechat_customer",class:"text-[16px] cursor-pointer flex flex-row items-center flex-nowrap"},{default:f(()=>[y("div",Je,[a[1]||(a[1]=b(" 点击咨询客服 ",-1)),m(t,{icon:"arrow",size:16,color:"#20a53a",class:"ml-[5px]"})])]),_:1})]),y("div",Xe,[y("div",Ke,[m(o,{src:"/customer/customer-qrcode.png"})])]),a[3]||(a[3]=y("div",{class:"wechat-title flex"},[y("img",{class:"w-[14px] h-[14px]",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAAAXNSR0IArs4c6QAAATlJREFUSEvtVrFOw0AMfed8AxJsZWGAgQHBXP4DCQa+Ioou7g18BRIg9T/KDGJggIGFbiDxDXGQowSBuGvrFISEmtF+7/nis312RVEMiWgIoMT375aIjpj5KeJrTMy8JSJjAPsRzEhErl1Zlhd1XZ8kRKZEdMjM0xlBBiIyATCIYZxzl857X6uTiHaY+TElZrUz87aIPCjvI0gIwVmF5uG7H1gFmZepxv85XTdqCCEcLMQ0gLz3jbbTOm/rPdkLBt0v0E77xysq2it9T2nhuTzPN4ho10KyYEXkXvvkBcC6hWjEvmqQMwCnANZa8p1RJAbfa41vAM7/0cUzczOiZ43zvunrtPVOntuO3+wrluJ12qspvFBm/+bR+u03nhPrkKZk2ZVINUZO964sy44Ta9FSK5GuQ1VVXb0DLf+sHQ9tLL0AAAAASUVORK5CYII="}),y("div",{class:"text-[14px] font-black"},"扫一扫")],-1)),a[4]||(a[4]=y("span",{class:"layui-layer-setwin wechat-close",style:{display:"block"}},[y("a",{href:"javascript:;",class:"layui-layer-ico layui-layer-close layui-layer-close2"})],-1)),n(y("div",{onClick:w,class:"absolute -top-1.5rem -right-1.5rem z-999 w-[3rem] h-3rem rounded-1/2 cursor-pointer"},[...a[2]||(a[2]=[y("div",{"data-v-48b1409d":"",class:"absolute w-[3rem] h-3rem top-0 left-0 origin-center close-popup-btn"},null,-1)])],512),[[i,r(p)]])],32)]),_:1},8,["visible"]),m(_,{effect:"dark",content:"点击打开调查问卷",placement:"left",enterable:!1},{default:f(()=>[y("div",{class:"icon-menu",onClick:a[0]||(a[0]=(...e)=>r(Te)&&r(Te)(...e))},[m(t,{icon:"evaluation-feedback",size:45,color:"#20a53a"})])]),_:1})])}}}),[["__scopeId","data-v-ee56a5ad"]]);const We=e({name:"BtContainer",setup:(e,{attrs:a,slots:t})=>()=>{return m(g,a,"function"==typeof(e=t)||"[object Object]"===Object.prototype.toString.call(e)&&!v(e)?t:{default:()=>[t]});var e}});const Ye=e({name:"BtAside",setup:(e,{attrs:a,slots:t})=>()=>{return m(h,p(e,a),"function"==typeof(s=t)||"[object Object]"===Object.prototype.toString.call(s)&&!v(s)?t:{default:()=>[t]});var s}}),$e=w(()=>{var e;return(null==(e=_())?void 0:e.path)||""}),{title:ea,panel:aa,robserver:ta,layoutBody:sa,mainWidth:la,mainHeight:oa,updateTaskCount:na,mountMessage:ia,forceLtd:ra,payment:ca,aliyunEcsLtd:ua,globalTheme:ma}=te(),pa=()=>{ta.value&&ta.value.disconnect&&(ta.value.disconnect(),ta.value=null)},da=()=>Re({vue:{defineComponent:e,version:A},components:{BtDialog:pe,BtInput:de,BtLink:ie,BtInputIcon:De,BtSvgIcon:Ne,BtTable:ve,BtTableGroup:Fe,ElButton:B,ElCard:C,ElAlert:I,ElForm:M,ElFormItem:E,ElDropdownItem:T,ElDropdownMenu:S,ElDropdown:z,ElTooltip:d,ElIcon:P,ElPopover:O,ElTable:R,ElInput:D,ElTableColumn:N,BtDivider:Le,BtImage:re,ElSelect:F,ElOption:L},hooks:{useMessage:le,useDialog:fe,useAxios:ye,useConfirm:be,Message:ge,isUndefined:he,inputFocus:we,rsaEncrypt:_e,isDev:se},utils:{getByteUnit:xe,getRandomPwd:ke},dialog:{fileSelectionDialog:Se},vueMethods:{ref:a,unref:r,reactive:Z,watch:t,computed:w,onMounted:o,onBeforeUnmount:l}}),va=()=>{const{msgBoxTaskCount:e}=x(aa.value);t(ea,e=>k(e)),t(e,na),t(ma,e=>{const a=document.documentElement;if(e&&e.show_main_bg_images?(a.style.setProperty("--layout-body-bg-image","url(".concat(e.main_bg_images,")")),a.style.setProperty("--layout-body-bg-image-opacity","".concat(e.main_bg_images_opacity,"%")),a.style.setProperty("--el-fill-color-blank","rgba(255, 255, 255, var(".concat(e.main_content_opacity/100,")) !important"))):(a.style.removeProperty("--layout-body-bg-image"),a.style.removeProperty("--layout-body-bg-image-opacity"),a.style.removeProperty("--el-fill-color-blank")),a.style.setProperty("--bg-opacity","".concat(e.main_content_opacity/100)),a.style.setProperty("--menu-global-opacity","".concat(e.menu_bg_opacity/100)),a.style.setProperty("--home-state-font-size","".concat(e.home_state_font_size,"px")),e.main_shadow_color&&void 0!==e.main_shadow_opacity){const t=e.main_shadow_opacity/100;a.style.setProperty("--main-shadow","".concat(Ae(e.main_shadow_color,t)))}},{immediate:!0,deep:!0}),t(ua,e=>{e&&"ltd"!==ca.value.authType&&ze({compulsionLtd:!0,showClose:!1,disableEsc:!0})},{immediate:!0}),k(ea),setTimeout(()=>{je({request:async()=>{try{"/waf"!==$e.value&&await Be()}catch(e){await be({title:"登录验证已失效",content:"当前面板登录验证已失效，确认后重新登录",showClose:!1}),window.location.href="/login"}},timeout:6e5})},6e5),ue(),me(window.vite_public_icon_info.theme_color||"#3c444d"),ta.value=j(sa,e=>{const a=e[0],{height:t}=a.contentRect,s=document.getElementById("layout-footer"),l=null==s?void 0:s.getBoundingClientRect(),o=(null==l?void 0:l.height)||0,n=(null==l?void 0:l.width)||0,i=document.getElementById("layout-main"),r=null==i?void 0:i.getBoundingClientRect(),c=(null==r?void 0:r.width)||0;la.value=(n||c)-32,oa.value=parseInt("".concat(t-o-30),10)}),ia(),window.$extension=da},fa={key:0,id:"layout-footer",class:"flex items-center items-end w-full h-[30px] mb-[14px] text-[#333] justify-center relative z-90 mt-[14px]"},ya={class:"mr-[8px] text-[#787A79]"},ba={class:"flex bt-link-info items-center"},ga={class:"w-full flex items-center justify-center"},ha={class:"flex bt-link-info items-center"},wa={class:"w-full flex items-center justify-center"},_a=ce(e({__name:"footer",setup(e){const a=_(),t=w(()=>!a.path.includes("waf")),{vite_public_brand:s,vite_public_product:l,vite_public_year:o}=window;return(e,a)=>{const n=Le,i=Ze,p=ie,d=re,v=Ee;return r(t)?(c(),u("footer",fa,[y("span",ya,V(r(s))+V(r(l))+"©2014-"+V(r(o))+" 广东堡塔安全技术有限公司 (bt.cn)",1),m(n),m(p,{class:"bt-link-info",href:"http://www.bt.cn/bbs"},{default:f(()=>[m(i,{name:"tools-help",size:"14",class:"mr-[.2rem]",color:"#20a53a"}),a[0]||(a[0]=y("span",null,"论坛求助",-1))]),_:1}),m(n),m(p,{class:"bt-link-info",href:"https://docs.bt.cn"},{default:f(()=>[m(i,{name:"tools-manual",size:"14",class:"mr-[.2rem]"}),a[1]||(a[1]=y("span",null,"使用手册",-1))]),_:1}),m(n),m(v,{placement:"top-start","popper-class":"white-tips-popover",width:"160",trigger:"hover"},{reference:f(()=>[y("span",ba,[m(i,{name:"tools-wechat",size:"14",class:"mr-[.2rem]"}),a[2]||(a[2]=y("span",null,"微信公众号",-1))])]),default:f(()=>[y("div",ga,[m(d,{src:"/other/bt_wx.jpg"})])]),_:1}),m(n),m(p,{class:"bt-link-info",href:"https://www.bt.cn/auth"},{default:f(()=>[m(i,{name:"tools-check",size:"14",class:"mr-[.2rem]"}),a[3]||(a[3]=y("span",null,"正版查询",-1))]),_:1}),m(n),m(v,{placement:"top-start","popper-class":"white-tips-popover",width:"160",trigger:"hover"},{reference:f(()=>[y("span",ha,[m(i,{name:"tools-customer",size:"14",class:"mr-[.2rem]"}),a[4]||(a[4]=y("span",null,"联系人工客服",-1))])]),default:f(()=>[y("div",wa,[m(d,{src:"/other/customer-qrcode.png",class:"w-[150px]"})])]),_:1})])):q("",!0)}}}),[["__scopeId","data-v-d4eaaab6"]]),xa=ce(e({__name:"main",setup(e){const{mainHeight:a}=te();return _(),(e,t)=>{const s=Q("router-view");return c(),u("section",{id:"layout-main",class:"w-full",style:X({"min-height":r(a)+"px"})},[m(s,null,{default:f(({Component:e})=>[m(U,{class:"animate-animated",name:"fade",mode:"out-in"},{default:f(()=>[(c(),G(J(e)))]),_:2},1024)]),_:1})],4)}}}),[["__scopeId","data-v-d1983ed3"]]);const ka=e({name:"BtScrollbar",props:{...K},setup:(e,{attrs:a,slots:t})=>()=>{return m(H,p(e,a),"function"==typeof(s=t)||"[object Object]"===Object.prototype.toString.call(s)&&!v(s)?t:{default:()=>[t]});var s}}),{disableSidebar:ja,serverIp:Aa,menuControl:Ba,cutCollapseView:Ca}=te(),Ia=()=>{ja.value||Pe()},Ma=async()=>{Ce({value:Aa.value})},Ea=e=>Ie.currentRoute.value.path.split("/")[1]===e.name,Ta=e=>{Ba.value.menuName=e},Sa=e=>{Ba.value.menuName=""},za=e=>Ea(e)?"is-active":"",Pa=async()=>{try{await be({icon:"warning-filled",title:"退出登录",content:"退出面板登录，是否继续？"}),setTimeout(()=>{window.location.href="/login?dologin=True"},400)}catch(e){}},Oa=async()=>{ja.value||Oe()},Ra=async()=>{var e;if(Ca(),!Ie.currentRoute.value.path.includes("/waf"))return;const a=document.getElementById("ifrramApp");a&&(null==(e=a.contentWindow)||e.check_shrink(Ba.value.collapse))},Da={class:"sidebar"},Na={class:"flex-shrink-0"},Fa=["src"],La={class:"flex-1 overflow-y-auto overflow-hidden"},Za={class:"relative h-full"},Va=["onMouseenter","onMouseleave"],qa=["href","onClick"],Qa={class:"flex-shrink-0"},Ua={class:"cursor-pointer"},Ga={class:"cursor-pointer"},Ja=ce(e({__name:"index",setup(e){const{menuControl:a,panel:t,serverIp:s,messageNumberStyle:l,messageIpNumberLength:o,menuControlIcon:n,menuCollapseMouseleave:i,menuCollapseMouseenter:p,cutMenuRouter:d,menuLogo:v}=te();return(e,b)=>{const g=We,h=Ze,w=ka,_=ne,x=Qe;return c(),u("section",Da,[y("div",Na,[m(g,{class:W(["layout-message",r(a).collapse?"!justify-center":"!justify-start"])},{default:f(()=>[y("img",{src:r(v),alt:"logo-white",class:W("w-[2rem] "+(r(a).collapse?"":"mr-[.4rem]"))},null,10,Fa),r(a).collapse?q("",!0):(c(),u("div",{key:0,class:W(["flex leading-normal truncate font-600 w-[15rem]",r(o)>=11?"text-[12px]":"text-[14px]"]),title:"双击可复制IP",onDblclick:b[0]||(b[0]=(...e)=>r(Ma)&&r(Ma)(...e))},V(r(t).sidebarTitle||r(s)),35)),y("div",{class:W(r(l)),onClick:b[1]||(b[1]=(...e)=>r(Ia)&&r(Ia)(...e))},V(r(t).msgBoxTaskCount),3)]),_:1},8,["class"])]),y("div",La,[y("div",Za,[m(w,null,{default:f(()=>[y("ul",{class:W(["bt-menu",{"is-cut-menu":r(a).collapse,"hover-menu-bg":r(a).mouserover}])},[(c(!0),u(Y,null,$(r(Me),e=>(c(),u(Y,{key:e.path},["dologin"!=e.name&&e.show?(c(),u("li",{key:0,class:W(["menu-item","menu-".concat(String(e.name))]),onMouseenter:a=>r(Ta)(e.name),onMouseleave:a=>r(Sa)(e.name)},[(c(),u("a",{key:e.path,href:e.path,class:W(r(za)(e)),onClick:ee(a=>r(d)(e.path),["prevent"])},[m(h,{name:"menu-"+(r(Ea)(e)||r(a).menuName===e.name?e.name+"-active":e.name),color:"#fff",size:"21"},null,8,["name"]),y("span",null,V(e.title),1)],10,qa))],42,Va)):q("",!0)],64))),128)),y("li",{class:"menu-item menu-exit",onClick:b[4]||(b[4]=(...e)=>r(Pa)&&r(Pa)(...e))},[y("a",{href:"javascript:;",onMouseenter:b[2]||(b[2]=e=>r(Ta)("dologin")),onMouseleave:b[3]||(b[3]=e=>r(Sa)("dologin"))},[m(h,{name:"menu-exit"+("dologin"===r(a).menuName?"-active":""),size:"22"},null,8,["name"]),b[9]||(b[9]=y("span",null,"退出",-1))],32)])],2)]),_:1})])]),y("div",Qa,[y("div",{class:W(["menu-toolbar",{"justify-between":!r(a).collapse}])},[y("div",Ua,[m(x,{class:"item",effect:"dark",content:"点击伸缩菜单栏",placement:"top",enterable:!1},{default:f(()=>[y("div",{class:"setting-hover",onClick:b[5]||(b[5]=(...e)=>r(Ra)&&r(Ra)(...e)),onMouseleave:b[6]||(b[6]=(...e)=>r(i)&&r(i)(...e)),onMouseenter:b[7]||(b[7]=(...e)=>r(p)&&r(p)(...e))},[m(_,{icon:r(n)?"display-menu":"shrink-menu"},null,8,["icon"])],32)]),_:1})]),y("div",Ga,[r(a).collapse?q("",!0):(c(),G(x,{key:0,class:"item",effect:"dark",content:"点击设置菜单显示隐藏",placement:"top",enterable:!1},{default:f(()=>[y("div",{class:"setting-hover",onClick:b[8]||(b[8]=(...e)=>r(Oa)&&r(Oa)(...e))},[m(_,{icon:"menu-setting"})])]),_:1}))])],2)])])}}}),[["__scopeId","data-v-5d8b732a"]]),Xa={class:"h-full"},Ka=ce(e({__name:"index",setup(e){const{layoutSidebarStyle:a,layoutBodyStyle:t,panel:s,layoutBody:l,menuCollapseMouseenter:p,menuCollapseMouseleave:d}=te(),v=_(),{BtFps:y}={BtFps:m("span",null,null)};return o(va),ae(pa),(e,o)=>{const b=Ye,g=We,h=He,w=qe;return c(),u("div",Xa,[m(g,{id:"app-container",class:"h-full"},{default:f(()=>[m(b,{width:"auto",class:W(["h-full layout-left-menu",r(a)]),onMouseenter:r(p),onMouseleave:r(d)},{default:f(()=>[m(Ja)]),_:1},8,["class","onMouseenter","onMouseleave"]),m(g,{id:"layout-body",ref_key:"layoutBody",ref:l,class:W(r(t))},{default:f(()=>[m(xa),m(_a)]),_:1},8,["class"]),n(m(h,null,null,512),[[i,r(s).isShowCustomer]])]),_:1}),r(v).path.includes("bind")?q("",!0):(c(),G(w,{key:0})),m(r(y))])}}}),[["__scopeId","data-v-e3278f47"]]);export{Ka as default};
