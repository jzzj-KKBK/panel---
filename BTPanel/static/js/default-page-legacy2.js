!function(){function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(e){if("string"==typeof e)return t(e,n);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function n(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,a="function"==typeof Symbol?Symbol:{},u=a.iterator||"@@iterator",o=a.toStringTag||"@@toStringTag";function l(n,a,u,o){var l=a&&a.prototype instanceof c?a:c,f=Object.create(l.prototype);return r(f,"_invoke",function(n,r,a){var u,o,l,c=0,f=a||[],s=!1,v={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return u=t,o=0,l=e,v.n=n,i}};function p(n,r){for(o=n,l=r,t=0;!s&&c&&!a&&t<f.length;t++){var a,u=f[t],p=v.p,d=u[2];n>3?(a=d===r)&&(l=u[(o=u[4])?5:(o=3,3)],u[4]=u[5]=e):u[0]<=p&&((a=n<2&&p<u[1])?(o=0,v.v=r,v.n=u[1]):p<d&&(a=n<3||u[0]>r||r>d)&&(u[4]=n,u[5]=r,v.n=d,o=0))}if(a||n>1)return i;throw s=!0,r}return function(a,f,d){if(c>1)throw TypeError("Generator is already running");for(s&&1===f&&p(f,d),o=f,l=d;(t=o<2?e:l)||!s;){u||(o?o<3?(o>1&&(v.n=-1),p(o,l)):v.n=l:v.v=l);try{if(c=2,u){if(o||(a="next"),t=u[a]){if(!(t=t.call(u,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,o<2&&(o=0)}else 1===o&&(t=u.return)&&t.call(u),o<2&&(l=TypeError("The iterator does not provide a '"+a+"' method"),o=1);u=e}else if((t=(s=v.n<0)?l:n.call(r,v))!==i)break}catch(t){u=e,o=1,l=t}finally{c=1}}return{value:t,done:s}}}(n,u,o),!0),f}var i={};function c(){}function f(){}function s(){}t=Object.getPrototypeOf;var v=[][u]?t(t([][u]())):(r(t={},u,function(){return this}),t),p=s.prototype=c.prototype=Object.create(v);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,r(e,o,"GeneratorFunction")),e.prototype=Object.create(p),e}return f.prototype=s,r(p,"constructor",s),r(s,"constructor",f),f.displayName="GeneratorFunction",r(s,o,"GeneratorFunction"),r(p),r(p,o,"Generator"),r(p,u,function(){return this}),r(p,"toString",function(){return"[object Generator]"}),(n=function(){return{w:l,m:d}})()}function r(e,t,n,a){var u=Object.defineProperty;try{u({},"",{})}catch(e){u=0}r=function(e,t,n,a){function o(t,n){r(e,t,function(e){return this._invoke(t,n,e)})}t?u?u(e,t,{value:n,enumerable:!a,configurable:!a,writable:!a}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},r(e,t,n,a)}function a(e,t,n,r,a,u,o){try{var l=e[u](o),i=l.value}catch(e){return void n(e)}l.done?t(i):Promise.resolve(i).then(r,a)}function u(e){return function(){var t=this,n=arguments;return new Promise(function(r,u){var o=e.apply(t,n);function l(e){a(o,r,u,l,i,"next",e)}function i(e){a(o,r,u,l,i,"throw",e)}l(void 0)})}}System.register(["./base-lib-legacy.js?v=1756369731","./index-legacy140.js?v=1756369731","./utils-lib-legacy.js?v=1756369731","./site-legacy.js?v=1756369731","./useStore-legacy4.js?v=1756369731","./__commonjsHelpers__-legacy.js?v=1756369731","./ace-legacy.js?v=1756369731"],function(t,r){"use strict";var a,o,l,i,c,f,s,v,p,d,m,y,h,w,b,g,j,_,x,S,V,C,O,G,k,A,E,T,B,F;return{setters:[function(e){a=e.c,o=e.r,l=e.G,i=e.q,c=e.v,f=e.e,s=e.A,v=e.x,p=e.P,d=e.y,m=e.B,y=e.C,h=e.F,w=e.a_,b=e.M,g=e.H,j=e.aA,_=e.T,x=e.ai,S=e.aj,V=e.D},function(e){C=e.B},function(e){O=e.u,G=e.K,k=e.al,A=e.b},function(e){E=e.getFileBody,T=e.getErrorConfig,B=e.setErrorConfig},function(e){F=e.S},null,null],execute:function(){var r={class:"flex flex-col"},P={class:"flex items-center justify-between mb-[8px]"},U={key:0},q={class:"h-[44rem] w-full"};t("default",a({__name:"default-page",setup:function(t,a){var D=a.expose,I=F().saveFileEvent,z=A(),H=O().plugin.value.webserver,K=o("/www/server/panel/data/defaultDoc.html"),M=o(""),N=o(),R=o("utf-8"),$=o(["utf-8","GBK","GB2312","BIG5"]),J=o(!1),L=o(!1),Q=function(){var e=u(n().m(function e(){var t,r;return n().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,L.value=!0,e.n=1,E({path:K.value});case 1:t=e.v,r=t.data,M.value=r.data,R.value=r.encoding||"utf-8",L.value=!1,e.n=3;break;case 2:e.p=2,e.v;case 3:return e.a(2)}},e,null,[[0,2]])}));return function(){return e.apply(this,arguments)}}(),W=function(){var e=u(n().m(function e(t){return n().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,L.value=!0,K.value=t,e.n=1,Q();case 1:"/www/server/panel/data/404.html"===t&&X(),L.value=!1,e.n=3;break;case 2:e.p=2,e.v;case 3:return e.p=3,L.value=!1,e.f(3);case 4:return e.a(2)}},e,null,[[0,2,3,4]])}));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=u(n().m(function e(){var t,r;return n().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,G({request:T(),data:{status:String}});case 1:t=e.v,r=t.status,J.value=Boolean(Number(r));case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),Y=function(e){G({loading:"正在设置，请稍后...",request:B({status:e?1:0}),message:!0})},Z=function(){var e=u(n().m(function e(){var t;return n().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,I({path:K.value,data:M.value,encoding:R.value});case 1:t=e.v,z.request(t);case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}();return D({onRefresh:function(){K.value="/www/server/panel/data/defaultDoc.html",Q()}}),function(t,n){var a=j,u=k,o=_,O=x,G=S,A=C,E=V,T=l("bt-loading");return i(),c("div",r,[f(u,{type:"card",modelValue:v(K),"onUpdate:modelValue":n[0]||(n[0]=function(e){return p(K)?K.value=e:null}),onChange:W},{default:s(function(){return[f(a,{label:"新建网站默认页面",name:"/www/server/panel/data/defaultDoc.html"}),f(a,{label:"404错误页",name:"/www/server/panel/data/404.html",lazy:!0}),f(a,{label:"网站不存在页",name:"/www/server/"+v(H)+"/"+("nginx"===v(H)?"html":"htdocs")+"/index.html",lazy:!0},null,8,["name"]),f(a,{label:"网站停用后的提示页",name:"/www/server/stop/index.html",lazy:!0})]}),_:1},8,["modelValue"]),d("div",P,["/www/server/panel/data/404.html"===v(K)?(i(),c("div",U,[f(o,{modelValue:v(J),"onUpdate:modelValue":n[1]||(n[1]=function(e){return p(J)?J.value=e:null}),onChange:Y},{default:s(function(){return e(n[4]||(n[4]=[m("开启404错误页设置",-1)]))}),_:1},8,["modelValue"])])):y("",!0),n[5]||(n[5]=m(" 提示：Ctrl+F 搜索关键字，Ctrl+S 保存，Ctrl+H 查找替换 ",-1)),f(G,{class:"!w-[16rem]",modelValue:v(R),"onUpdate:modelValue":n[2]||(n[2]=function(e){return p(R)?R.value=e:null}),onChange:Z},{default:s(function(){return[(i(!0),c(h,null,w(v($),function(e){return i(),b(O,{key:e,value:e,label:e},null,8,["value","label"])}),128))]}),_:1},8,["modelValue"])]),g((i(),c("div",q,[f(A,{ref_key:"aceEditor",ref:N,"file-path":v(K),modelValue:v(M),"onUpdate:modelValue":n[3]||(n[3]=function(e){return p(M)?M.value=e:null}),onSave:Z,class:"h-[40rem] w-full"},null,8,["file-path","modelValue"]),f(E,{class:"flex !mt-[12px]",type:"primary",onClick:Z},{default:s(function(){return e(n[6]||(n[6]=[m("保存",-1)]))}),_:1})])),[[T,v(L)]])])}}}))}}})}();
