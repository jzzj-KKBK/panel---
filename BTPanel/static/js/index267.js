import{c as e,s as a,g as l,p as s,a4 as t,G as o,q as n,v as r,x as m,M as i,A as d,e as u,B as p,y as f,z as c,F as g,C as h,H as x,ag as b,a9 as y,a7 as v,R as _}from"./base-lib.js?v=1756369731";import{_ as j}from"./index103.js?v=1756369731";import{v as V,R as C,j as k,k as R}from"./utils-lib.js?v=1756369731";import{aN as D}from"./store.js?v=1756369731";import"./__commonjsHelpers__.js?v=1756369731";import"./files.js?v=1756369731";import"./validator.js?v=1756369731";import"./index104.js?v=1756369731";import"./column.js?v=1756369731";import"./store2.js?v=1756369731";import"./index101.js?v=1756369731";const F={class:"p-20px"},U={key:0,class:"flex flex-col"},w={class:"flex items-center"},z={class:"leading-8 text-[1.4rem]"},A={key:0,class:"text-danger"},S={class:"flex items-center h-[4.8rem] mt-4 pl-[1.2rem] text-[1.4rem] bg-#f5f5f5"},T={class:"mx-[1rem]"},q=e({__name:"index",setup(e,{expose:q}){const H=D(),{compData:N,fileTabActiveData:B,sitesPath:E,overlayFormRef:G,overlayForm:L,tableLoading:M,quickRules:P,calcData:$,tableColumns:I,tableData:J}=a(H),{handleSelectionChange:K,watchType:O,onConfirm:Q,init:W,$reset:X}=H,Y=l(()=>B.value.param.path===E.value);return s(async()=>{W()}),t(()=>{X()}),q({onConfirm:Q}),(e,a)=>{const l=b,s=y,t=k,D=v,q=R,H=j,B=_,E=o("bt-loading"),Q=o("focus");return n(),r("div",F,["single"===m(N).type?(n(),i(D,{key:0,ref_key:"overlayFormRef",ref:G,model:m(L),rules:m(P)},{default:d(()=>[u(s,{label:"操作类型"},{default:d(()=>[u(l,{modelValue:m(L).type,"onUpdate:modelValue":a[0]||(a[0]=e=>m(L).type=e),label:"over",onChange:m(O)},{default:d(()=>[...a[4]||(a[4]=[p("覆盖文件",-1)])]),_:1},8,["modelValue","onChange"]),u(l,{modelValue:m(L).type,"onUpdate:modelValue":a[1]||(a[1]=e=>m(L).type=e),label:"rename",onChange:m(O)},{default:d(()=>[...a[5]||(a[5]=[p("重命名文件",-1)])]),_:1},8,["modelValue","onChange"])]),_:1}),u(s,{label:"文件名",prop:"filename"},{default:d(()=>[u(t,{modelValue:m(L).filename,"onUpdate:modelValue":a[2]||(a[2]=e=>m(L).filename=e),disabled:"over"===m(L).type,width:"24rem"},null,8,["modelValue","disabled"])]),_:1}),u(s,{label:"大小"},{default:d(()=>[f("span",null,c(m(L).is_dir?"--":m(V)(m(L).size)),1)]),_:1}),u(s,{label:"最后修改时间"},{default:d(()=>[p(c(m(C)(Number(m(L).mtime))),1)]),_:1})]),_:1},8,["model","rules"])):(n(),r(g,{key:1},["batch"===m(N).type?(n(),r("div",U,[f("div",w,[a[9]||(a[9]=f("i",{class:"svgtofont-el-warning text-[#F0AD4E] text-[4rem] mr-8px"},null,-1)),f("span",z,[a[6]||(a[6]=p("以下目标文件名称与源文件相同，点击确定后勾选文件将跳过，",-1)),a[7]||(a[7]=f("span",{class:"text-danger"}," 未勾选文件将会被覆盖，",-1)),m(Y)?(n(),r("span",A," 当前目录为建站目录，")):h("",!0),a[8]||(a[8]=p(" 请确认后继续",-1))])]),u(H,null,{"header-left":d(()=>[...a[10]||(a[10]=[])]),"header-right":d(()=>[...a[11]||(a[11]=[])]),content:d(()=>[x(u(q,{onSelectionChange:m(K),column:m(I),data:m(J),ref:"overlayTableRef","max-height":300},null,8,["onSelectionChange","column","data"]),[[E,m(M)]])]),"footer-left":d(()=>[...a[12]||(a[12]=[])]),"footer-right":d(()=>[...a[13]||(a[13]=[])]),popup:d(()=>[...a[14]||(a[14]=[])]),_:1}),f("div",null,[f("div",S,[a[15]||(a[15]=f("span",null,"计算结果：",-1)),f("span",T,c(m($).addend1)+" + "+c(m($).addend2),1),a[16]||(a[16]=f("span",{class:"mr-[1rem]"},"=",-1)),x(u(B,{modelValue:m($).sum,"onUpdate:modelValue":a[3]||(a[3]=e=>m($).sum=e),autofocus:"true","controls-position":"right",size:"small"},null,8,["modelValue"]),[[Q]])])])])):h("",!0)],64))])}}});export{q as default};
