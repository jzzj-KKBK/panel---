import{c as e,s as a,ay as s,g as r,e as o,B as t,H as l,bx as i,ax as p,D as m,p as u,q as n,v as c,x as d}from"./base-lib.js?v=1756369731";import{G as v,j}from"./utils-lib.js?v=1756369731";import{b as g,k as h,a as f,h as x}from"./form-item.js?v=1756369731";import{i as b,j as w,k as C,l as M,m as _,n as k}from"./index200.js?v=1756369731";import"./__commonjsHelpers__.js?v=1756369731";import"./index104.js?v=1756369731";import"./index103.js?v=1756369731";import"./column.js?v=1756369731";import"./useController4.js?v=1756369731";import"./validator.js?v=1756369731";import"./useController5.js?v=1756369731";import"./site.js?v=1756369731";import"./useStore4.js?v=1756369731";import"./useController6.js?v=1756369731";import"./useMethod5.js?v=1756369731";const y={class:"p-[2rem] max-h-[60rem] overflow-auto"},X=e({__name:"java-form",setup(e,{expose:X}){const q=b(),{versionOptions:F,popoverFocus:B,isEdit:H}=a(q),U=s("popupClose",()=>{}),{BtForm:V,submit:z,param:D}=v({data:w,options:e=>r(()=>[g("名称","name",{attrs:{class:"!w-[320px]",placeholder:"请输入环境名称",disabled:H.value},rules:[{required:!0,message:"请输入环境名称",trigger:"blur"}]}),h("版本","version",F.value,{attrs:{class:"!w-[22rem]",disabled:H.value},rules:[{required:!0,message:"请选择Java版本",trigger:"change"}]}),f("运行目录","path",{attrs:{class:"!w-[320px]",placeholder:"请选择运行目录"},rules:[{required:!0,message:"请选择运行目录",trigger:"change"}],icon:"icon-file_mode",iconClick:()=>{C(e)}}),x("启动命令",()=>o(p,{ref:"javapopover",placement:"top-start","popper-class":"green-tips-popover !p-0",title:"",width:"440",visible:B.value,"onUpdate:visible":e=>B.value=e,"trigger-keys":[],trigger:"focus"},{default:()=>o("div",{class:"!p-[12px] bg-[#20a53a] text-white"},[t("请填写完整启动命令，如：java -jar halo.jar -Xmx1024M -Xms256M")]),reference:()=>l(o(j,{modelValue:e.value.command,"onUpdate:modelValue":a=>e.value.command=a,type:"textarea",width:"52rem",rows:7,resize:"none",onFocus:()=>{B.value=!0},placeholder:"请填写完整启动命令，如：java -jar halo.jar -Xmx1024M -Xms256M"},null),[[i,"javapopover"]])}),"command",{attrs:{class:"!w-[52rem]"},rules:[{required:!0,message:"请填写完整启动命令，如：java -jar halo.jar -Xmx1024M -Xms256M",trigger:"change"}]}),...e.value.port&&e.value.port.length>0?[M(e.value.port),x(" ",()=>o(m,{type:"default",onClick:()=>{e.value.port.push({server:"",con:"",output:!1,protocol:["tcp"],id:1})}},{default:()=>[t("添加")]}))]:[x("端口",()=>o(m,{type:"default",onClick:()=>{e.value.port.push({server:"",con:"",output:!1,protocol:["tcp"],id:1e3*Math.random()})}},{default:()=>[t("添加")]}))]]),submit:async(e,a,s)=>{await a(),_(e.value,U)}});return u(()=>{k(D)}),X({onConfirm:z}),(e,a)=>(n(),c("div",y,[o(d(V))]))}});export{X as default};
